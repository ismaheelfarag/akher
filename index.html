<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة الاختبارات الإلكترونية - نظام إدارة الدرجات</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <link rel="icon" href="images (1).jpeg" type="image/png">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo+Play:wght@200..1000&family=Lalezar&display=swap" rel="stylesheet">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
    --primary: #0a70ff; /* أزرق فاتح */
    --primary-light: #0a70ff; /* أزرق أفتح */
    --secondary: #0a70ff; /* رمادي مزرق */
    --accent: #ffffff; /* وردي فاتح */
    --dark: #2C3E50; /* أزرق داكن */
    --light: #F5F7FA; /* خلفية فاتحة */
    --success: #14ee88; /* أخضر فاتح */
    --danger: #FC5C65; /* أحمر فاتح */
    --warning: #FFCE54; /* أصفر فاتح */
    --gray: #AAB2BD; /* رمادي فاتح */
    --text: #656D78; /* لون النص الرئيسي */
    --card-bg: #ffffff; /* خلفية البطاقات */
}

.slide-card-body {
    padding: 20px;
    background-color: #0a70ff;
    color: #333; /* لون النص */
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}
body {
    font-family: 'Tajawal', sans-serif;
    font-size: 16px;
    line-height: 1.7;
    color: #555;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
}

header, footer {
    width: 100%;
    text-align: center;
}
/* تصميم بطاقة الاختبار */
.exam-card {
    background-color: #ffffff; /* خلفية بيضاء */
    border-radius: 15px; /* حواف مستديرة */
    overflow: hidden;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1); /* ظل خفيف */
    transition: all 0.3s ease; /* تأثير عند التحويم */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    border: 1px solid #e0e0e0; /* لون الحدود */
}

.exam-card:hover {
    transform: translateY(-5px); /* رفع البطاقة عند التحويم */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); /* زيادة الظل */
}

.exam-card-header {
    background: linear-gradient(135deg, #a73106, #ff6347); /* تدرج لوني برتقالي */
    color: white;
    padding: 20px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
}

.exam-card-body {
    padding: 20px;
    color: #333; /* لون النص */
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.exam-card-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background-color: #0d7ef7; /* خلفية رمادية فاتحة */
    border-top: 1px solid #0d7ef7;
    font-size: 0.9rem;
    color: #ffffff; /* لون النص */
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: #2994ff; /* خلفية خفيفة */
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* ظل خفيف */
    font-weight: 500;
}

.meta-item i {
    color: #ff6347; /* لون الأيقونات */
    font-size: 1.1rem;
}

.exam-card-footer {
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f7f7f7; /* خلفية فاتحة */
    border-top: 1px solid #eee;
}

.exam-card-footer .btn {
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.exam-card-footer .btn-primary {
    background-color: #ff6347; /* لون برتقالي */
    color: white;
    border: none;
}

.exam-card-footer .btn-primary:hover {
    background-color: #e5533d; /* لون برتقالي أغمق */
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.exam-card-footer .btn-outline {
    background-color: transparent;
    border: 2px solid #ff6347; /* لون برتقالي */
    color: #ff6347;
}

.exam-card-footer .btn-outline:hover {
    background-color: #ff6347;
    color: white;
}
.btn-primary {
    background-color: var(--primary);
    box-shadow: 0 4px 6px rgba(93, 156, 236, 0.2);
}

.btn-primary:hover {
    background-color: #4A89DC;
    transform: translateY(-2px);
    box-shadow: 0 7px 14px rgba(93, 156, 236, 0.25);
}

.btn-outline {
    border: 2px solid var(--primary);
    color: var(--primary);
    background: transparent;
}

.btn-outline:hover {
    background-color: var(--primary);
    color: white;
}

.sidebar {
    background-color: var(--card-bg);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.sidebar-menu a:hover, .sidebar-menu a.active {
    background-color: rgba(93, 156, 236, 0.1);
    color: var(--primary);
}

.content-area {
    background-color: var(--card-bg);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.page-title {
    color: var(--dark);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    padding-bottom: 0.75rem;
}

.alert-success {
    background-color: rgba(72, 207, 173, 0.1);
    border-color: var(--success);
    color: #37BC9B;
}

.alert-danger {
    background-color: rgba(252, 92, 101, 0.1);
    border-color: var(--danger);
    color: #f82606;
}
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideInLeft {
    from {
        transform: translateX(-100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideInRight {
    from {
        transform: translateX(100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}
/* تحسينات للشرائح */
.slide-card-body {
    padding: 1.25rem;
    color: var(--text);
    line-height: 1.8;
}

.slide-card-footer {
    background-color: rgba(245, 247, 250, 0.7);
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    color: var(--gray);
}

/* تحسينات للأزرار */
.btn {
    font-weight: 600;
    letter-spacing: 0.5px;
    transition: all 0.3s ease;
}

/* تحسينات للجدول */
.grades-table th {
    background-color: rgba(245, 247, 250, 0.7);
    color: var(--dark);
}

.grades-table tr:hover {
    background-color: rgba(255, 255, 255, 0.5);
}

/* تحسينات للشريط الجانبي */
.sidebar-menu a {
    padding: 0.75rem 1rem;
    color: var(--text);
    border-radius: 8px;
    margin-bottom: 0.5rem;
}

/* تحسينات للوقت المتبقي في الاختبار */
#timeRemaining {
    font-weight: 700;
    color: var(--primary);
}

/* تحسينات للنتائج */
.results-score {
    color: var(--primary);
    text-shadow: 0 3px 6px rgba(93, 156, 236, 0.2);
}

/* تحسينات للخيارات في الاختبار */
.option-label:hover {
    border-color: var(--primary);
    background-color: rgba(93, 156, 236, 0.05);
}

.option-label.selected {
    background-color: rgba(93, 156, 236, 0.1);
    border-color: var(--primary);
}

/* تحسينات للشعار */
.logo {
font-family: "Lalezar", system-ui;
font-weight: 400;
font-style: normal;
font-size: 1.8rem; /* حجم الخط */
font-weight: 700; /* وزن الخط */
color: rgb(255, 255, 255); /* لون النص */
}

.logo i {
    color: var(--accent);
}

/* تحسينات للشكل العام */
.container {
    max-width: 1200px;
    padding: 0 20px;
}
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.3s ease-in-out;
}

.modal-title {
    font-size: 1.8rem;
    font-weight: bold;
    color: #ff4444;
    margin-bottom: 15px;
}

.modal-message {
    font-size: 1rem;
    margin-bottom: 20px;
    color: #333;
}

.modal-footer .btn {
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 5px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.modal-footer .btn:hover {
    background-color: #0056b3;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
/* تحسينات للهواتف */
@media (max-width: 768px) {
    .exams-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .exam-card, .slide-card {
        border-radius: 10px;
    }
}

        body {
    font-family: 'Tajawal', sans-serif;
    font-size: 16px;
    line-height: 1.7;
    color: #555;
}

h1, h2, h3, h4 {
    font-weight: 600;
    color: #2C3E50;
}
.btn.btn-primary.dropdown-toggle { 
    color:#008dc5;
    background-color: #ffffff; /* Added background color */
}
    
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-left: 10px;
            color: var(--accent);
        }

        .auth-buttons .btn {
            margin-right: 10px;
        }

        .btn {
            display: inline-block;
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            text-align: center;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;

            box-shadow: 0 4px 6px rgba(255, 255, 255, 0.1);
        }

        .btn-primary:hover {
            background-color: var(--primary-light);
            transform: translateY(-3px);
            box-shadow: 0 8px 12px rgba(255, 255, 255, 0.2);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background-color: #c0392b;
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        /* Main Content */
        main {
            padding-top: 80px;
            padding-bottom: 40px;
            min-height: calc(100vh - 120px);
        }

        /* Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        /* تصميم الأزرار في قسم إدارة الطلاب */
.students-table td {
    display: flex;
    flex-direction: column; /* جعل الأزرار تحت بعضها */
    gap: 10px; /* مسافة بين الأزرار */
    align-items: center; /* محاذاة الأزرار في المنتصف */
}

.students-table td button {
    width: 100%; /* جعل الأزرار بعرض كامل */
    max-width: 200px; /* تحديد عرض أقصى للأزرار */
    padding: 10px; /* تحسين المساحة الداخلية */
    font-size: 0.9rem; /* حجم النص */
    border-radius: 5px; /* حواف مستديرة */
}

/* تحسين التصميم على الشاشات الصغيرة */
@media (max-width: 768px) {
    .students-table td button {
        max-width: 100%; /* جعل الأزرار بعرض كامل على الشاشات الصغيرة */
    }
}
        .alert {
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
/* تصميم حاوية الإشعارات */
.notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 300px;
}

/* تصميم الإشعار */
.notification {
    background-color: #ffffff;
    border-radius: 8px;
    padding: 15px 20px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: slideDown 0.5s ease forwards;
    opacity: 0;
    transform: translateY(-20px);
}

/* ألوان الإشعارات */
.notification.success {
    border-left: 5px solid var(--success);
}

.notification.error {
    border-left: 5px solid var(--danger);
}

.notification.info {
    border-left: 5px solid var(--primary);
}

/* نص الإشعار */
.notification-text {
    font-size: 1rem;
    color: var(--dark);
    flex: 1;
    margin-right: 10px;
}

/* زر إغلاق الإشعار */
.notification-close {
    background: none;
    border: none;
    color: var(--gray);
    font-size: 1.2rem;
    cursor: pointer;
    transition: color 0.3s ease;
}

.notification-close:hover {
    color: var(--dark);
}

/* حركة الإشعار */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.alert-success {
    background-color: rgba(46, 204, 113, 0.1);
    border: 1px solid var(--success);
    color: var(--success);
}

.alert-danger {
    background-color: rgba(231, 76, 60, 0.1);
    border: 1px solid var(--danger);
    color: var(--danger);
}
        /* Sidebar */
        .sidebar {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            height: fit-content;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 10px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            color: var(--dark);
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .sidebar-menu a i {
            margin-left: 10px;
            width: 20px;
            text-align: center;
        }

        /* Main Content Area */
        .content-area {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
/* تصميم قسم التعريف */
.about-container {
    background: linear-gradient(135deg, #0f76fd, #4a89dc);
    color: white;
    margin-top: 30px;
    padding: 50px 20px;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    text-align: center;
}

.about-content {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 30px;
    animation: fadeIn 1.5s ease-in-out; /* إضافة أنيميشن عند التحميل */
}

.about-text {
    max-width: 600px;
    font-size: 1.2rem;
    line-height: 1.8;
    text-align: center;
    animation: slideInLeft 1.5s ease-in-out; /* حركة من اليسار */
}

.about-text h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    font-weight: bold;
    color: #fff;
}

.about-text p {
    margin-bottom: 15px;
}

.about-image {
    flex-shrink: 0;
    animation: slideInRight 1.5s ease-in-out; /* حركة من اليمين */
}

.teacher-image {
    width: 300px;
    height: 300px;
    border-radius: 50%;
    border: 5px solid white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease-in-out;
}

.teacher-image:hover {
    transform: scale(1.1); /* تكبير الصورة عند التمرير */
}

.about-footer {
    margin-top: 20px;
    font-size: 1.1rem;
    font-style: italic;
    color: #dfe6e9;
}

/* تحسين التصميم على الشاشات الصغيرة */
@media (max-width: 768px) {
    .about-content {
        flex-direction: column;
    }

    .about-text h1 {
        font-size: 2rem;
    }

    .teacher-image {
        width: 200px;
        height: 200px;
    }
}

/* تحسين التصميم على الشاشات الصغيرة جدًا */
@media (max-width: 480px) {
    .about-text {
        font-size: 1rem;
    }

    .about-text h1 {
        font-size: 1.8rem;
    }

    .teacher-image {
        width: 150px;
        height: 150px;
    }

    .about-container {
        padding: 30px 15px;
    }
}
.toast-message {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #14ee88; /* لون أخضر */
    color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
    font-weight: bold;
    z-index: 1000;
    animation: fadeIn 0.5s ease forwards;
}

.toast-message i {
    font-size: 1.5rem;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}
        .page-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
            display: flex;
            align-items: center;
        }

        .page-title i {
            margin-left: 10px;
            color: var(--primary);
        }

        /* Exams Grid */
        .exams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .exam-card {
    background-color: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid #eee;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.exam-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.exam-card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
}

.exam-card-body {
    padding: 20px;
    color: var(--dark);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.exam-card-meta {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 0.9rem;
    color: var(--gray);
}

.exam-card-footer {
    padding: 15px;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f8f9fa;
    font-size: 0.9rem;
    color: var(--gray);
}

.exam-card-footer button {
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.exam-card-footer .btn-primary {
    background-color: var(--primary);
    color: white;
    border: none;
}

.exam-card-footer .btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.exam-card-footer .btn-outline {
    background-color: transparent;
    border: 2px solid var(--primary);
    color: var(--primary);
}

.exam-card-footer .btn-outline:hover {
    background-color: var(--primary);
    color: white;
}
        .exam-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #eee;
        }

        .exam-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .exam-card-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 15px;
        }

        .exam-card-title {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .exam-card-body {
            padding: 15px;
        }

        .exam-card-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .exam-card-footer {
            padding: 15px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        /* Exam Form */
        .exam-form {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.modal-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 15px;
    color: var(--primary);
}

.modal-message {
    font-size: 1rem;
    margin-bottom: 20px;
    color: var(--text);
}

.modal-actions {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}

.modal-actions .btn {
    flex: 1;
    padding: 10px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.modal-actions .btn-danger {
    background-color: var(--danger);
    color: white;
    border: none;
}

.modal-actions .btn-danger:hover {
    background-color: #c0392b;
}

.modal-actions .btn-outline {
    background-color: transparent;
    border: 2px solid var(--primary);
    color: var(--primary);
}

.modal-actions .btn-outline:hover {
    background-color: var(--primary);
    color: white;
}
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .question-container {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px dashed #ddd;
        }
        .self-test-card {
    background-color: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid #eee;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 20px;
}

.self-test-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.self-test-card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 15px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    border-radius: 10px 10px 0 0;
}

.self-test-card-body {
    padding: 15px;
    color: var(--dark);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.self-test-card-footer {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 15px;
}

.self-test-card-footer button {
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.self-test-card-footer .btn-primary {
    background-color: var(--primary);
    color: white;
    border: none;
}

.self-test-card-footer .btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
        .option-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .option-item input[type="radio"] {
            margin-left: 10px;
        }

        .option-item input[type="text"] {
            flex: 1;
            margin-right: 10px;
        }
/* تحسين تصميم البطاقات */
.card {
    background-color: var(--card-bg);
    border-radius: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
}

.card-body {
    padding: 20px;
    color: var(--text);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.card-footer {
    padding: 15px;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f8f9fa;
    font-size: 0.9rem;
    color: var(--gray);
}
/* تصميم النافذة المنبثقة */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 20px;
    box-sizing: border-box;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 100%;
    max-width: 600px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.3s ease-in-out;
    display: flex;
    flex-direction: column;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.modal-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--primary);
    margin: 0;
}

.modal-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: #aaa;
    cursor: pointer;
    transition: color 0.3s ease;
}

.modal-close:hover {
    color: var(--danger);
}

.modal-body {
    max-height: 400px;
    overflow-y: auto;
    padding: 10px 0;
}

.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    border-top: 1px solid #ddd;
    padding-top: 10px;
    margin-top: 15px;
}
#manageSelfTestPage {
    padding: 20px;
}

.question-container {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px dashed #ddd;
}

.option-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.option-item input[type="radio"] {
    margin-left: 10px;
}

.option-item input[type="text"] {
    flex: 1;
    margin-right: 10px;
}
.modal-footer .btn {
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.modal-footer .btn-danger {
    background-color: var(--danger);
    color: white;
    border: none;
}

.modal-footer .btn-danger:hover {
    background-color: #c0392b;
}

/* حركة عند ظهور النافذة */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
.toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 300px;
}

.toast {
    background-color: #14ee88; /* لون أخضر */
    color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: slideDown 0.5s ease forwards;
    opacity: 0;
    transform: translateY(-20px);
}

.toast i {
    margin-right: 10px;
    font-size: 1.2rem;
}

.toast-close {
    background: none;
    border: none;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
    transition: color 0.3s ease;
}

.toast-close:hover {
    color: #0cbf6b;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}
/* تحسين التمرير داخل النافذة */
.modal-body::-webkit-scrollbar {
    width: 8px;
}

.modal-body::-webkit-scrollbar-thumb {
    background-color: var(--primary);
    border-radius: 4px;
}

.modal-body::-webkit-scrollbar-track {
    background-color: #f1f1f1;
}
        .add-btn {
            background-color: var(--success);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        .remove-btn {
            background-color: var(--danger);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        .footer {
    background-color: #0a70ff; /* لون الخلفية */
    color: white; /* لون النص */
    padding: 20px 0;
    text-align: center;
    margin-top: 30px;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
}

.footer .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.footer p {
    margin: 0;
    font-size: 1rem;
    font-weight: bold;
}

.footer .social-links {
    list-style: none;
    padding: 0;
    margin: 10px 0 0;
    display: flex;
    justify-content: center;
    gap: 15px;
}
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.3s ease-in-out;
}

.modal-title {
    font-size: 1.8rem;
    font-weight: bold;
    color: #ff4444;
    margin-bottom: 15px;
}

.modal-message {
    font-size: 1rem;
    margin-bottom: 20px;
    color: #333;
}

.modal-content .btn {
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 5px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.modal-content .btn:hover {
    background-color: #0056b3;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
.self-test-card-footer button {
    margin-left: 10px; /* مسافة بين الأزرار */
}
.footer .social-links li {
    display: inline-block;
}
.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background-color: #0a70ff;
    border: 1px solid #0a70ff;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    min-width: 150px;
    padding: 10px 0;
}

.dropdown-item {
    padding: 10px 15px;
    background-color: transparent;
    border: none;
    width: 100%;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.dropdown-item:hover {
    background-color: #0a70ff;
}
.footer .social-links a {
    color: rgb(0, 170, 255);
    font-size: 1.5rem;
    transition: color 0.3s ease;
}

.footer .social-links a:hover {
    color: #ff6347; /* لون عند التحويم */
}
        /* Exam Taking */
        .exam-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .exam-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .exam-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .exam-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            color: var(--gray);
            margin-bottom: 20px;
        }
/* تغيير لون زر تسجيل الدخول */
#loginBtn {
    background-color: #ffffff; /* اللون الأخضر */
    color: rgb(0, 0, 0);
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
}
#loginBtn:hover {
    background-color: #ffffff; /* لون أخضر أغمق قليلاً */
    cursor: pointer;
}
/* إزالة تأثير hover */
#loginBtn:hover {
    cursor: pointer;
}
        .question-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .options-list {
            list-style: none;
        }

        .option-label {
            display: block;
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #ddd;
        }
        .toast-message {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #14ee88; /* لون أخضر */
    color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
    font-weight: bold;
    z-index: 1000;
    animation: fadeIn 0.5s ease forwards;
}

.toast-message i {
    font-size: 1.5rem;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}
        .option-label:hover {
            border-color: var(--primary);
        }

        .option-label.selected {
            background-color: rgba(67, 97, 238, 0.1);
            border-color: var(--primary);
        }

        .option-input {
            margin-left: 10px;
        }

        .exam-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .exam-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    font-size: 0.9rem;
    color: var(--gray);
    margin-top: 10px;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: #f8f9fa;
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    font-weight: 500;
}

.meta-item i {
    color: var(--primary);
    font-size: 1.1rem;
}
        /* Results */
        .results-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .results-score {
            font-size: 3rem;
            color: var(--primary);
            margin: 20px 0;
            font-weight: 700;
        }

        .results-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .results-meta-item {
            background-color: #f8f9fa;
            padding: 15px 25px;
            border-radius: 8px;
        }

        .results-meta-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .results-questions {
            margin-top: 30px;
            text-align: right;
        }

        .result-question {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .correct-answer {
            color: var(--success);
            font-weight: 500;
        }

        .wrong-answer {
            color: var(--danger);
            font-weight: 500;
        }

        /* Auth Forms */
        .auth-container {
            max-width: 500px;
            margin: 50px auto;
            background-color: white;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .auth-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
        }

        .auth-form .form-group {
            margin-bottom: 25px;
        }

        .auth-footer {
            text-align: center;
            margin-top: 20px;
            color: var(--gray);
        }

        .auth-footer a {
            color: var(--primary);
            text-decoration: none;
        }
/* أنماط جديدة لتحسين واجهة رفع الملفات وعرض الصور */
.question-image-preview {
    max-width: 100%;
    max-height: 200px;
    margin-top: 10px;
    display: none;
}

.bulk-upload-instructions {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 5px;
    margin-top: 10px;
    border: 1px dashed #ddd;
}

#selfTestPage {
    text-align: center;
}

#selfTestContainer {
    margin-top: 20px;
}

.question-card {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.question-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
}

.options-list {
    list-style: none;
    padding: 0;
}

.option-label {
    display: block;
    padding: 12px 15px;
    margin-bottom: 10px;
    background-color: white;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid #ddd;
}

.option-label:hover {
    border-color: var(--primary);
}

.option-label.selected {
    background-color: rgba(67, 97, 238, 0.1);
    border-color: var(--primary);
}
.export-btn {
    margin-bottom: 20px;
}
.feedback-container {
    margin-top: 20px;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
    animation: fadeIn 0.5s ease-in-out;
}

.feedback-container.success {
    background-color: rgba(46, 204, 113, 0.1); /* أخضر فاتح */
    color: #2ecc71; /* أخضر */
    border: 2px solid #2ecc71;
}

.feedback-container.error {
    background-color: rgba(231, 76, 60, 0.1); /* أحمر فاتح */
    color: #e74c3c; /* أحمر */
    border: 2px solid #e74c3c;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
        /* Alerts */
        .alert {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .alert-success {
            background-color: rgba(76, 201, 240, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .alert-danger {
            background-color: rgba(239, 35, 60, 0.1);
            border: 1px solid var(--danger);
            color: var(--danger);
        }

        .alert i {
            margin-left: 10px;
            font-size: 1.2rem;
        }

        /* Loading */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(67, 97, 238, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Student Grades */
        .grades-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .grades-table th, .grades-table td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #ddd;
        }

        .grades-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }

        .grades-table tr:hover {
            background-color: #f5f7fa;
        }

        .grade-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .grade-excellent {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .grade-good {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .grade-average {
            background-color: rgba(255, 158, 0, 0.1);
            color: var(--warning);
        }

        .grade-poor {
            background-color: rgba(239, 35, 60, 0.1);
            color: var(--danger);
        }

        /* Progress Chart */
        .progress-chart {
            width: 100%;
            height: 300px;
            margin-top: 30px;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }

        .progress-bar {
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            .sidebar {
    background-color: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
}
.slide-card {
    position: relative;
    overflow: hidden;
}

.slide-card:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary), var(--primary-light));
}
.form-control {
    border: 1px solid #E6E9ED;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
}

.form-control:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(93, 156, 236, 0.2);
}
/* تأثيرات حركية عند التمرير */
.exam-card, .slide-card {
    animation: fadeInUp 0.6s ease forwards;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* تأثيرات عند التحويم */
.btn {
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* تأثيرات النقر */
.btn:active {
    transform: scale(0.98);
}
.form-label {
    font-weight: 500;
    color: var(--dark);
    margin-bottom: 0.5rem;
}
.sidebar-menu a {
    display: flex;
    align-items: center;
    padding: 0.75rem 1.25rem;
    margin-bottom: 0.5rem;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.sidebar-menu a i {
    margin-left: 0.75rem;
    width: 20px;
    text-align: center;
    color: var(--primary);
}     
            .auth-buttons {
                width: 100%;
                display: flex;
                justify-content: center;
            }
            
            .exams-grid {
                grid-template-columns: 1fr;
            }
            
            .results-meta {
                flex-direction: column;
                gap: 15px;
            }
        }
      
/* تحسين تصميم بطاقات الشرائح */
.slide-card {
    background-color: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid #eee;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
/* تصميم النافذة المنبثقة */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.modal-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 15px;
    color: var(--primary);
}

.modal-message {
    font-size: 1rem;
    margin-bottom: 20px;
    color: var(--text);
}

.modal-actions {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}

.modal-actions .btn {
    flex: 1;
    padding: 10px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.modal-actions .btn-success {
    background-color: var(--success);
    color: white;
    border: none;
}

.modal-actions .btn-success:hover {
    background-color: #12c874;
}

.modal-actions .btn-danger {
    background-color: var(--danger);
    color: white;
    border: none;
}

.modal-actions .btn-danger:hover {
    background-color: #c0392b;
}
.slide-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.slide-card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
}

.slide-card-body {
    padding: 20px;
    color: var(--dark);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.slide-card-footer {
    padding: 15px;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f8f9fa;
    font-size: 0.9rem;
    color: var(--gray);
}

.slide-card-footer i {
    margin-right: 5px;
    color: var(--primary);
}
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 15px;
    padding: 30px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.5s ease-in-out;
}

.modal-title {
    font-size: 2rem;
    font-weight: bold;
    color: var(--primary);
    margin-bottom: 15px;
}

.modal-message {
    font-size: 1.2rem;
    margin-bottom: 20px;
    color: var(--text);
}

.result-details p {
    font-size: 1rem;
    margin: 10px 0;
    color: var(--dark);
}

.result-details strong {
    color: var(--primary);
}

.btn-primary {
    background-color: var(--primary);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
    </style>
</head>
<body>
    <div id="confirmModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">تأكيد تسليم الاختبار</h3>
            <p class="modal-message">هل أنت متأكد أنك تريد تسليم الاختبار؟</p>
            <div class="modal-actions">
                <button id="confirmYes" class="btn btn-success">نعم</button>
                <button id="confirmNo" class="btn btn-danger">إلغاء</button>
            </div>
        </div>
    </div>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span><span class="text-primary">منصة  </span>الفيزياء اللذيذة<span>
                </div>
                
                <div class="auth-buttons" id="authButtons">
                    <button class="btn btn-outline" id="loginBtn">تسجيل الدخول</button>                    <button class="btn btn-primary" id="registerBtn">حساب جديد</button>
                </div>

                <div class="user-menu" id="userMenu" style="display: none;">
                    <span id="userName"></span>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" id="userMenuDropdown" onclick="toggleDropdown()">☰</button>
                        <div class="dropdown-menu" id="dropdownMenu" style="display: none;">
                            <button class="dropdown-item" id="reloadHomeBtn">الرئيسية</button>

                            <button class="dropdown-item" id="logoutBtn">تسجيل الخروج</button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
<br>
    <main>
        <div class="container">
            <!-- Loading Screen -->
            <div id="loadingScreen" class="loading">
                <div class="spinner"></div>
            </div>

            <!-- Auth Screens -->
            <div id="aboutSection" class="about-container" style="display: none;">
                <div class="about-content">
                    <div class="about-text">
                        <h1>مرحباً بك في منصة الفيزياء اللذيذة</h1>
                        <p>
                            منصة تعليمية تهدف إلى تبسيط مفاهيم الفيزياء للطلاب من خلال دروس تفاعلية واختبارات إلكترونية.
                            بإشراف الأستاذ <strong>  فرج رزق</strong>، الذي يمتلك خبرة تزيد عن 10 سنوات في تدريس الفيزياء.
                        </p>
                        <p>
                            انضم إلينا الآن واستمتع بتجربة تعليمية ممتعة ومفيدة!
                        </p>
                    </div>
                    <div class="about-image">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5ERWJbQB-PzIRepFpxBdXilKBuLK_uuS92w&s" alt="صورة الأستاذ" class="teacher-image">
                    </div>
                </div>
                <div class="about-footer">
                    <p>تعلم الفيزياء بطريقة جديدة وممتعة مع مناظر طبيعية ملهمة.</p>
                </div>
            </div>
            </div>
            <div id="authScreens" style="display: none;">
                <!-- Login Form -->
                <div id="loginForm" class="auth-container">
    <h2 class="auth-title">تسجيل الدخول</h2>
    <div id="loginError" class="alert alert-danger" style="display: none;">
        <i class="fas fa-exclamation-circle"></i>
        <span id="loginErrorText"></span>
    </div>
    <form class="auth-form" id="loginFormFields">
        <div class="form-group">
            <label for="loginEmail" class="form-label">البريد الإلكتروني</label>
            <input type="email" id="loginEmail" class="form-control" placeholder="أدخل بريدك الإلكتروني" required>
        </div>
        <div class="form-group">
            <label for="loginPassword" class="form-label">كلمة المرور</label>
            <input type="password" id="loginPassword" class="form-control" placeholder="أدخل كلمة المرور" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 12px;">تسجيل الدخول</button>
    </form>
    <div class="auth-footer">
        ليس لديك حساب؟ <a href="#" id="showRegister">سجل الآن</a>
    </div>
</div>

<div id="selfTestResultModal" class="modal" style="display: none;">
    <div class="modal-content">
        <h2 class="modal-title">🎉 تهانينا!</h2>
        <p class="modal-message">لقد أكملت الاختبار بنجاح!</p>
        <div class="result-details">
            <p><strong>نتيجتك:</strong> <span id="selfTestResultScore">0%</span></p>
            <p><strong>عدد الإجابات الصحيحة:</strong> <span id="selfTestCorrectAnswers">0</span></p>
            <p><strong>عدد الإجابات الخاطئة:</strong> <span id="selfTestWrongAnswers">0</span></p>
        </div>
        <button class="btn btn-primary" id="closeSelfTestResultModal">إغلاق</button>
    </div>
</div>
<div id="toastMessage" class="toast-message" style="display: none;">
    <i class="fas fa-check-circle"></i>
    <span id="toastText">تم حذف الاختبار بنجاح!</span>
</div>
<div id="accountDisabledModal" class="modal" style="display: none;">
    <div class="modal-content">
        <h2 class="modal-title">🚫 حساب معطل</h2>
        <p class="modal-message">عذرًا، تم تعطيل حسابك. يرجى التواصل مع الإدارة للحصول على المزيد من التفاصيل.</p>
        <button class="btn btn-primary" onclick="closeAccountDisabledModal()">إغلاق</button>
    </div>
</div>
                <!-- Register Form -->
                <div id="registerForm" class="auth-container" style="display: none;">
                    <h2 class="auth-title">إنشاء حساب جديد</h2>
                    <div id="registerError" class="alert alert-danger" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i>
                        <span id="registerErrorText"></span>
                    </div>
                    <form class="auth-form" id="registerFormFields">
                        <div class="form-group">
                            <label for="registerName" class="form-label">الاسم الكامل</label>
                            <input type="text" id="registerName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="registerEmail" class="form-label">البريد الإلكتروني</label>
                            <input type="email" id="registerEmail" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword" class="form-label">كلمة المرور</label>
                            <input type="password" id="registerPassword" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="registerConfirmPassword" class="form-label">تأكيد كلمة المرور</label>
                            <input type="password" id="registerConfirmPassword" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">نوع الحساب</label>
                            <select id="registerRole" class="form-control" required>
                                <option value="student">طالب</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 12px;">إنشاء الحساب</button>
                    </form>
                    <div class="auth-footer">
                        لديك حساب بالفعل؟ <a href="#" id="showLogin">سجل الدخول</a>
                    </div>
                </div>
            </div>

            <!-- Main App -->
            <div id="appContent" style="display: none;">
                <div class="dashboard">
                    <div class="sidebar">
                        <ul class="sidebar-menu">
                            <li><a href="#" class="active" id="menuDashboard"><i class="fas fa-home"></i> الرئيسية </a></li>
                            <li><a href="#" id="menuExams"><i class="fas fa-clipboard-list"></i> الاختبارات</a></li>
                            <li><a href="#" id="menuCreateExam"><i class="fas fa-plus-circle"></i>   إنشاء اختبار وواجب</a></li>
                            <li><a href="#" id="menuCreateSlide"><i class="fas fa-chalkboard-teacher"></i> إنشاء شريحة</a></li>
                            <li><a href="#" id="menuManageSelfTest" style="display: none;"><i class="fas fa-brain"></i> إدارة اختبر نفسك</a></li>
                            <li><a href="#" id="menuResults"><i class="fas fa-chart-bar"></i> النتائج</a></li>
                            <li><a href="#" id="menuGrades"><i class="fas fa-star"></i> الدرجات</a></li>
                            <li><a href="#" id="menuStudents"><i class="fas fa-users"></i> الطلاب</a></li>
                            <li><a href="#" id="menuProfile"><i class="fas fa-user"></i> الملف الشخصي</a></li>
                            <li><a href="#" id="menuTeacher"><i class="fas fa-chalkboard-teacher"></i> المعلم</a></li>
                        </ul>
                    </div>
                    <div id="selfTestPage" style="display: none;">
                        <h2 class="page-title"><i class="fas fa-brain"></i> اختبر نفسك</h2>
                        <div id="selfTestContainer" class="exam-container">
                            <div id="selfTestQuestion" class="question-card">
                                <!-- سيتم تحميل السؤال هنا -->
                            </div>
                            <div id="feedbackContainer" class="feedback-container" style="display: none;">
                                <!-- التغذية الراجعة تظهر هنا -->
                            </div>
                            <div class="exam-footer">
                                <button class="btn btn-primary" id="prevSelfTestQuestionBtn" style="display: none;">السابق</button>
                                <button class="btn btn-primary" id="nextSelfTestQuestionBtn">التالــــي</button>

                                <button class="btn btn-success" id="finishSelfTestBtn" style="display: none;">إنهاء الاختبار</button>
                            </div>
                        </div>
                    </div>
                    <div id="deleteSelfTestModal" class="modal" style="display: none;">
                        <div class="modal-content">
                            <h3 class="modal-title">تأكيد الحذف</h3>
                            <p class="modal-message">هل أنت متأكد أنك تريد حذف هذا الاختبار؟</p>
                            <div class="modal-actions">
                                <button id="confirmDeleteSelfTestBtn" class="btn btn-danger">حذف</button>
                                <button id="cancelDeleteSelfTestBtn" class="btn btn-outline">إلغاء</button>
                            </div>
                        </div>
                    </div>
                    <div class="content-area">
                        <!-- Dashboard -->
                        <div id="dashboardPage">
                            <h2 class="page-title"><i class="fas fa-home"></i>الرئيسية</h2>
                            <p>مرحباً بك في منصة الاختبارات الإلكترونية. يمكنك إنشاء اختبارات جديدة أو حل الاختبارات المتاحة.</p>
                            
                            <div class="exams-grid" id="recentExams">
                                <!-- Recent exams will be loaded here -->
                            </div>
                            <div id="selfTestsDashboard" style="margin-top: 30px;">
                                <h3 class="page-title"><i class="fas fa-brain"></i> اختبر نفسك</h3>
                                <p>استعرض اختبارات "اختبر نفسك" المتاحة.</p>
                                <div class="exams-grid" id="selfTestsGrid">
                                    <!-- سيتم تحميل اختبارات "اختبر نفسك" هنا -->
                                </div>
                            </div>
                            <div id="slidesContainer" style="margin-top: 30px;" style="margin-top: 30px;" style="margin-top: 30px;" style="margin-top: 30px;">
    <h3 class="page-title"><i class="fas fa-chalkboard-teacher"></i> الشرائح</h3>
    <p>استعرض الشرائح التعليمية المتاحة.</p> 
 <div class="exams-grid" id="slidesGrid">
        <!-- الشرائح سيتم تحميلها هنا -->
    </div>
</div>
                            <div id="teacherDashboard" style="display: none;">
                                <h3 class="page-title" style="margin-top: 30px;"><i class="fas fa-chart-line"></i> إحصائيات الطلاب</h3>
                                <div class="progress-chart" id="studentsProgressChart">
                                    <!-- Progress chart will be loaded here -->
                                </div>
                            </div>
                        </div>

                        <!-- Exams List -->
                        <div id="examsPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-clipboard-list"></i> الاختبارات المتاحة</h2>
                            <div class="exams-grid" id="allExams">
                                <!-- All exams will be loaded here -->
                            </div>
                        </div>
                        <div id="manageSelfTestPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-brain"></i> إدارة اختبر نفسك</h2>
                            <div id="selfTestCreationSuccess" class="alert alert-success" style="display: none;">
                                <i class="fas fa-check-circle"></i>
                                <span>تم إنشاء الاختبار بنجاح!</span>
                            </div>
                            <form id="selfTestForm" class="exam-form">
                                <div class="form-group">
                                    <label for="selfTestTitle" class="form-label">عنوان الاختبار</label>
                                    <input type="text" id="selfTestTitle" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="selfTestDescription" class="form-label">وصف الاختبار</label>
                                    <textarea id="selfTestDescription" class="form-control" placeholder="أدخل وصفًا للاختبار"></textarea>
                                </div>
                                <div id="selfTestQuestionsContainer">
                                    <!-- سيتم إضافة الأسئلة هنا -->
                                </div>
                                <button type="button" class="btn btn-primary" id="addSelfTestQuestionBtn">
                                    <i class="fas fa-plus"></i> إضافة سؤال
                                </button>

                                <br><br>
                                <div class="form-group">
                                    <button type="button" class="btn btn-primary" id="bulkUploadSelfTestBtn">
                                        <i class="fas fa-upload"></i> رفع أسئلة "اختبر نفسك" (CSV/Excel)
                                    </button>
                                    <input type="file" id="bulkUploadSelfTestInput" accept=".csv,.xlsx,.xls" style="display: none;">
                                    <small class="text-muted">يمكنك رفع ملف يحتوي على جميع الأسئلة دفعة واحدة</small>
                                </div>
                                <div class="form-group" style="margin-top: 30px;">
                                    <button type="submit" class="btn btn-success" style="width: 100%; padding: 12px;">
                                        <i class="fas fa-save"></i> حفظ الاختبار
                                    </button>
                                 
                                 
                                </div>
                            </form>
                        </div>
                        <!-- Create Exam -->
                        <div id="createExamPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-plus-circle"></i> إنشاء اختبار جديد</h2>
                            <div id="examCreationSuccess" class="alert alert-success" style="display: none;">
                                <i class="fas fa-check-circle"></i>
                                <span>تم إنشاء الاختبار بنجاح!</span>
                            </div>
                            <form id="examForm" class="exam-form">
                                <div class="form-group">
                                    <label for="examTitle" class="form-label">عنوان الاختبار</label>
                                    <input type="text" id="examTitle" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="examDescription" class="form-label">وصف الاختبار</label>
                                    <textarea id="examDescription" class="form-control"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="examDuration" class="form-label">مدة الاختبار (دقائق)</label>
                                    <input type="number" id="examDuration" class="form-control" min="1" value="30" required>
                                </div>
                                <div class="form-group">
                                    <label for="examTotalMarks" class="form-label">الدرجة الكلية للاختبار</label>
                                    <input type="number" id="examTotalMarks" class="form-control" min="1" value="100" required>
                                </div>
                                
                                <div id="questionsContainer">
                                    <!-- Questions will be added here -->
                                </div>
                                
                                <button type="button" class="btn btn-primary" id="addQuestionBtn">
                                    <i class="fas fa-plus"></i> إضافة سؤال
                                </button>
                                <br>
                                 <br>
<div class="form-group">
    <button type="button" class="btn btn-primary" id="bulkUploadBtn">
        <i class="fas fa-upload"></i> رفع امتحان كامل (CSV/Excel)
    </button>
    <input type="file" id="bulkUploadInput" accept=".csv,.xlsx,.xls" style="display: none;">
    <small class="text-muted">يمكنك رفع ملف يحتوي على جميع الأسئلة دفعة واحدة</small>
</div>
                                <div class="form-group" style="margin-top: 30px;">
                                    <button type="submit" class="btn btn-success" style="width: 100%; padding: 12px;">
                                        <i class="fas fa-save"></i> حفظ الاختبار
                                    </button>
                                </div>
                            </form>

                            <div class="form-group">
                                <label for="allowedStudents" class="form-label">الطلاب المسموح لهم برؤية الاختبار</label>
                                <select id="allowedStudents" class="form-control" multiple>
                                    <!-- سيتم تحميل قائمة الطلاب هنا -->
                                </select>
                                <small class="text-muted">اترك هذا الحقل فارغًا إذا كنت تريد أن يكون الاختبار متاحًا لجميع الطلاب.</small>
                            </div>

                        </div>
                        <div id="deleteExamModal" class="modal" style="display: none;">
                            <div class="modal-content">
                                <h3 class="modal-title">تأكيد الحذف</h3>
                                <p class="modal-message">هل أنت متأكد أنك تريد حذف هذا الاختبار؟</p>
                                <div class="modal-actions">
                                    <button id="confirmDeleteBtn" class="btn btn-danger">حذف</button>
                                    <button id="cancelDeleteBtn" class="btn btn-outline">إلغاء</button>
                                </div>
                            </div>
                        </div>
                        <div id="deleteSlideModal" class="modal" style="display: none;">
                            <div class="modal-content">
                                <h3 class="modal-title">تأكيد الحذف</h3>
                                <p class="modal-message">هل أنت متأكد أنك تريد حذف هذه الشريحة؟</p>
                                <div class="modal-actions">
                                    <button id="confirmDeleteSlideBtn" class="btn btn-danger">حذف</button>
                                    <button id="cancelDeleteSlideBtn" class="btn btn-outline">إلغاء</button>
                                </div>
                            </div>
                        </div>
                        <div id="toastMessage" class="toast-message" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <span id="toastText">تم حذف الشريحة بنجاح!</span>
                        </div>
                        <!-- Create Slide -->
                        <div id="createSlidePage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-chalkboard-teacher"></i> إنشاء شريحة جديدة</h2>
                            <div id="slideCreationSuccess" class="alert alert-success" style="display: none;">
                                <i class="fas fa-check-circle"></i>
                                <span>تم إنشاء الشريحة بنجاح!</span>
                            </div>
                            <form id="slideForm" class="exam-form">
                                <div class="form-group">
                                    <label for="slideTitle" class="form-label">عنوان الشريحة</label>
                                    <input type="text" id="slideTitle" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="slideContent" class="form-label">محتوى الشريحة</label>
                                    <textarea id="slideContent" class="form-control" rows="5" required></textarea>
                                </div>
                                <div class="form-group" style="margin-top: 30px;">
                                    <button type="submit" class="btn btn-success" style="width: 100%; padding: 12px;">
                                        <i class="fas fa-save"></i> حفظ الشريحة
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div id="gradesModal" class="modal" style="display: none;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title">درجات الطالب</h3>
                                    <button class="modal-close" onclick="document.getElementById('gradesModal').style.display='none'">&times;</button>
                                </div>
                                <div class="modal-body" id="gradesModalContent">
                                    <!-- سيتم تحميل الدرجات هنا -->
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-danger" onclick="document.getElementById('gradesModal').style.display='none'">إغلاق</button>
                                </div>
                            </div>
                        </div>
                        <div id="accountDisabledModal" class="modal" style="display: none;">
                            <div class="modal-content">
                                <h2 class="modal-title">🚫 حساب معطل</h2>
                                <p class="modal-message">عذرًا، تم تعطيل حسابك. سيتم تسجيل خروجك الآن.</p>
                                <div class="modal-footer">
                                    <button class="btn btn-primary" onclick="closeAccountDisabledModal()">حسنًا</button>
                                </div>
                            </div>
                        </div>
                        <!-- Take Exam -->
                        <div id="takeExamPage" style="display: none;">
                            <div class="exam-container">
                                <div class="exam-header">
                                    <h1 class="exam-title" id="examViewTitle">عنوان الاختبار</h1>
                                    <div class="exam-meta">
                                        <span><i class="fas fa-clock"></i> الوقت المتبقي: <span id="timeRemaining">30:00</span></span>
                                        <span><i class="fas fa-question-circle"></i> الأسئلة: <span id="questionCount">0</span></span>
                                        <span><i class="fas fa-star"></i> الدرجة الكلية: <span id="totalMarks">100</span></span>
                                    </div>
                                </div>
                                
                                <div id="examQuestionsContainer">
                                    <!-- Exam questions will be loaded here -->
                                </div>
                                
                                <div class="exam-footer">
                                    <button class="btn btn-primary" id="prevQuestionBtn" disabled>السابق</button>
                                    <button class="btn btn-primary" id="nextQuestionBtn">التالي</button>
                                    <button class="btn btn-success" id="submitExamBtn">تسليم الاختبار</button>
                                </div>
                            </div>
                        </div>

                        <!-- Exam Results -->
                        <div id="resultsPage" style="display: none;">
                            <div class="results-container">
                                <h2>نتيجة الاختبار</h2>
                                <div class="results-score" id="finalScore">0%</div>
                                
                                <div class="results-meta">
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="correctAnswers">0</div>
                                        <div>إجابات صحيحة</div>
                                    </div>
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="wrongAnswers">0</div>
                                        <div>إجابات خاطئة</div>
                                    </div>
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="timeTaken">0</div>
                                        <div>دقيقة</div>
                                    </div>
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="obtainedMarks">0</div>
                                        <div>الدرجة المحصلة</div>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary" id="backToExamsBtn">العودة إلى الاختبارات</button>
                                
                                <div class="results-questions" id="resultsDetails">
                                    <!-- Results details will be loaded here -->
                                </div>
                            </div>
                        </div>
                        <div id="toastContainer" class="toast-container"></div>
                        <!-- Grades Page -->
                        <div id="gradesPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-star"></i> سجل الدرجات</h2>
                            
                            <div id="studentGradesView">
                                <h3>درجاتي في الاختبارات</h3>
                                <table class="grades-table">
                                    <thead>
                                        <tr>
                                            <th>اسم الاختبار</th>
                                            <th>التاريخ</th>
                                            <th>الدرجة المحصلة</th>
                                            <th>النسبة المئوية</th>
                                            <th>الحالة</th>
                                        </tr>
                                    </thead>
                                    <tbody id="studentGradesTable">
                                        <!-- Student grades will be loaded here -->
                                    </tbody>
                                </table>
                                
                                <div class="progress-chart" id="studentProgressChart">
                                    <!-- Progress chart will be loaded here -->
                                </div>
                            </div>
                            
                            <div id="teacherGradesView" style="display: none;">
                                <h3>درجات الطلاب</h3>
                                <div class="form-group">
                                    <label for="gradeExamFilter" class="form-label">تصفية حسب الاختبار</label>
                                    <select id="gradeExamFilter" class="form-control">
                                        <option value="">جميع الاختبارات</option>
                                        <!-- Exam options will be loaded here -->
                                    </select>
                                </div>
                                
                                <table class="grades-table">
                                    <thead>
                                        <tr>
                                            <th>اسم الطالب</th>
                                            <th>اسم الاختبار</th>
                                            <th>التاريخ</th>
                                            <th>الدرجة المحصلة</th>
                                            <th>النسبة المئوية</th>
                                            <th>الحالة</th>
                                        </tr>
                                    </thead>
                                    <tbody id="allGradesTable">
                                        <!-- All grades will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="feedbackContainer" class="feedback-container" style="display: none;">
                            <!-- سيتم عرض التقييم هنا -->
                        </div>
                        <!-- Students Page -->
                        <div id="studentsPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-users"></i> إدارة الطلاب</h2>
                            
                            <table class="grades-table">
                                <thead>
                                    <tr>
                                        <th>اسم الطالب</th>
                                        <th>البريد الإلكتروني</th>
                                        <th>عدد الاختبارات</th>
                                        <th>متوسط الدرجات</th>
                                        <th>الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="studentsTable">
                                    <!-- Students list will be loaded here -->
                                </tbody>
                            </table>
                        </div>

                        <!-- User Profile -->
                        <div id="profilePage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-user"></i> الملف الشخصي</h2>
                            <div class="exam-form">
                                <div class="form-group">
                                    <label class="form-label">الاسم الكامل</label>
                                    <input type="text" id="profileName" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">البريد الإلكتروني</label>
                                    <input type="email" id="profileEmail" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">نوع الحساب</label>
                                    <input type="text" id="profileRole" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">عدد الاختبارات التي أنشأتها</label>
                                    <input type="text" id="profileExamsCreated" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">عدد الاختبارات التي أجريتها</label>
                                    <input type="text" id="profileExamsTaken" class="form-control" disabled>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
  
    </main>
    <footer class="footer">
        <div class="container">
            <footer class="footer">
                    <p>Made with ❤️ by <strong> dr-Ismail Farag</strong></p>
                    <ul class="social-links">
                        <li><a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook"></i></a></li>
                        <li><a href="https://www.twitter.com" target="_blank"><i class="fab fa-twitter"></i></a></li>
                        <li><a href="https://www.linkedin.com" target="_blank"><i class="fab fa-linkedin"></i></a></li>
                        <li><a href="https://www.github.com" target="_blank"><i class="fab fa-github"></i></a></li>
                    </ul>
                </div>
            </footer>           
        </div>
    </footer>
    <script>







const _0x124926=_0x3efd;(function(_0xcac8e3,_0x5b6e5a){const _0x181a09=_0x3efd,_0x1494ec=_0xcac8e3();while(!![]){try{const _0x52d8de=parseInt(_0x181a09(0x1cd))/0x1+-parseInt(_0x181a09(0x2ba))/0x2+-parseInt(_0x181a09(0x366))/0x3*(-parseInt(_0x181a09(0x25d))/0x4)+parseInt(_0x181a09(0x277))/0x5*(parseInt(_0x181a09(0x1c8))/0x6)+parseInt(_0x181a09(0x2ec))/0x7*(-parseInt(_0x181a09(0x25f))/0x8)+parseInt(_0x181a09(0x200))/0x9+parseInt(_0x181a09(0x213))/0xa;if(_0x52d8de===_0x5b6e5a)break;else _0x1494ec['push'](_0x1494ec['shift']());}catch(_0x384f13){_0x1494ec['push'](_0x1494ec['shift']());}}}(_0x5205,0x703d4));const firebaseConfig={'apiKey':_0x124926(0x283),'authDomain':_0x124926(0x231),'projectId':'webb-e9fff','storageBucket':_0x124926(0x334),'messagingSenderId':_0x124926(0x32f),'appId':_0x124926(0x23a),'measurementId':'G-00T9C8CF3C'};firebase[_0x124926(0x37a)](firebaseConfig);const auth=firebase[_0x124926(0x1ed)](),db=firebase['firestore'](),loadingScreen=document[_0x124926(0x357)](_0x124926(0x262)),authScreens=document[_0x124926(0x357)](_0x124926(0x2d2)),appContent=document[_0x124926(0x357)](_0x124926(0x2d7)),loginForm=document[_0x124926(0x357)](_0x124926(0x313)),registerForm=document['getElementById'](_0x124926(0x228)),loginBtn=document['getElementById'](_0x124926(0x355)),registerBtn=document[_0x124926(0x357)](_0x124926(0x1f1)),showLogin=document[_0x124926(0x357)](_0x124926(0x1f2)),showRegister=document[_0x124926(0x357)]('showRegister'),authButtons=document['getElementById'](_0x124926(0x360)),userMenu=document[_0x124926(0x357)](_0x124926(0x227)),userName=document[_0x124926(0x357)](_0x124926(0x259)),logoutBtn=document[_0x124926(0x357)](_0x124926(0x27e)),dashboardPage=document[_0x124926(0x357)](_0x124926(0x1c4)),examsPage=document[_0x124926(0x357)]('examsPage'),createExamPage=document[_0x124926(0x357)](_0x124926(0x2ff)),createSlidePage=document[_0x124926(0x357)](_0x124926(0x1cc)),takeExamPage=document[_0x124926(0x357)](_0x124926(0x27d)),resultsPage=document[_0x124926(0x357)]('resultsPage'),gradesPage=document['getElementById'](_0x124926(0x270)),studentsPage=document[_0x124926(0x357)](_0x124926(0x37d)),profilePage=document[_0x124926(0x357)]('profilePage'),menuDashboard=document[_0x124926(0x357)](_0x124926(0x1d8)),menuExams=document[_0x124926(0x357)]('menuExams'),menuCreateExam=document['getElementById'](_0x124926(0x2e3)),menuCreateSlide=document[_0x124926(0x357)](_0x124926(0x27c)),menuResults=document[_0x124926(0x357)](_0x124926(0x25e)),menuGrades=document[_0x124926(0x357)]('menuGrades'),menuStudents=document[_0x124926(0x357)](_0x124926(0x1cb)),menuProfile=document['getElementById'](_0x124926(0x381));let currentUser=null,currentUserData=null,currentExam=null,currentQuestionIndex=0x0,userAnswers={},timerInterval=null,timeLeft=0x0,userRole=_0x124926(0x369);function initApp(){const _0x346b5e=_0x124926;auth[_0x346b5e(0x2c6)](async _0x285e50=>{const _0x51aadb=_0x346b5e;if(_0x285e50){db[_0x51aadb(0x1d9)](_0x51aadb(0x1ee))[_0x51aadb(0x28f)](_0x285e50[_0x51aadb(0x1dd)])[_0x51aadb(0x370)](_0x4ad2fb=>{const _0x3ecd65=_0x51aadb;_0x4ad2fb[_0x3ecd65(0x2d5)]&&_0x4ad2fb[_0x3ecd65(0x319)]()[_0x3ecd65(0x2ee)]&&_0x32b54d();});const _0x2c4c18=await db[_0x51aadb(0x1d9)](_0x51aadb(0x1ee))['doc'](_0x285e50['uid'])[_0x51aadb(0x267)]();if(_0x2c4c18['exists']&&_0x2c4c18['data']()[_0x51aadb(0x2ee)]){_0x32b54d();return;}currentUser=_0x285e50,currentUserData=_0x2c4c18[_0x51aadb(0x319)](),userRole=currentUserData[_0x51aadb(0x1c2)]||'student',setupAuthenticatedUI(),loadDashboard();}else currentUser=null,currentUserData=null,setupUnauthenticatedUI();loadingScreen[_0x51aadb(0x2df)][_0x51aadb(0x2c1)]='none';});function _0x32b54d(){const _0xbf45a4=_0x346b5e,_0x28ab01=document[_0xbf45a4(0x357)](_0xbf45a4(0x2b5));_0x28ab01[_0xbf45a4(0x2df)][_0xbf45a4(0x2c1)]='flex',setTimeout(()=>{auth['signOut']();},0xbb8);}function _0x39bafb(){const _0x433ee5=_0x346b5e,_0x539b39=document[_0x433ee5(0x357)](_0x433ee5(0x2b5));_0x539b39[_0x433ee5(0x2df)][_0x433ee5(0x2c1)]=_0x433ee5(0x371);}}function deleteSelfTest(_0x1df913){const _0x579cc6=_0x124926;db[_0x579cc6(0x1d9)](_0x579cc6(0x1d1))[_0x579cc6(0x28f)](_0x1df913)[_0x579cc6(0x1b7)]()['then'](()=>{const _0x2e4596=_0x579cc6;showToast(_0x2e4596(0x23f),_0x2e4596(0x299)),loadSelfTests();})[_0x579cc6(0x380)](_0x5ea457=>{const _0x52412e=_0x579cc6;showToast(_0x52412e(0x35a)+_0x5ea457[_0x52412e(0x23d)],_0x52412e(0x31a));});}function showToast(_0x227b6c,_0x31f9ee=_0x124926(0x299)){const _0x365fa0=_0x124926,_0xf0d5fa=document[_0x365fa0(0x357)](_0x365fa0(0x2d8)),_0x1193b2=document['createElement'](_0x365fa0(0x31f));_0x1193b2['className']=_0x365fa0(0x28a)+_0x31f9ee,_0x1193b2[_0x365fa0(0x383)]=_0x365fa0(0x2cb)+_0x227b6c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22toast-close\x22>&times;</button>\x0a\x20\x20\x20\x20',_0xf0d5fa[_0x365fa0(0x218)](_0x1193b2),setTimeout(()=>{const _0x2f05db=_0x365fa0;_0x1193b2['style'][_0x2f05db(0x2ad)]=_0x2f05db(0x33c),setTimeout(()=>_0x1193b2[_0x2f05db(0x356)](),0x1f4);},0xbb8),_0x1193b2[_0x365fa0(0x379)](_0x365fa0(0x309))[_0x365fa0(0x30c)]('click',()=>{const _0x3fc2ce=_0x365fa0;_0x1193b2[_0x3fc2ce(0x2df)][_0x3fc2ce(0x2ad)]=_0x3fc2ce(0x33c),setTimeout(()=>_0x1193b2[_0x3fc2ce(0x356)](),0x1f4);});}function _0x5205(){const _0x2bae5d=['slide-card','selfTestQuestionsContainer','registerFormFields','display','feedback-container\x20error','prevQuestionBtn','averageGrade','examId','onAuthStateChanged','menuManageSelfTest','self-test-card-header','\x22\x20class=\x22option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','value','<tr><td\x20colspan=\x225\x22>جاري\x20تحميل\x20قائمة\x20الطلاب...</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22question-text\x22>السؤال\x20','correctAnswer','where','submittedAt','authScreens','طالب','questionCount','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appContent','toastContainer','forEach','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','<h3>تفاصيل\x20الإجابات:</h3>','block','يرجى\x20ملء\x20جميع\x20الحقول\x20قبل\x20الحفظ.','all','style','addOption','deleteSlideModal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span><i\x20class=\x22fas\x20fa-calendar-alt\x22></i>\x20','menuCreateExam','teacher','gradeStatus','gradesModal','add','%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','signInWithEmailAndPassword','DOMContentLoaded','7hVcoyJ','تفعيل','disabled','registerRole','orderBy','cloneNode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','تم\x20حذف\x20الشريحة\x20بنجاح!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','xls','\x20دقيقة</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','split','<tr><td\x20colspan=\x225\x22>حدث\x20خطأ:\x20','contextmenu','الخيار\x20','examsTaken','10px','ctrlKey','slidesGrid','createExamPage','duration','#14ee88','cancelDeleteSelfTestBtn','update','set','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>إجابتك:\x20<span\x20class=\x22','#FC5C65','options-','grade-poor','.toast-close','title','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20حذف\x20السؤال\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>صورة\x20السؤال\x20(اختياري)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22file\x22\x20class=\x22form-control\x20question-image\x22\x20accept=\x22image/*\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener',':</strong>\x20','حدث\x20خطأ\x20أثناء\x20حذف\x20حساب\x20الطالب:\x20','هل\x20تريد\x20تعطيل\x20حساب\x20هذا\x20الطالب؟','slide-card-footer','exam-card-header','from','loginForm','resultsDetails','put','contains','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','error','read','numeric','حذف','loginFormFields','div','description','question-','بدء\x20الاختبار','registerError','</td></tr>','includes','utils','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','imageUrl','onload','shiftKey','user','examDescription','السؤال','examQuestionsContainer','725475534624','replaceWith','grade-average','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','serverTimestamp','webb-e9fff.firebasestorage.app','حدث\x20خطأ\x20أثناء\x20حفظ\x20الاختبار:\x20','عذرًا،\x20لا\x20يمكنك\x20بدء\x20هذا\x20الاختبار.\x20لم\x20يتم\x20منحك\x20الإذن.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20value=\x22','ref','تعديل','name','fadeOut\x200.5s\x20ease\x20forwards','defineProperty','.about-content','push','teacherGradesView','<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20البيانات:\x20','عرض\x20نتائج\x20الاختبار\x20سيكون\x20هنا','onsubmit','timeRemaining','يرجى\x20رفع\x20ملف\x20بصيغة\x20CSV\x20أو\x20Excel\x20فقط.','selfTestQuestion','profileExamsCreated','log','selfTestsGrid','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20إضافة\x20خيار\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22remove-btn\x22\x20onclick=\x22removeQuestion(\x27','reload','btn\x20btn-danger','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>نص\x20السؤال</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20question-text\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>خيارات\x20الإجابة</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22options-','btn\x20btn-outline','slideContent','<tr><td\x20colspan=\x225\x22>لا\x20يوجد\x20طلاب\x20مسجلين\x20بعد</td></tr>','معلم','<p>جاري\x20تحميل\x20بيانات\x20تقدم\x20الطلاب...</p>','<p>لا\x20توجد\x20بيانات\x20تقدم\x20متاحة</p>','<p>لا\x20توجد\x20درجات\x20مسجلة\x20لهذا\x20الطالب.</p>','loginBtn','remove','getElementById','marginRight','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20حذف\x20الحساب\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','حدث\x20خطأ\x20أثناء\x20حذف\x20الاختبار:\x20','results','increment','readAsArrayBuffer','تم\x20تعطيل\x20حساب\x20الطالب\x20بنجاح!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>نص\x20السؤال</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20question-text\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>خيارات\x20الإجابة</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22options-','authButtons','self-test-card-body','finishSelfTestBtn','toastText','grade-good','change','1431WnVuWk','aboutSection','gradeExamFilter','student','scorePercentage','selfTestTitle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','backgroundColor','reloadHomeBtn','</p>\x0a\x20\x20\x20\x20','onSnapshot','none','🚨\x20تم\x20كشف\x20أدوات\x20المطور!\x20سيتم\x20إغلاق\x20الصفحة\x20لحمايتك.','<p>','exam-card','nextSelfTestQuestionBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>السؤال\x20','examTotalMarks','ceil','querySelector','initializeApp','تم\x20حفظ\x20الاختبار\x20بنجاح!','nextQuestionBtn','studentsPage','button','smooth','catch','menuProfile','correctAnswers','innerHTML','الإجابة\x20الصحيحة','desc','كلمة\x20المرور\x20غير\x20متطابقة','\x22\x20required>\x0a\x20\x20\x20\x20','examDuration','selfTestCorrectAnswers','\x22\x20value=\x220\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22النص\x20الأول\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','createElement','inline-block','parse','<tr><td\x20colspan=\x226\x22>لا\x20توجد\x20نتائج\x20مسجلة\x20بعد</td></tr>','sheet_to_json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>متوسط\x20درجات\x20الطلاب</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20الممتازون\x20(90%+)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','delete','grade-excellent','createdAt','prevSelfTestQuestionBtn','question-container','removeQuestion','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','scrollIntoView','createdBy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20','role','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>خيارات\x20الإجابة</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22options-','dashboardPage','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20عرض\x20الدرجات\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x22\x20onclick=\x22toggleStudentStatus(\x27','يرجى\x20ملء\x20جميع\x20الحقول\x20الخاصة\x20بالأسئلة.','text','956922ZNoCsg','toastMessage','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20المتوسطون\x20(60-74%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','menuStudents','createSlidePage','301140lLROaL','profileRole','ممتاز','<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الدرجات:\x20','selfTests','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20الضعاف\x20(أقل\x20من\x2060%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p>جاري\x20تحميل\x20بيانات\x20التقدم...</p>','\x20/\x20','exam-card-meta','لم\x20يتم\x20تحديد\x20أي\x20طالب.\x20هل\x20تريد\x20جعل\x20الاختبار\x20متاحًا\x20لجميع\x20الطلاب؟','exam-card-body','menuDashboard','collection','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20إجابة\x20صحيحة!\x20أحسنت!\x0a\x20\x20\x20\x20\x20\x20\x20\x20','حدث\x20خطأ\x20أثناء\x20حذف\x20الشريحة:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uid','href','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>عدد\x20الأسئلة:</strong>\x20','floor','selected','cancelDeleteSlideBtn','size','userId','finalScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>نص\x20السؤال</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20question-text\x22\x20value=\x22','<tr><td\x20colspan=\x226\x22>جاري\x20تحميل\x20الدرجات...</td></tr>','recentExams','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x22\x20onclick=\x22deleteStudentAccount(\x27','\x22\x20value=\x221\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22الخيار\x20الثاني\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22add-btn\x22\x20onclick=\x22addOption(\x27',')</option>','auth','users','registerName','.question-image','registerBtn','showLogin','registerConfirmPassword','</p>','<option\x20value=\x22\x22>جاري\x20تحميل\x20الطلاب...</option>','join','تم\x20تحميل\x20الأسئلة\x20بنجاح!','submit','هل\x20أنت\x20متأكد\x20أنك\x20تريد\x20حذف\x20حساب\x20هذا\x20الطالب؟\x20لا\x20يمكن\x20التراجع\x20عن\x20هذا\x20الإجراء.','trim','center','%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','SheetNames','flex','bulkUploadSelfTestInput','40419jHQwqC','addSelfTestQuestionBtn','لا\x20يوجد\x20محتوى','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20إجابة\x20خاطئة.\x20الإجابة\x20الصحيحة\x20هي:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','result','<p>جاري\x20تحميل\x20اختبارات\x20\x22اختبر\x20نفسك\x22...</p>','active','timeTaken','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22الخيار\x20','teacherDashboard','studentsTable','حدث\x20خطأ\x20أثناء\x20قراءة\x20الملف:\x20','تم\x20حذف\x20حساب\x20الطالب\x20بنجاح!','cancelDeleteBtn','limit','map','10806150gIDnTn','devtools-warning','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','مجهول','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22options-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','feedback-container\x20success','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','allGradesTable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','questions','keydown','length','\x22\x20value=\x221\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22النص\x20الثاني\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22add-btn\x22\x20onclick=\x22addOption(\x27','toLowerCase','className','exam-card-footer','examsCreated','.option-label','slides','userMenu','registerForm','ar-EG','content','loginEmail','F12','profileName','\x22\x20value=\x220\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22الخيار\x20الأول\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','userMenuDropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webb-e9fff.firebaseapp.com','حدث\x20خطأ\x20أثناء\x20تسجيل\x20الدخول:\x20','login','toFixed','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','visible','هل\x20تريد\x20تفعيل\x20حساب\x20هذا\x20الطالب؟','registerPassword','.option-text','1:725475534624:web:95b07a4d838f55b55f5945','studentProgressChart','now','message','register','تم\x20حذف\x20الاختبار\x20بنجاح!','toDate','<h3>تقدمي\x20في\x20الاختبارات</h3>','click','head','<img\x20src=\x22','عذرًا،\x20فقط\x20المعلم\x20يمكنه\x20إنشاء\x20الاختبارات.','files','.question-text','fadeIn\x200.5s\x20ease\x20forwards','input[name^=\x22correct-\x22]:checked','option-item','toLocaleTimeString','asc','loginPassword','<tr><td\x20colspan=\x226\x22>حدث\x20خطأ:\x20','wrongAnswers','%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22grade-badge\x20','signOut','selfTestWrongAnswers','dropdownMenu','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22option-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22selfTestQuestion_','xlsx','confirmYes','pop','userName','\x20درجة</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirmModal','gradesModalContent','2076cedczr','menuResults','6169816TpTADn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20حذف\x20السؤال\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20الجيدون\x20(75-89%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','loadingScreen','<p>جاري\x20تحميل\x20الاختبارات...</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','يجب\x20إضافة\x20سؤال\x20واحد\x20على\x20الأقل','isIntersecting','get','bulkUploadInput','feedbackContainer','textContent','لا\x20يوجد\x20وصف\x20للاختبار','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22option-label\x20','راسب','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x20btn-sm\x22\x20onclick=\x22viewStudentGrades(\x27','هل\x20أنت\x20متأكد\x20من\x20حذف\x20هذا\x20السؤال؟','gradesPage','about:blank','then','email','updateProfile','\x22\x20value=\x22','short','10APPDst','<p>جاري\x20تحميل\x20الشرائح...</p>','</span>','result-question','toLocaleDateString','menuCreateSlide','takeExamPage','logoutBtn','<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20','تم\x20تفعيل\x20حساب\x20الطالب\x20بنجاح!','totalMarks','input','AIzaSyCzPLk76EWLfx7X4Wo-d5zDMNmG6WY69Xs','self-test-card','bulkUploadSelfTestBtn','<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الاختبارات:\x20','slideForm','target','<option\x20value=\x22\x22>حدث\x20خطأ\x20أثناء\x20تحميل\x20الطلاب:\x20','toast\x20','examTitle','backToExamsBtn','questionsContainer','key','doc','firestore','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20إضافة\x20خيار\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22remove-btn\x22\x20onclick=\x22removeQuestion(\x27','<p>لا\x20توجد\x20اختبارات\x20\x22اختبر\x20نفسك\x22\x20متاحة\x20حالياً</p>','exams','slide-card-body','obtainedMarks','Sheets','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22question_','studentGradesView','success','observe','round','<option\x20value=\x22','confirmDeleteSlideBtn','slideTitle','csv','حدث\x20خطأ\x20أثناء\x20حفظ\x20الشريحة:\x20','options','allowedStudents','FieldValue','examForm','selectedOptions','querySelectorAll','\x22\x20alt=\x22صورة\x20السؤال\x22\x20class=\x22question-image-preview\x22>','studentsProgressChart','عذرًا،\x20فقط\x20المعلم\x20يمكنه\x20حفظ\x20الاختبارات.','<p>لا\x20توجد\x20اختبارات\x20متاحة\x20حالياً</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn\x20btn-primary','animation','empty','reset','examViewTitle','profileEmail','children','.question-container','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22النص\x20','accountDisabledModal','<span><i\x20class=\x22fas\x20fa-user\x22></i>\x20','تعطيل','wrong-answer','الحد\x20الأقصى\x20للخيارات\x20هو\x205','1443648wWILdS','preventDefault','جيد\x20جداً','confirmDeleteSelfTestBtn'];_0x5205=function(){return _0x2bae5d;};return _0x5205();}function finishSelfTest(){const _0x14a18c=_0x124926;let _0x45a94c=0x0;currentExam[_0x14a18c(0x21d)][_0x14a18c(0x2d9)]((_0x242bee,_0x3ea454)=>{const _0x39a33a=_0x14a18c;userAnswers[_0x3ea454]===_0x242bee[_0x39a33a(0x2cf)]&&_0x45a94c++;});const _0x3a20e8=currentExam['questions'][_0x14a18c(0x21f)],_0x56c532=Math[_0x14a18c(0x29b)](_0x45a94c/_0x3a20e8*0x64),_0x26b921=_0x3a20e8-_0x45a94c;document[_0x14a18c(0x357)]('selfTestResultScore')[_0x14a18c(0x26a)]=_0x56c532+'%',document[_0x14a18c(0x357)](_0x14a18c(0x1af))[_0x14a18c(0x26a)]=_0x45a94c,document[_0x14a18c(0x357)](_0x14a18c(0x252))[_0x14a18c(0x26a)]=_0x26b921;const _0x17bfe2=document[_0x14a18c(0x357)]('selfTestResultModal');_0x17bfe2[_0x14a18c(0x2df)][_0x14a18c(0x2c1)]='flex',currentExam=null,currentQuestionIndex=0x0,userAnswers={},document[_0x14a18c(0x357)]('closeSelfTestResultModal')[_0x14a18c(0x30c)]('click',()=>{const _0x16fa1f=_0x14a18c;location[_0x16fa1f(0x34b)]();});}document['getElementById'](_0x124926(0x285))[_0x124926(0x30c)](_0x124926(0x242),()=>{const _0x1bcee3=_0x124926;document['getElementById']('bulkUploadSelfTestInput')[_0x1bcee3(0x242)]();}),document[_0x124926(0x357)](_0x124926(0x1ff))['addEventListener']('change',_0x1aa80a=>{const _0x6dedfd=_0x124926,_0x1f579e=_0x1aa80a[_0x6dedfd(0x288)]['files'][0x0];if(!_0x1f579e)return;const _0x3e9264=_0x1f579e[_0x6dedfd(0x33b)][_0x6dedfd(0x2f7)]('.')[_0x6dedfd(0x258)]()[_0x6dedfd(0x221)]();if(_0x3e9264===_0x6dedfd(0x29f))Papa[_0x6dedfd(0x1b3)](_0x1f579e,{'header':!![],'complete':function(_0x3cc389){processSelfTestQuestions(_0x3cc389['data']);},'error':function(_0x200074){const _0x2093c1=_0x6dedfd;alert(_0x2093c1(0x20e)+_0x200074[_0x2093c1(0x23d)]);}});else{if([_0x6dedfd(0x256),_0x6dedfd(0x2f5)]['includes'](_0x3e9264)){const _0x3ea614=new FileReader();_0x3ea614[_0x6dedfd(0x329)]=function(_0x42bf4a){const _0x474dba=_0x6dedfd,_0x4cd627=new Uint8Array(_0x42bf4a['target'][_0x474dba(0x205)]),_0x558b38=XLSX[_0x474dba(0x31b)](_0x4cd627,{'type':'array'}),_0x3f4742=_0x558b38[_0x474dba(0x1fd)][0x0],_0x2b28e2=_0x558b38[_0x474dba(0x296)][_0x3f4742],_0x1daf44=XLSX['utils'][_0x474dba(0x1b5)](_0x2b28e2);processSelfTestQuestions(_0x1daf44);},_0x3ea614['readAsArrayBuffer'](_0x1f579e);}else alert('يرجى\x20رفع\x20ملف\x20بصيغة\x20CSV\x20أو\x20Excel\x20فقط.');}});function loadAllExams(){const _0x5b9cc2=_0x124926,_0xbf7e8a=document['getElementById']('allExams');_0xbf7e8a['innerHTML']=_0x5b9cc2(0x263),db['collection'](_0x5b9cc2(0x293))['orderBy'](_0x5b9cc2(0x1b9),'desc')[_0x5b9cc2(0x267)]()[_0x5b9cc2(0x272)](_0x2c8711=>{const _0x35f494=_0x5b9cc2;if(_0x2c8711[_0x35f494(0x2ae)]){_0xbf7e8a[_0x35f494(0x383)]=_0x35f494(0x2aa);return;}_0xbf7e8a[_0x35f494(0x383)]='',_0x2c8711[_0x35f494(0x2d9)](_0x468ad3=>{const _0x546854=_0x35f494,_0x2028d9=_0x468ad3[_0x546854(0x319)]();(!_0x2028d9['allowedStudents']||_0x2028d9[_0x546854(0x2a2)]['length']===0x0||_0x2028d9['allowedStudents'][_0x546854(0x325)](currentUser[_0x546854(0x1dd)]))&&_0xbf7e8a[_0x546854(0x218)](createExamCard(_0x2028d9,_0x468ad3['id']));});})[_0x5b9cc2(0x380)](_0x16529e=>{const _0x35c930=_0x5b9cc2;_0xbf7e8a[_0x35c930(0x383)]='<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الاختبارات:\x20'+_0x16529e[_0x35c930(0x23d)]+_0x35c930(0x1f4);});}function processSelfTestQuestions(_0x331202){const _0x18efe0=_0x124926,_0x3c07de=document[_0x18efe0(0x357)]('selfTestQuestionsContainer');_0x3c07de[_0x18efe0(0x383)]='',_0x331202[_0x18efe0(0x2d9)]((_0x178022,_0x31e72c)=>{const _0x19a4a0=_0x18efe0,_0xa88c82=Date[_0x19a4a0(0x23c)]()+_0x31e72c,_0x1b842d=document[_0x19a4a0(0x1b1)]('div');_0x1b842d[_0x19a4a0(0x222)]=_0x19a4a0(0x1bb),_0x1b842d['id']='question-'+_0xa88c82,_0x1b842d[_0x19a4a0(0x383)]=_0x19a4a0(0x1e7)+(_0x178022[_0x19a4a0(0x32d)]||'')+_0x19a4a0(0x1c3)+_0xa88c82+_0x19a4a0(0x2f2)+[0x1,0x2,0x3,0x4]['map'](_0x47318d=>_0x19a4a0(0x337)+_0xa88c82+_0x19a4a0(0x275)+(_0x47318d-0x1)+'\x22\x20'+(_0x178022[_0x19a4a0(0x384)]==_0x47318d?_0x19a4a0(0x2ca):'')+_0x19a4a0(0x338)+(_0x178022[_0x19a4a0(0x2fa)+_0x47318d]||'')+_0x19a4a0(0x1bd))[_0x19a4a0(0x1f6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3c07de[_0x19a4a0(0x218)](_0x1b842d);}),alert(_0x18efe0(0x1f7));}document['getElementById'](_0x124926(0x375))[_0x124926(0x30c)](_0x124926(0x242),()=>{const _0x3fb9c3=_0x124926;currentQuestionIndex<currentExam[_0x3fb9c3(0x21d)][_0x3fb9c3(0x21f)]-0x1&&(currentQuestionIndex++,loadSelfTestQuestion(currentQuestionIndex));});function setupAuthenticatedUI(){const _0x4cbc74=_0x124926;authScreens[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]=_0x4cbc74(0x371),appContent[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]=_0x4cbc74(0x2dc),authButtons[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x371),userMenu[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x2dc),userName[_0x4cbc74(0x26a)]=currentUserData?.[_0x4cbc74(0x33b)]||currentUser[_0x4cbc74(0x273)],userRole===_0x4cbc74(0x2e4)?(menuCreateExam[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]=_0x4cbc74(0x2dc),menuCreateSlide[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]=_0x4cbc74(0x2dc),menuStudents[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x2dc),menuManageSelfTest[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x2dc),document[_0x4cbc74(0x357)](_0x4cbc74(0x20c))[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x2dc),document[_0x4cbc74(0x357)](_0x4cbc74(0x340))[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x2dc),document[_0x4cbc74(0x357)](_0x4cbc74(0x298))[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]=_0x4cbc74(0x371)):(menuCreateExam[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]='none',menuCreateSlide[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x371),menuStudents[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]=_0x4cbc74(0x371),menuManageSelfTest[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]=_0x4cbc74(0x371),document[_0x4cbc74(0x357)](_0x4cbc74(0x20c))[_0x4cbc74(0x2df)][_0x4cbc74(0x2c1)]='none',document[_0x4cbc74(0x357)](_0x4cbc74(0x340))[_0x4cbc74(0x2df)]['display']=_0x4cbc74(0x371),document['getElementById'](_0x4cbc74(0x298))['style'][_0x4cbc74(0x2c1)]='block'),setActiveMenuItem(menuDashboard);}menuDashboard[_0x124926(0x30c)](_0x124926(0x242),_0x49265b=>{const _0x27f574=_0x124926;_0x49265b[_0x27f574(0x2bb)](),setActiveMenuItem(menuDashboard),location[_0x27f574(0x34b)]();}),menuManageSelfTest[_0x124926(0x30c)](_0x124926(0x242),_0x29018b=>{const _0x3fdd0a=_0x124926;_0x29018b[_0x3fdd0a(0x2bb)](),setActiveMenuItem(menuManageSelfTest),showPage(manageSelfTestPage);});function showAuthForm(_0x4e2847){const _0x1bad86=_0x124926,_0x4886bb=document[_0x1bad86(0x357)](_0x1bad86(0x367));_0x4e2847===_0x1bad86(0x233)?(loginForm[_0x1bad86(0x2df)][_0x1bad86(0x2c1)]=_0x1bad86(0x2dc),registerForm['style'][_0x1bad86(0x2c1)]=_0x1bad86(0x371),_0x4886bb[_0x1bad86(0x2df)]['display']=_0x1bad86(0x2dc)):(loginForm[_0x1bad86(0x2df)][_0x1bad86(0x2c1)]='none',registerForm[_0x1bad86(0x2df)][_0x1bad86(0x2c1)]=_0x1bad86(0x2dc),_0x4886bb[_0x1bad86(0x2df)]['display']=_0x1bad86(0x371));}document[_0x124926(0x357)](_0x124926(0x36e))[_0x124926(0x30c)](_0x124926(0x242),()=>{const _0x3ed8b5=_0x124926;location[_0x3ed8b5(0x34b)]();});function showPage(_0x969466){const _0x50f84b=_0x124926,_0x763b39=[dashboardPage,examsPage,createExamPage,createSlidePage,takeExamPage,resultsPage,gradesPage,studentsPage,profilePage],_0x51e186=document[_0x50f84b(0x357)](_0x50f84b(0x367));_0x763b39[_0x50f84b(0x2d9)](_0x2700c0=>{const _0x5f5bdf=_0x50f84b;_0x2700c0[_0x5f5bdf(0x2df)][_0x5f5bdf(0x2c1)]='none';}),_0x51e186&&(_0x51e186[_0x50f84b(0x2df)][_0x50f84b(0x2c1)]=_0x50f84b(0x371)),_0x969466[_0x50f84b(0x2df)][_0x50f84b(0x2c1)]=_0x50f84b(0x2dc);}function setupUnauthenticatedUI(){const _0x52aff3=_0x124926;authScreens[_0x52aff3(0x2df)][_0x52aff3(0x2c1)]='block',appContent[_0x52aff3(0x2df)][_0x52aff3(0x2c1)]=_0x52aff3(0x371),authButtons[_0x52aff3(0x2df)][_0x52aff3(0x2c1)]='block',userMenu[_0x52aff3(0x2df)][_0x52aff3(0x2c1)]='none',showAuthForm(_0x52aff3(0x233));}function showAuthForm(_0x58aa31){const _0x115d93=_0x124926;_0x58aa31===_0x115d93(0x233)?(loginForm[_0x115d93(0x2df)][_0x115d93(0x2c1)]=_0x115d93(0x2dc),registerForm[_0x115d93(0x2df)][_0x115d93(0x2c1)]=_0x115d93(0x371)):(loginForm[_0x115d93(0x2df)][_0x115d93(0x2c1)]=_0x115d93(0x371),registerForm[_0x115d93(0x2df)]['display']=_0x115d93(0x2dc));}document[_0x124926(0x357)]('loginBtn')['addEventListener'](_0x124926(0x242),()=>{const _0xc29e5b=_0x124926,_0x24a576=document['getElementById']('loginForm');_0x24a576&&_0x24a576[_0xc29e5b(0x1bf)]({'behavior':_0xc29e5b(0x37f),'block':_0xc29e5b(0x1fb)});});function loadStudentsForExam(){const _0xb93b03=_0x124926,_0x1164d0=document[_0xb93b03(0x357)](_0xb93b03(0x2a2));_0x1164d0[_0xb93b03(0x383)]=_0xb93b03(0x1f5),db['collection']('users')['where'](_0xb93b03(0x1c2),'==',_0xb93b03(0x369))['get']()[_0xb93b03(0x272)](_0x3386dd=>{const _0x13d36d=_0xb93b03;_0x1164d0[_0x13d36d(0x383)]='',_0x3386dd['forEach'](_0x1d445a=>{const _0x5a8d5d=_0x13d36d,_0x5d9304=_0x1d445a[_0x5a8d5d(0x319)]();_0x1164d0['innerHTML']+=_0x5a8d5d(0x29c)+_0x1d445a['id']+'\x22>'+_0x5d9304[_0x5a8d5d(0x33b)]+'\x20('+_0x5d9304['email']+_0x5a8d5d(0x1ec);});})['catch'](_0x266978=>{const _0x2da965=_0xb93b03;_0x1164d0['innerHTML']=_0x2da965(0x289)+_0x266978[_0x2da965(0x23d)]+'</option>';});}menuCreateExam[_0x124926(0x30c)](_0x124926(0x242),_0x3fc6d1=>{const _0x504b36=_0x124926;_0x3fc6d1[_0x504b36(0x2bb)]();if(userRole!==_0x504b36(0x2e4)){alert(_0x504b36(0x245));return;}setActiveMenuItem(menuCreateExam),showPage(createExamPage);});function saveExam(_0x4c120c){const _0x2f2c67=_0x124926;_0x4c120c[_0x2f2c67(0x2bb)]();if(userRole!==_0x2f2c67(0x2e4)){alert(_0x2f2c67(0x2a9));return;}const _0x3ea7af=document[_0x2f2c67(0x357)](_0x2f2c67(0x28b))[_0x2f2c67(0x2cc)]['trim'](),_0x2b8241=document[_0x2f2c67(0x357)](_0x2f2c67(0x32c))[_0x2f2c67(0x2cc)][_0x2f2c67(0x1fa)](),_0x1683ed=parseInt(document['getElementById'](_0x2f2c67(0x1ae))['value']),_0x1ce5c0=parseInt(document['getElementById']('examTotalMarks')[_0x2f2c67(0x2cc)]),_0x1ea828=Array[_0x2f2c67(0x312)](document['getElementById']('allowedStudents')[_0x2f2c67(0x2a5)])[_0x2f2c67(0x212)](_0x3b1db8=>_0x3b1db8[_0x2f2c67(0x2cc)]);if(!_0x3ea7af||!_0x2b8241||isNaN(_0x1683ed)||isNaN(_0x1ce5c0)){alert('يرجى\x20ملء\x20جميع\x20الحقول\x20المطلوبة.');return;}if(_0x1ea828[_0x2f2c67(0x21f)]===0x0){const _0x36271e=confirm(_0x2f2c67(0x1d6));if(!_0x36271e)return;}const _0x38acda=[],_0x618a6f=document[_0x2f2c67(0x2a6)](_0x2f2c67(0x2b3));_0x618a6f[_0x2f2c67(0x2d9)](_0x3676c1=>{const _0xe7b78d=_0x2f2c67,_0x5c175c=_0x3676c1[_0xe7b78d(0x379)](_0xe7b78d(0x247))[_0xe7b78d(0x2cc)][_0xe7b78d(0x1fa)](),_0x3eb169=_0x3676c1[_0xe7b78d(0x2a6)](_0xe7b78d(0x239)),_0x2de399=parseInt(_0x3676c1[_0xe7b78d(0x379)]('input[name^=\x22correct-\x22]:checked')?.[_0xe7b78d(0x2cc)]);if(!_0x5c175c||isNaN(_0x2de399)){alert(_0xe7b78d(0x1c6));return;}const _0x2b1271=Array['from'](_0x3eb169)[_0xe7b78d(0x212)](_0x586515=>({'text':_0x586515[_0xe7b78d(0x2cc)][_0xe7b78d(0x1fa)]()}));_0x38acda['push']({'text':_0x5c175c,'options':_0x2b1271,'correctAnswer':_0x2de399});}),db['collection']('exams')[_0x2f2c67(0x2e7)]({'title':_0x3ea7af,'description':_0x2b8241,'duration':_0x1683ed,'totalMarks':_0x1ce5c0,'questions':_0x38acda,'allowedStudents':_0x1ea828,'createdBy':currentUserData?.[_0x2f2c67(0x33b)]||currentUser[_0x2f2c67(0x273)],'createdAt':firebase['firestore'][_0x2f2c67(0x2a3)][_0x2f2c67(0x333)](),'userId':currentUser[_0x2f2c67(0x1dd)]})[_0x2f2c67(0x272)](()=>{const _0x5acfc4=_0x2f2c67;alert(_0x5acfc4(0x37b)),document[_0x5acfc4(0x357)](_0x5acfc4(0x2a4))['reset'](),document[_0x5acfc4(0x357)]('questionsContainer')[_0x5acfc4(0x383)]='';})[_0x2f2c67(0x380)](_0x3f2ec5=>{const _0x3483d8=_0x2f2c67;alert('حدث\x20خطأ\x20أثناء\x20حفظ\x20الاختبار:\x20'+_0x3f2ec5[_0x3483d8(0x23d)]);});}function deleteSlide(_0xba5003){const _0x84931=_0x124926;db['collection'](_0x84931(0x226))[_0x84931(0x28f)](_0xba5003)[_0x84931(0x1b7)]()[_0x84931(0x272)](()=>{const _0x522a6b=_0x84931;showToast(_0x522a6b(0x2f3)),loadSlides();})[_0x84931(0x380)](_0x433cdb=>{const _0x251797=_0x84931;showToast(_0x251797(0x1db)+_0x433cdb[_0x251797(0x23d)],_0x251797(0x31a));});}function showAccountDisabledModal(){const _0x5cb740=_0x124926,_0x1fa4a5=document[_0x5cb740(0x357)](_0x5cb740(0x2b5));_0x1fa4a5[_0x5cb740(0x2df)][_0x5cb740(0x2c1)]=_0x5cb740(0x1fe),setTimeout(()=>{const _0x147bb8=_0x5cb740;auth[_0x147bb8(0x251)]();},0xbb8);}function closeAccountDisabledModal(){const _0x1e84b9=_0x124926,_0x1d0492=document['getElementById'](_0x1e84b9(0x2b5));_0x1d0492[_0x1e84b9(0x2df)]['display']=_0x1e84b9(0x371);}function showToast(_0x44c405,_0x1d4ab7=_0x124926(0x299)){const _0x353eba=_0x124926,_0x3cbc38=document['getElementById'](_0x353eba(0x1c9)),_0x2bb076=document[_0x353eba(0x357)](_0x353eba(0x363));_0x2bb076['textContent']=_0x44c405,_0x3cbc38[_0x353eba(0x2df)][_0x353eba(0x36d)]=_0x1d4ab7==='success'?_0x353eba(0x301):_0x353eba(0x306),_0x3cbc38['style'][_0x353eba(0x2c1)]='flex',setTimeout(()=>{const _0x291d77=_0x353eba;_0x3cbc38[_0x291d77(0x2df)][_0x291d77(0x2ad)]=_0x291d77(0x33c),setTimeout(()=>{const _0x946ae=_0x291d77;_0x3cbc38[_0x946ae(0x2df)]['display']=_0x946ae(0x371),_0x3cbc38[_0x946ae(0x2df)]['animation']=_0x946ae(0x248);},0x1f4);},0xbb8);}function loadRecentExams(){const _0x5b392c=_0x124926,_0x15da74=document[_0x5b392c(0x357)](_0x5b392c(0x1e9));_0x15da74[_0x5b392c(0x383)]=_0x5b392c(0x263),db[_0x5b392c(0x1d9)](_0x5b392c(0x293))[_0x5b392c(0x2f0)](_0x5b392c(0x1b9),_0x5b392c(0x385))['limit'](0x384)[_0x5b392c(0x267)]()[_0x5b392c(0x272)](_0x55b3a7=>{const _0x258a65=_0x5b392c;if(_0x55b3a7[_0x258a65(0x2ae)]){_0x15da74[_0x258a65(0x383)]='<p>لا\x20توجد\x20اختبارات\x20متاحة\x20حالياً</p>';return;}_0x15da74[_0x258a65(0x383)]='',_0x55b3a7[_0x258a65(0x2d9)](_0x1f0131=>{const _0x47b3ab=_0x258a65,_0x1768a6=_0x1f0131['data']();(!_0x1768a6[_0x47b3ab(0x2a2)]||_0x1768a6[_0x47b3ab(0x2a2)][_0x47b3ab(0x21f)]===0x0||_0x1768a6[_0x47b3ab(0x2a2)][_0x47b3ab(0x325)](currentUser[_0x47b3ab(0x1dd)]))&&_0x15da74[_0x47b3ab(0x218)](createExamCard(_0x1768a6,_0x1f0131['id']));});})['catch'](_0x40e016=>{const _0x43f746=_0x5b392c;_0x15da74['innerHTML']=_0x43f746(0x286)+_0x40e016[_0x43f746(0x23d)]+_0x43f746(0x1f4);});}function setActiveMenuItem(_0x1a7133){const _0x1bc17d=_0x124926,_0x7b902d=[menuDashboard,menuExams,menuCreateExam,menuCreateSlide,menuResults,menuGrades,menuStudents,menuProfile];_0x7b902d[_0x1bc17d(0x2d9)](_0x52b867=>{_0x52b867['classList']['remove']('active');}),_0x1a7133[_0x1bc17d(0x203)][_0x1bc17d(0x2e7)](_0x1bc17d(0x207));}function showAuthForm(_0x73933a){const _0x17944c=_0x124926,_0x596957=document['getElementById']('aboutSection');_0x73933a===_0x17944c(0x233)?(loginForm['style']['display']=_0x17944c(0x2dc),registerForm[_0x17944c(0x2df)]['display']=_0x17944c(0x371),_0x596957[_0x17944c(0x2df)]['display']='block'):(loginForm[_0x17944c(0x2df)]['display']=_0x17944c(0x371),registerForm[_0x17944c(0x2df)]['display']=_0x17944c(0x2dc),_0x596957[_0x17944c(0x2df)][_0x17944c(0x2c1)]=_0x17944c(0x371));}function confirmDeleteExam(_0xb07129){const _0x3759b6=_0x124926,_0x50cb84=document[_0x3759b6(0x357)]('deleteExamModal');_0x50cb84['style'][_0x3759b6(0x2c1)]=_0x3759b6(0x1fe);const _0x13f5ed=document[_0x3759b6(0x357)]('confirmDeleteBtn'),_0x2f5160=document['getElementById'](_0x3759b6(0x210));_0x13f5ed['replaceWith'](_0x13f5ed[_0x3759b6(0x2f1)](!![])),_0x2f5160[_0x3759b6(0x330)](_0x2f5160[_0x3759b6(0x2f1)](!![])),document[_0x3759b6(0x357)]('confirmDeleteBtn')[_0x3759b6(0x30c)](_0x3759b6(0x242),()=>{const _0x5e0acc=_0x3759b6;_0x50cb84[_0x5e0acc(0x2df)][_0x5e0acc(0x2c1)]=_0x5e0acc(0x371),deleteExam(_0xb07129);}),document[_0x3759b6(0x357)](_0x3759b6(0x210))['addEventListener'](_0x3759b6(0x242),()=>{const _0xa5b254=_0x3759b6;_0x50cb84[_0xa5b254(0x2df)][_0xa5b254(0x2c1)]=_0xa5b254(0x371);});}function deleteExam(_0x2b9279){const _0x2d5645=_0x124926;db[_0x2d5645(0x1d9)]('exams')['doc'](_0x2b9279)[_0x2d5645(0x1b7)]()['then'](()=>{alert('تم\x20حذف\x20الاختبار\x20بنجاح!'),loadAllExams();})[_0x2d5645(0x380)](_0x19ef0e=>{const _0x2fed7c=_0x2d5645;alert('حدث\x20خطأ\x20أثناء\x20حذف\x20الاختبار:\x20'+_0x19ef0e[_0x2fed7c(0x23d)]);});}document['getElementById'](_0x124926(0x375))[_0x124926(0x30c)](_0x124926(0x242),()=>{const _0x332480=_0x124926;selfTestCurrentIndex<selfTestQuestions[_0x332480(0x21f)]-0x1&&(selfTestCurrentIndex++,loadSelfTestQuestion(selfTestCurrentIndex));}),document[_0x124926(0x357)](_0x124926(0x362))[_0x124926(0x30c)](_0x124926(0x242),finishSelfTest);function showPage(_0x58bf26){const _0x494818=_0x124926,_0x3883fe=[dashboardPage,examsPage,createExamPage,createSlidePage,takeExamPage,resultsPage,gradesPage,studentsPage,profilePage];_0x3883fe[_0x494818(0x2d9)](_0x101822=>{const _0x3e250f=_0x494818;_0x101822[_0x3e250f(0x2df)]['display']=_0x3e250f(0x371);}),_0x58bf26['style']['display']=_0x494818(0x2dc);}function loadDashboard(){showPage(dashboardPage),loadRecentExams(),loadSlides(),userRole==='teacher'?loadStudentsProgress():loadStudentProgress();}function loadRecentExams(){const _0x23ad8b=_0x124926,_0x518879=document[_0x23ad8b(0x357)]('recentExams');_0x518879[_0x23ad8b(0x383)]='<p>جاري\x20تحميل\x20الاختبارات...</p>',db[_0x23ad8b(0x1d9)](_0x23ad8b(0x293))[_0x23ad8b(0x2f0)]('createdAt',_0x23ad8b(0x385))[_0x23ad8b(0x211)](0x384)['get']()['then'](_0x3ae498=>{const _0x3731a5=_0x23ad8b;if(_0x3ae498['empty']){_0x518879[_0x3731a5(0x383)]='<p>لا\x20توجد\x20اختبارات\x20متاحة\x20حالياً</p>';return;}_0x518879[_0x3731a5(0x383)]='',_0x3ae498[_0x3731a5(0x2d9)](_0x4c1ae6=>{const _0x349b4e=_0x3731a5,_0x4b43d1=_0x4c1ae6[_0x349b4e(0x319)]();_0x518879[_0x349b4e(0x218)](createExamCard(_0x4b43d1,_0x4c1ae6['id']));});})[_0x23ad8b(0x380)](_0x2de271=>{const _0x1381fd=_0x23ad8b;_0x518879[_0x1381fd(0x383)]=_0x1381fd(0x286)+_0x2de271[_0x1381fd(0x23d)]+_0x1381fd(0x1f4);});}document[_0x124926(0x357)]('bulkUploadBtn')[_0x124926(0x30c)](_0x124926(0x242),()=>{const _0x216d98=_0x124926;document['getElementById'](_0x216d98(0x268))['click']();}),document[_0x124926(0x357)](_0x124926(0x268))['addEventListener'](_0x124926(0x365),_0x5b83cd=>{const _0x325cd5=_0x124926,_0x3612f3=_0x5b83cd[_0x325cd5(0x288)][_0x325cd5(0x246)][0x0];if(!_0x3612f3)return;const _0x49ef25=_0x3612f3[_0x325cd5(0x33b)][_0x325cd5(0x2f7)]('.')[_0x325cd5(0x258)]()[_0x325cd5(0x221)]();if(_0x49ef25===_0x325cd5(0x29f))Papa[_0x325cd5(0x1b3)](_0x3612f3,{'header':!![],'complete':function(_0x31e130){processQuestions(_0x31e130['data']);},'error':function(_0x4a9a62){const _0x3efe80=_0x325cd5;alert(_0x3efe80(0x20e)+_0x4a9a62[_0x3efe80(0x23d)]);}});else{if([_0x325cd5(0x256),_0x325cd5(0x2f5)][_0x325cd5(0x325)](_0x49ef25)){const _0xeef0f2=new FileReader();_0xeef0f2['onload']=function(_0x1d94d9){const _0x267548=_0x325cd5,_0x1c697b=new Uint8Array(_0x1d94d9['target'][_0x267548(0x205)]),_0x435676=XLSX[_0x267548(0x31b)](_0x1c697b,{'type':'array'}),_0x17c173=_0x435676[_0x267548(0x1fd)][0x0],_0x413c00=_0x435676[_0x267548(0x296)][_0x17c173],_0x72d04a=XLSX[_0x267548(0x326)][_0x267548(0x1b5)](_0x413c00);processQuestions(_0x72d04a);},_0xeef0f2[_0x325cd5(0x35d)](_0x3612f3);}else alert(_0x325cd5(0x345));}});function confirmDeleteSelfTest(_0x1e1f1d){const _0x4f4e84=_0x124926,_0x5bae17=document[_0x4f4e84(0x357)]('deleteSelfTestModal');_0x5bae17[_0x4f4e84(0x2df)][_0x4f4e84(0x2c1)]=_0x4f4e84(0x1fe);const _0x5af9f8=document[_0x4f4e84(0x357)](_0x4f4e84(0x2bd)),_0x588071=document[_0x4f4e84(0x357)](_0x4f4e84(0x302));_0x5af9f8[_0x4f4e84(0x330)](_0x5af9f8[_0x4f4e84(0x2f1)](!![])),_0x588071[_0x4f4e84(0x330)](_0x588071[_0x4f4e84(0x2f1)](!![])),document[_0x4f4e84(0x357)](_0x4f4e84(0x2bd))['addEventListener'](_0x4f4e84(0x242),()=>{const _0x45da42=_0x4f4e84;_0x5bae17[_0x45da42(0x2df)]['display']=_0x45da42(0x371),deleteSelfTest(_0x1e1f1d);}),document[_0x4f4e84(0x357)]('cancelDeleteSelfTestBtn')[_0x4f4e84(0x30c)](_0x4f4e84(0x242),()=>{const _0x3aef04=_0x4f4e84;_0x5bae17['style'][_0x3aef04(0x2c1)]=_0x3aef04(0x371);});}function toggleDropdown(){const _0x930419=_0x124926,_0x2a6597=document[_0x930419(0x357)](_0x930419(0x253));_0x2a6597[_0x930419(0x2df)][_0x930419(0x2c1)]=_0x2a6597[_0x930419(0x2df)][_0x930419(0x2c1)]==='block'?_0x930419(0x371):_0x930419(0x2dc);}document[_0x124926(0x30c)](_0x124926(0x242),_0x45b349=>{const _0x20725d=_0x124926,_0x13063e=document[_0x20725d(0x357)](_0x20725d(0x22f)),_0x29cb3e=document[_0x20725d(0x357)]('dropdownMenu');!_0x13063e[_0x20725d(0x316)](_0x45b349[_0x20725d(0x288)])&&(_0x29cb3e[_0x20725d(0x2df)][_0x20725d(0x2c1)]='none');}),document['getElementById']('submitExamBtn')[_0x124926(0x30c)](_0x124926(0x242),()=>{const _0x509d95=_0x124926,_0x3badc3=document[_0x509d95(0x357)](_0x509d95(0x25b));_0x3badc3['style']['display']=_0x509d95(0x1fe);const _0x42dbe0=document[_0x509d95(0x357)]('confirmYes'),_0x265d7f=document[_0x509d95(0x357)]('confirmNo');_0x42dbe0[_0x509d95(0x330)](_0x42dbe0[_0x509d95(0x2f1)](!![])),_0x265d7f[_0x509d95(0x330)](_0x265d7f[_0x509d95(0x2f1)](!![])),document[_0x509d95(0x357)](_0x509d95(0x257))[_0x509d95(0x30c)](_0x509d95(0x242),()=>{const _0x3252a0=_0x509d95;_0x3badc3[_0x3252a0(0x2df)][_0x3252a0(0x2c1)]=_0x3252a0(0x371),submitExam();}),document[_0x509d95(0x357)]('confirmNo')[_0x509d95(0x30c)](_0x509d95(0x242),()=>{const _0x499f73=_0x509d95;_0x3badc3[_0x499f73(0x2df)][_0x499f73(0x2c1)]=_0x499f73(0x371);});});function processQuestions(_0x3896b7){const _0xd0c6ef=_0x124926,_0x3e2f5d=document['getElementById']('questionsContainer');_0x3e2f5d[_0xd0c6ef(0x383)]='',_0x3896b7[_0xd0c6ef(0x2d9)]((_0x424cfc,_0x4d1949)=>{const _0x5a4725=_0xd0c6ef,_0xcde7f3=Date[_0x5a4725(0x23c)]()+_0x4d1949,_0x59105c=document[_0x5a4725(0x1b1)](_0x5a4725(0x31f));_0x59105c[_0x5a4725(0x222)]='question-container',_0x59105c['id']='question-'+_0xcde7f3,_0x59105c['innerHTML']=_0x5a4725(0x1e7)+(_0x424cfc[_0x5a4725(0x32d)]||'')+_0x5a4725(0x1c3)+_0xcde7f3+_0x5a4725(0x2f2)+[0x1,0x2,0x3,0x4]['map'](_0x753159=>_0x5a4725(0x337)+_0xcde7f3+_0x5a4725(0x275)+(_0x753159-0x1)+'\x22\x20'+(_0x424cfc[_0x5a4725(0x384)]==_0x753159?_0x5a4725(0x2ca):'')+'\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20value=\x22'+(_0x424cfc[_0x5a4725(0x2fa)+_0x753159]||'')+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x5a4725(0x327),_0x3e2f5d[_0x5a4725(0x218)](_0x59105c);}),alert(_0xd0c6ef(0x1f7));}function createExamCard(_0x3bdbb1,_0x260417){const _0x16366d=_0x124926,_0x94477d=document[_0x16366d(0x1b1)]('div');_0x94477d[_0x16366d(0x222)]=_0x16366d(0x374);const _0x44b951=document[_0x16366d(0x1b1)](_0x16366d(0x31f));_0x44b951['className']=_0x16366d(0x311),_0x44b951[_0x16366d(0x383)]='<i\x20class=\x22fas\x20fa-clipboard-list\x22></i>\x20'+_0x3bdbb1['title'];const _0x2f292a=document['createElement'](_0x16366d(0x31f));_0x2f292a[_0x16366d(0x222)]=_0x16366d(0x1d7),_0x2f292a[_0x16366d(0x383)]=_0x16366d(0x373)+(_0x3bdbb1[_0x16366d(0x320)]||'')+_0x16366d(0x1f4);const _0x4ffe19=document['createElement'](_0x16366d(0x31f));_0x4ffe19[_0x16366d(0x222)]=_0x16366d(0x1d5),_0x4ffe19['innerHTML']=_0x16366d(0x36c)+(_0x3bdbb1[_0x16366d(0x1c0)]||_0x16366d(0x216))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3bdbb1[_0x16366d(0x300)]+_0x16366d(0x2f6)+(_0x3bdbb1[_0x16366d(0x281)]||0x64)+_0x16366d(0x25a);const _0xdd0e80=document[_0x16366d(0x1b1)]('div');_0xdd0e80[_0x16366d(0x222)]=_0x16366d(0x223);const _0x5ba162=document[_0x16366d(0x1b1)](_0x16366d(0x37e));_0x5ba162[_0x16366d(0x222)]=_0x16366d(0x2ac),_0x5ba162[_0x16366d(0x26a)]=_0x16366d(0x322),_0x5ba162[_0x16366d(0x30c)](_0x16366d(0x242),()=>startExam(_0x3bdbb1,_0x260417)),_0xdd0e80[_0x16366d(0x218)](_0x5ba162);if(userRole===_0x16366d(0x2e4)){const _0x100e7b=document[_0x16366d(0x1b1)](_0x16366d(0x37e));_0x100e7b[_0x16366d(0x222)]=_0x16366d(0x34e),_0x100e7b[_0x16366d(0x26a)]=_0x16366d(0x33a),_0x100e7b[_0x16366d(0x30c)](_0x16366d(0x242),()=>editExam(_0x3bdbb1,_0x260417)),_0xdd0e80[_0x16366d(0x218)](_0x100e7b);const _0x5d36d3=document[_0x16366d(0x1b1)](_0x16366d(0x37e));_0x5d36d3[_0x16366d(0x222)]=_0x16366d(0x34c),_0x5d36d3[_0x16366d(0x26a)]='حذف',_0x5d36d3[_0x16366d(0x30c)](_0x16366d(0x242),()=>confirmDeleteExam(_0x260417)),_0xdd0e80[_0x16366d(0x218)](_0x5d36d3);}return _0x94477d['appendChild'](_0x44b951),_0x94477d[_0x16366d(0x218)](_0x4ffe19),_0x94477d[_0x16366d(0x218)](_0x2f292a),_0x94477d[_0x16366d(0x218)](_0xdd0e80),_0x94477d;}function showAccountDisabledModal(){const _0x9a65f0=_0x124926,_0x366f4d=document[_0x9a65f0(0x357)]('accountDisabledModal');_0x366f4d[_0x9a65f0(0x2df)]['display']='flex',setTimeout(()=>{auth['signOut']();},0xbb8);}function closeAccountDisabledModal(){const _0xfc3556=_0x124926,_0x38acde=document['getElementById']('accountDisabledModal');_0x38acde[_0xfc3556(0x2df)]['display']=_0xfc3556(0x371);}function loadSelfTests(){const _0x1f72d2=_0x124926,_0x394ab1=document['getElementById'](_0x1f72d2(0x349));_0x394ab1[_0x1f72d2(0x383)]=_0x1f72d2(0x206),db['collection']('selfTests')[_0x1f72d2(0x2f0)](_0x1f72d2(0x1b9),_0x1f72d2(0x385))[_0x1f72d2(0x267)]()[_0x1f72d2(0x272)](_0x3fd89b=>{const _0x3c1a32=_0x1f72d2;if(_0x3fd89b['empty']){_0x394ab1[_0x3c1a32(0x383)]=_0x3c1a32(0x292);return;}_0x394ab1['innerHTML']='',_0x3fd89b[_0x3c1a32(0x2d9)](_0xbde87c=>{const _0x2b6776=_0x3c1a32,_0xadd1ff=_0xbde87c[_0x2b6776(0x319)]();_0x394ab1[_0x2b6776(0x218)](createSelfTestCard(_0xadd1ff,_0xbde87c['id']));});})[_0x1f72d2(0x380)](_0x60efd3=>{const _0x4e2603=_0x1f72d2;_0x394ab1[_0x4e2603(0x383)]='<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20اختبارات\x20\x22اختبر\x20نفسك\x22:\x20'+_0x60efd3[_0x4e2603(0x23d)]+'</p>';});}function createSelfTestCard(_0x1edde4,_0x217a71){const _0x14ccf1=_0x124926,_0x596224=document['createElement'](_0x14ccf1(0x31f));_0x596224[_0x14ccf1(0x222)]=_0x14ccf1(0x284);const _0xd9c387=document[_0x14ccf1(0x1b1)](_0x14ccf1(0x31f));_0xd9c387[_0x14ccf1(0x222)]=_0x14ccf1(0x2c8),_0xd9c387[_0x14ccf1(0x26a)]=_0x1edde4[_0x14ccf1(0x30a)];const _0x569172=document[_0x14ccf1(0x1b1)]('div');_0x569172[_0x14ccf1(0x222)]=_0x14ccf1(0x361),_0x569172[_0x14ccf1(0x383)]=_0x14ccf1(0x2e9)+(_0x1edde4[_0x14ccf1(0x320)]||_0x14ccf1(0x26b))+_0x14ccf1(0x1e0)+_0x1edde4[_0x14ccf1(0x21d)][_0x14ccf1(0x21f)]+_0x14ccf1(0x36f);const _0x5a1482=document[_0x14ccf1(0x1b1)](_0x14ccf1(0x31f));_0x5a1482['className']='self-test-card-footer';const _0xb0cd96=document[_0x14ccf1(0x1b1)](_0x14ccf1(0x37e));_0xb0cd96[_0x14ccf1(0x222)]=_0x14ccf1(0x2ac),_0xb0cd96[_0x14ccf1(0x26a)]=_0x14ccf1(0x322),_0xb0cd96[_0x14ccf1(0x2df)][_0x14ccf1(0x358)]=_0x14ccf1(0x2fc),_0xb0cd96[_0x14ccf1(0x30c)](_0x14ccf1(0x242),()=>startSelfTest(_0x1edde4,_0x217a71)),_0x5a1482[_0x14ccf1(0x218)](_0xb0cd96);if(userRole==='teacher'){const _0x483227=document[_0x14ccf1(0x1b1)]('button');_0x483227[_0x14ccf1(0x222)]='btn\x20btn-danger',_0x483227[_0x14ccf1(0x26a)]=_0x14ccf1(0x31d),_0x483227[_0x14ccf1(0x30c)](_0x14ccf1(0x242),()=>confirmDeleteSelfTest(_0x217a71)),_0x5a1482[_0x14ccf1(0x218)](_0x483227);}return _0x596224[_0x14ccf1(0x218)](_0xd9c387),_0x596224[_0x14ccf1(0x218)](_0x569172),_0x596224[_0x14ccf1(0x218)](_0x5a1482),_0x596224;}function startSelfTest(_0x2fe0e2,_0x55a247){currentExam={..._0x2fe0e2,'id':_0x55a247},currentQuestionIndex=0x0,userAnswers={},loadSelfTestQuestion(currentQuestionIndex),showPage(selfTestPage);}function loadSelfTestQuestion(_0xb12b82){const _0xf2e3a0=_0x124926,_0x58bf2e=currentExam[_0xf2e3a0(0x21d)][_0xb12b82],_0x566ca1=document[_0xf2e3a0(0x357)](_0xf2e3a0(0x346)),_0x47d830=document[_0xf2e3a0(0x357)](_0xf2e3a0(0x269));_0x47d830['style']['display']=_0xf2e3a0(0x371),_0x47d830[_0xf2e3a0(0x383)]='',_0x566ca1[_0xf2e3a0(0x383)]=_0xf2e3a0(0x376)+(_0xb12b82+0x1)+':\x20'+_0x58bf2e['text']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22options-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58bf2e['options'][_0xf2e3a0(0x212)]((_0x492266,_0x70fc29)=>_0xf2e3a0(0x255)+_0xb12b82+'\x22\x20value=\x22'+_0x70fc29+_0xf2e3a0(0x2c9)+_0x492266[_0xf2e3a0(0x1c7)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xf2e3a0(0x1f6)]('')+_0xf2e3a0(0x1c1),document[_0xf2e3a0(0x2a6)]('.option-label')['forEach'](_0x5334a3=>{const _0x5616c1=_0xf2e3a0;_0x5334a3[_0x5616c1(0x30c)]('click',function(){const _0x4c36e6=_0x5616c1;document[_0x4c36e6(0x2a6)](_0x4c36e6(0x225))[_0x4c36e6(0x2d9)](_0x28a1d7=>_0x28a1d7[_0x4c36e6(0x203)]['remove'](_0x4c36e6(0x1e2))),this['classList'][_0x4c36e6(0x2e7)](_0x4c36e6(0x1e2));const _0x12297a=this[_0x4c36e6(0x379)](_0x4c36e6(0x282));_0x12297a['checked']=!![],userAnswers[_0xb12b82]=parseInt(_0x12297a[_0x4c36e6(0x2cc)]),showFeedback(_0xb12b82);});}),document[_0xf2e3a0(0x357)](_0xf2e3a0(0x1ba))[_0xf2e3a0(0x2df)][_0xf2e3a0(0x2c1)]=_0xb12b82>0x0?_0xf2e3a0(0x1b2):_0xf2e3a0(0x371),document['getElementById'](_0xf2e3a0(0x375))['style']['display']=_0xb12b82<currentExam[_0xf2e3a0(0x21d)][_0xf2e3a0(0x21f)]-0x1?_0xf2e3a0(0x1b2):_0xf2e3a0(0x371),document[_0xf2e3a0(0x357)](_0xf2e3a0(0x362))[_0xf2e3a0(0x2df)][_0xf2e3a0(0x2c1)]=_0xb12b82===currentExam[_0xf2e3a0(0x21d)][_0xf2e3a0(0x21f)]-0x1?_0xf2e3a0(0x1b2):_0xf2e3a0(0x371);}document[_0x124926(0x357)](_0x124926(0x1ba))[_0x124926(0x30c)](_0x124926(0x242),()=>{currentQuestionIndex>0x0&&(currentQuestionIndex--,loadSelfTestQuestion(currentQuestionIndex));});function showFeedback(_0x2e824c){const _0x50f253=_0x124926,_0x32e831=currentExam['questions'][_0x2e824c],_0x5aa6ac=userAnswers[_0x2e824c],_0x1ea34b=document['getElementById'](_0x50f253(0x269));_0x1ea34b['style']['display']='block',_0x5aa6ac===_0x32e831[_0x50f253(0x2cf)]?(_0x1ea34b['className']=_0x50f253(0x219),_0x1ea34b[_0x50f253(0x383)]=_0x50f253(0x1da)):(_0x1ea34b[_0x50f253(0x222)]=_0x50f253(0x2c2),_0x1ea34b[_0x50f253(0x383)]=_0x50f253(0x204)+_0x32e831[_0x50f253(0x2a1)][_0x32e831[_0x50f253(0x2cf)]][_0x50f253(0x1c7)]+_0x50f253(0x254)),document[_0x50f253(0x357)]('nextSelfTestQuestionBtn')[_0x50f253(0x2df)][_0x50f253(0x2c1)]=_0x2e824c<currentExam[_0x50f253(0x21d)][_0x50f253(0x21f)]-0x1?_0x50f253(0x1b2):_0x50f253(0x371),document[_0x50f253(0x357)]('finishSelfTestBtn')['style'][_0x50f253(0x2c1)]=_0x2e824c===currentExam[_0x50f253(0x21d)][_0x50f253(0x21f)]-0x1?_0x50f253(0x1b2):_0x50f253(0x371);}function loadDashboard(){const _0x4c8498=_0x124926;showPage(dashboardPage),loadRecentExams(),loadSlides(),loadSelfTests(),userRole===_0x4c8498(0x2e4)?loadStudentsProgress():loadStudentProgress();}document[_0x124926(0x357)](_0x124926(0x2c7))[_0x124926(0x30c)](_0x124926(0x242),_0x2dd3d1=>{const _0x2e7214=_0x124926;_0x2dd3d1[_0x2e7214(0x2bb)](),setActiveMenuItem(menuManageSelfTest),showPage(manageSelfTestPage);});function showPage(_0x253a88){const _0x521199=_0x124926,_0x52b6aa=[dashboardPage,examsPage,createExamPage,createSlidePage,takeExamPage,resultsPage,gradesPage,studentsPage,profilePage,manageSelfTestPage];_0x52b6aa[_0x521199(0x2d9)](_0xe71b8d=>{const _0xf0f83=_0x521199;_0xe71b8d[_0xf0f83(0x2df)]['display']=_0xf0f83(0x371);}),_0x253a88[_0x521199(0x2df)][_0x521199(0x2c1)]=_0x521199(0x2dc);}document[_0x124926(0x357)](_0x124926(0x201))['addEventListener'](_0x124926(0x242),()=>{const _0x3dc0ed=_0x124926,_0x3c0222=document[_0x3dc0ed(0x357)](_0x3dc0ed(0x2bf)),_0x5485bb=Date[_0x3dc0ed(0x23c)](),_0x20fed5=document['createElement'](_0x3dc0ed(0x31f));_0x20fed5['className']=_0x3dc0ed(0x1bb),_0x20fed5['id']=_0x3dc0ed(0x321)+_0x5485bb,_0x20fed5['innerHTML']=_0x3dc0ed(0x34d)+_0x5485bb+_0x3dc0ed(0x317)+_0x5485bb+_0x3dc0ed(0x22e)+_0x5485bb+_0x3dc0ed(0x1eb)+_0x5485bb+_0x3dc0ed(0x34a)+_0x5485bb+_0x3dc0ed(0x260),_0x3c0222[_0x3dc0ed(0x218)](_0x20fed5);});function addOption(_0x636f2c){const _0x2a92b1=_0x124926,_0x4bf09d=document[_0x2a92b1(0x357)](_0x2a92b1(0x307)+_0x636f2c),_0x340bb2=_0x4bf09d[_0x2a92b1(0x2b2)]['length'];if(_0x340bb2>=0x5){alert(_0x2a92b1(0x2b9));return;}const _0xf34ce6=document[_0x2a92b1(0x1b1)](_0x2a92b1(0x31f));_0xf34ce6['className']='option-item',_0xf34ce6[_0x2a92b1(0x383)]=_0x2a92b1(0x209)+_0x636f2c+_0x2a92b1(0x275)+_0x340bb2+_0x2a92b1(0x20b)+(_0x340bb2+0x1)+_0x2a92b1(0x1ad),_0x4bf09d[_0x2a92b1(0x218)](_0xf34ce6);}function removeQuestion(_0x2c807e){const _0x443444=_0x124926,_0x4b054d=document[_0x443444(0x357)](_0x443444(0x321)+_0x2c807e);_0x4b054d&&confirm(_0x443444(0x26f))&&_0x4b054d[_0x443444(0x356)]();}function confirmDeleteSlide(_0x4dc90a){const _0x7b5a4=_0x124926,_0x263548=document[_0x7b5a4(0x357)](_0x7b5a4(0x2e1));_0x263548[_0x7b5a4(0x2df)][_0x7b5a4(0x2c1)]=_0x7b5a4(0x1fe);const _0x396cac=document['getElementById'](_0x7b5a4(0x29d)),_0x43b5d0=document[_0x7b5a4(0x357)](_0x7b5a4(0x1e3));_0x396cac[_0x7b5a4(0x330)](_0x396cac['cloneNode'](!![])),_0x43b5d0[_0x7b5a4(0x330)](_0x43b5d0[_0x7b5a4(0x2f1)](!![])),document[_0x7b5a4(0x357)]('confirmDeleteSlideBtn')[_0x7b5a4(0x30c)](_0x7b5a4(0x242),()=>{const _0x5739de=_0x7b5a4;_0x263548[_0x5739de(0x2df)][_0x5739de(0x2c1)]=_0x5739de(0x371),deleteSlide(_0x4dc90a);}),document[_0x7b5a4(0x357)](_0x7b5a4(0x1e3))[_0x7b5a4(0x30c)](_0x7b5a4(0x242),()=>{const _0x4acdec=_0x7b5a4;_0x263548[_0x4acdec(0x2df)][_0x4acdec(0x2c1)]='none';});}function _0x3efd(_0x49a5ef,_0x5a4f86){const _0x520547=_0x5205();return _0x3efd=function(_0x3efd0d,_0x1f5343){_0x3efd0d=_0x3efd0d-0x1ad;let _0x2cca01=_0x520547[_0x3efd0d];return _0x2cca01;},_0x3efd(_0x49a5ef,_0x5a4f86);}document['getElementById']('selfTestForm')[_0x124926(0x30c)]('submit',_0x882d19=>{const _0x503e93=_0x124926;_0x882d19[_0x503e93(0x2bb)]();const _0x3ef623=document[_0x503e93(0x357)](_0x503e93(0x36b))[_0x503e93(0x2cc)],_0xaea284=document[_0x503e93(0x357)]('selfTestDescription')[_0x503e93(0x2cc)],_0xa602b8=[],_0x1b6a5=document[_0x503e93(0x2a6)](_0x503e93(0x2b3));_0x1b6a5['forEach'](_0x2bca97=>{const _0x3db4a6=_0x503e93,_0x676b6f=_0x2bca97[_0x3db4a6(0x379)](_0x3db4a6(0x247))['value'],_0xfcf986=_0x2bca97[_0x3db4a6(0x2a6)]('.option-text'),_0x34730a=parseInt(_0x2bca97['querySelector'](_0x3db4a6(0x249))[_0x3db4a6(0x2cc)]),_0x224c63=Array['from'](_0xfcf986)['map'](_0x32901d=>({'text':_0x32901d[_0x3db4a6(0x2cc)]}));_0xa602b8[_0x3db4a6(0x33f)]({'text':_0x676b6f,'options':_0x224c63,'correctAnswer':_0x34730a});}),db[_0x503e93(0x1d9)]('selfTests')['add']({'title':_0x3ef623,'description':_0xaea284,'questions':_0xa602b8,'createdBy':currentUserData?.[_0x503e93(0x33b)]||currentUser['email'],'createdAt':firebase['firestore']['FieldValue']['serverTimestamp'](),'userId':currentUser[_0x503e93(0x1dd)]})['then'](()=>{const _0x2e4848=_0x503e93;alert(_0x2e4848(0x37b)),location[_0x2e4848(0x34b)]();})['catch'](_0x4176fe=>{const _0x571ed1=_0x503e93;alert(_0x571ed1(0x335)+_0x4176fe[_0x571ed1(0x23d)]);});});function editExam(_0x5356aa,_0x5f0f77){const _0x18a0ad=_0x124926;setActiveMenuItem(menuCreateExam),showPage(createExamPage),document[_0x18a0ad(0x357)](_0x18a0ad(0x28b))[_0x18a0ad(0x2cc)]=_0x5356aa[_0x18a0ad(0x30a)],document[_0x18a0ad(0x357)](_0x18a0ad(0x32c))['value']=_0x5356aa[_0x18a0ad(0x320)],document[_0x18a0ad(0x357)](_0x18a0ad(0x1ae))[_0x18a0ad(0x2cc)]=_0x5356aa[_0x18a0ad(0x300)],document[_0x18a0ad(0x357)](_0x18a0ad(0x377))['value']=_0x5356aa[_0x18a0ad(0x281)];const _0x32cd21=document['getElementById'](_0x18a0ad(0x28d));_0x32cd21[_0x18a0ad(0x383)]='',_0x5356aa['questions'][_0x18a0ad(0x2d9)]((_0x50bf29,_0x1b45b2)=>{const _0x2a0aaf=_0x18a0ad,_0x3c88f3=Date[_0x2a0aaf(0x23c)]()+_0x1b45b2,_0xeec8a4=document[_0x2a0aaf(0x1b1)](_0x2a0aaf(0x31f));_0xeec8a4[_0x2a0aaf(0x222)]=_0x2a0aaf(0x1bb),_0xeec8a4['id']=_0x2a0aaf(0x321)+_0x3c88f3,_0xeec8a4['innerHTML']=_0x2a0aaf(0x1e7)+_0x50bf29[_0x2a0aaf(0x1c7)]+_0x2a0aaf(0x1c3)+_0x3c88f3+_0x2a0aaf(0x2f2)+_0x50bf29['options'][_0x2a0aaf(0x212)]((_0x18a67c,_0x2ea06b)=>_0x2a0aaf(0x337)+_0x3c88f3+_0x2a0aaf(0x275)+_0x2ea06b+'\x22\x20'+(_0x50bf29['correctAnswer']===_0x2ea06b?_0x2a0aaf(0x2ca):'')+_0x2a0aaf(0x338)+_0x18a67c[_0x2a0aaf(0x1c7)]+_0x2a0aaf(0x1bd))['join']('')+_0x2a0aaf(0x327),_0x32cd21[_0x2a0aaf(0x218)](_0xeec8a4);});const _0x20173a=document['getElementById']('examForm');_0x20173a[_0x18a0ad(0x343)]=_0x17ea63=>updateExam(_0x17ea63,_0x5f0f77);}function updateExam(_0x355190,_0x74e1a1){const _0x562448=_0x124926;_0x355190[_0x562448(0x2bb)]();const _0x4686d3=document[_0x562448(0x357)]('examTitle')[_0x562448(0x2cc)],_0x3a6f50=document[_0x562448(0x357)](_0x562448(0x32c))[_0x562448(0x2cc)],_0x53654f=parseInt(document[_0x562448(0x357)](_0x562448(0x1ae))[_0x562448(0x2cc)]),_0x5b375b=parseInt(document[_0x562448(0x357)](_0x562448(0x377))['value']),_0x17424e=[],_0x4ae654=document[_0x562448(0x2a6)](_0x562448(0x2b3));_0x4ae654['forEach'](_0xabbdd4=>{const _0x187c83=_0x562448,_0x5cf2e0=_0xabbdd4['querySelector'](_0x187c83(0x247))[_0x187c83(0x2cc)],_0x57d06e=_0xabbdd4[_0x187c83(0x2a6)](_0x187c83(0x239)),_0x341f8a=parseInt(_0xabbdd4[_0x187c83(0x379)](_0x187c83(0x249))[_0x187c83(0x2cc)]),_0x4fb8a6=Array[_0x187c83(0x312)](_0x57d06e)[_0x187c83(0x212)](_0x3af958=>({'text':_0x3af958[_0x187c83(0x2cc)]}));_0x17424e[_0x187c83(0x33f)]({'text':_0x5cf2e0,'options':_0x4fb8a6,'correctAnswer':_0x341f8a});}),db[_0x562448(0x1d9)](_0x562448(0x293))[_0x562448(0x28f)](_0x74e1a1)['update']({'title':_0x4686d3,'description':_0x3a6f50,'duration':_0x53654f,'totalMarks':_0x5b375b,'questions':_0x17424e,'updatedAt':firebase['firestore'][_0x562448(0x2a3)][_0x562448(0x333)]()})['then'](()=>{alert('تم\x20تحديث\x20الاختبار\x20بنجاح!'),loadAllExams();})[_0x562448(0x380)](_0x441f4b=>{const _0x325dd4=_0x562448;alert('حدث\x20خطأ\x20أثناء\x20تحديث\x20الاختبار:\x20'+_0x441f4b[_0x325dd4(0x23d)]);});}async function saveExam(_0x255d6f){const _0x157178=_0x124926;_0x255d6f['preventDefault']();const _0x9895a7=document[_0x157178(0x357)]('examTitle')[_0x157178(0x2cc)],_0x1fadef=document[_0x157178(0x357)](_0x157178(0x32c))['value'],_0x656223=parseInt(document[_0x157178(0x357)]('examDuration')['value']),_0x5a0c02=parseInt(document[_0x157178(0x357)](_0x157178(0x377))['value']),_0x469ecf=[],_0x365b6a=document['querySelectorAll'](_0x157178(0x2b3));if(_0x365b6a[_0x157178(0x21f)]===0x0){alert(_0x157178(0x265));return;}for(const _0x127853 of _0x365b6a){const _0x87b776=_0x127853[_0x157178(0x379)](_0x157178(0x247))[_0x157178(0x2cc)];if(!_0x87b776[_0x157178(0x1fa)]()){alert('يجب\x20إدخال\x20نص\x20السؤال');return;}const _0xb8f827=_0x127853[_0x157178(0x2a6)](_0x157178(0x239)),_0x59e101=parseInt(_0x127853['querySelector']('input[name^=\x22correct-\x22]:checked')['value']),_0x4d572f=_0x127853['querySelector'](_0x157178(0x1f0))['files'][0x0];let _0x144e09='';if(_0x4d572f){const _0xdf222a=firebase['storage']()[_0x157178(0x339)]('exam_images/'+currentUser[_0x157178(0x1dd)]+'/'+Date[_0x157178(0x23c)]()+'_'+_0x4d572f[_0x157178(0x33b)]);await _0xdf222a[_0x157178(0x315)](_0x4d572f),_0x144e09=await _0xdf222a['getDownloadURL']();}const _0x1436c9=Array[_0x157178(0x312)](_0xb8f827)['map'](_0x183b96=>({'text':_0x183b96[_0x157178(0x2cc)]}));_0x469ecf[_0x157178(0x33f)]({'text':_0x87b776,'options':_0x1436c9,'correctAnswer':_0x59e101,'imageUrl':_0x144e09});}db[_0x157178(0x1d9)](_0x157178(0x293))[_0x157178(0x2e7)]({'title':_0x9895a7,'description':_0x1fadef,'duration':_0x656223,'totalMarks':_0x5a0c02,'questions':_0x469ecf,'createdBy':currentUserData?.['name']||currentUser[_0x157178(0x273)],'createdAt':firebase['firestore'][_0x157178(0x2a3)][_0x157178(0x333)](),'userId':currentUser[_0x157178(0x1dd)]})[_0x157178(0x272)](()=>{const _0x4d5d4d=_0x157178;alert(_0x4d5d4d(0x37b)),document[_0x4d5d4d(0x357)](_0x4d5d4d(0x2a4))['reset'](),document[_0x4d5d4d(0x357)]('questionsContainer')[_0x4d5d4d(0x383)]='';})['catch'](_0x47a6c2=>{const _0x270423=_0x157178;alert(_0x270423(0x335)+_0x47a6c2[_0x270423(0x23d)]);});}function startExam(_0x1d2ab7,_0x3d8bc3){const _0x23d0bf=_0x124926;if(_0x1d2ab7[_0x23d0bf(0x2a2)]&&_0x1d2ab7['allowedStudents'][_0x23d0bf(0x21f)]>0x0&&!_0x1d2ab7['allowedStudents'][_0x23d0bf(0x325)](currentUser['uid'])){alert(_0x23d0bf(0x336));return;}currentExam={..._0x1d2ab7,'id':_0x3d8bc3},currentQuestionIndex=0x0,userAnswers={},timeLeft=_0x1d2ab7[_0x23d0bf(0x300)]*0x3c,updateTimerDisplay(),timerInterval=setInterval(()=>{timeLeft--,updateTimerDisplay(),timeLeft<=0x0&&(clearInterval(timerInterval),submitExam());},0x3e8),loadQuestion(currentQuestionIndex),document[_0x23d0bf(0x357)](_0x23d0bf(0x2b0))[_0x23d0bf(0x26a)]=_0x1d2ab7['title'],document[_0x23d0bf(0x357)](_0x23d0bf(0x2d4))['textContent']=_0x1d2ab7[_0x23d0bf(0x21d)][_0x23d0bf(0x21f)],document['getElementById'](_0x23d0bf(0x281))['textContent']=_0x1d2ab7[_0x23d0bf(0x281)]||0x64,document[_0x23d0bf(0x357)](_0x23d0bf(0x2c3))[_0x23d0bf(0x2ee)]=!![],_0x1d2ab7[_0x23d0bf(0x21d)][_0x23d0bf(0x21f)]<=0x1?document['getElementById'](_0x23d0bf(0x37c))[_0x23d0bf(0x2df)][_0x23d0bf(0x2c1)]=_0x23d0bf(0x371):document['getElementById'](_0x23d0bf(0x37c))['style'][_0x23d0bf(0x2c1)]=_0x23d0bf(0x1b2),showPage(takeExamPage);}function loadQuestion(_0x538241){const _0x4cd92e=_0x124926,_0x707c01=document[_0x4cd92e(0x357)](_0x4cd92e(0x32e)),_0x441106=currentExam[_0x4cd92e(0x21d)][_0x538241];_0x707c01[_0x4cd92e(0x383)]=_0x4cd92e(0x2ce)+(_0x538241+0x1)+':\x20'+_0x441106['text']+_0x4cd92e(0x2ab)+(_0x441106[_0x4cd92e(0x328)]?_0x4cd92e(0x244)+_0x441106['imageUrl']+_0x4cd92e(0x2a7):'')+_0x4cd92e(0x217)+_0x441106[_0x4cd92e(0x2a1)][_0x4cd92e(0x212)]((_0x5df737,_0x344f3e)=>_0x4cd92e(0x26c)+(userAnswers[_0x538241]===_0x344f3e?_0x4cd92e(0x1e2):'')+_0x4cd92e(0x297)+_0x538241+_0x4cd92e(0x275)+_0x344f3e+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22option-input\x22\x20'+(userAnswers[_0x538241]===_0x344f3e?_0x4cd92e(0x2ca):'')+_0x4cd92e(0x215)+_0x5df737['text']+_0x4cd92e(0x230))[_0x4cd92e(0x1f6)]('')+_0x4cd92e(0x1dc),document[_0x4cd92e(0x2a6)](_0x4cd92e(0x225))[_0x4cd92e(0x2d9)](_0x42b4d1=>{const _0x14b113=_0x4cd92e;_0x42b4d1['addEventListener'](_0x14b113(0x242),function(){const _0x2c26da=_0x14b113;document[_0x2c26da(0x2a6)](_0x2c26da(0x225))['forEach'](_0x15296b=>{const _0x25f916=_0x2c26da;_0x15296b['classList'][_0x25f916(0x356)](_0x25f916(0x1e2));}),this[_0x2c26da(0x203)][_0x2c26da(0x2e7)](_0x2c26da(0x1e2));const _0x4d81a3=this[_0x2c26da(0x379)]('input');_0x4d81a3[_0x2c26da(0x2ca)]=!![],userAnswers[_0x538241]=parseInt(_0x4d81a3[_0x2c26da(0x2cc)]);});}),document['getElementById'](_0x4cd92e(0x2c3))['disabled']=_0x538241===0x0,document[_0x4cd92e(0x357)]('nextQuestionBtn')[_0x4cd92e(0x2ee)]=_0x538241===currentExam[_0x4cd92e(0x21d)][_0x4cd92e(0x21f)]-0x1;}function updateTimerDisplay(){const _0x4eb8a8=_0x124926,_0xfe0f84=Math[_0x4eb8a8(0x1e1)](timeLeft/0x3c),_0x5494f4=timeLeft%0x3c;document[_0x4eb8a8(0x357)](_0x4eb8a8(0x344))['textContent']=_0xfe0f84+':'+(_0x5494f4<0xa?'0':'')+_0x5494f4;}function submitExam(){const _0x29d3af=_0x124926;clearInterval(timerInterval);let _0x56b822=0x0;currentExam[_0x29d3af(0x21d)][_0x29d3af(0x2d9)]((_0x1c30a5,_0xc50590)=>{const _0x1f631d=_0x29d3af;userAnswers[_0xc50590]===_0x1c30a5[_0x1f631d(0x2cf)]&&_0x56b822++;});const _0x2bb64b=currentExam[_0x29d3af(0x21d)][_0x29d3af(0x21f)],_0x1f3892=Math[_0x29d3af(0x29b)](_0x56b822/_0x2bb64b*0x64),_0x326f49=currentExam[_0x29d3af(0x300)]-Math[_0x29d3af(0x378)](timeLeft/0x3c),_0x59ee64=currentExam['totalMarks']||0x64,_0x29eda8=Math['round'](_0x56b822/_0x2bb64b*_0x59ee64);let _0x2e2354;if(_0x1f3892>=0x5a)_0x2e2354=_0x29d3af(0x1cf);else{if(_0x1f3892>=0x4b)_0x2e2354=_0x29d3af(0x2bc);else{if(_0x1f3892>=0x3c)_0x2e2354='جيد';else{if(_0x1f3892>=0x32)_0x2e2354='مقبول';else _0x2e2354=_0x29d3af(0x26d);}}}db['collection'](_0x29d3af(0x35b))['add']({'userId':currentUser[_0x29d3af(0x1dd)],'userName':currentUserData?.[_0x29d3af(0x33b)]||currentUser['email'],'examId':currentExam['id'],'examTitle':currentExam['title'],'totalMarks':_0x59ee64,'obtainedMarks':_0x29eda8,'scorePercentage':_0x1f3892,'correctAnswers':_0x56b822,'wrongAnswers':_0x2bb64b-_0x56b822,'timeTaken':_0x326f49,'gradeStatus':_0x2e2354,'answers':userAnswers,'submittedAt':firebase[_0x29d3af(0x290)]['FieldValue'][_0x29d3af(0x333)]()}),db['collection'](_0x29d3af(0x1ee))[_0x29d3af(0x28f)](currentUser['uid'])[_0x29d3af(0x303)]({'examsTaken':firebase[_0x29d3af(0x290)]['FieldValue'][_0x29d3af(0x35c)](0x1),'lastExamTaken':firebase[_0x29d3af(0x290)][_0x29d3af(0x2a3)][_0x29d3af(0x333)]()}),showResults(_0x1f3892,_0x56b822,_0x2bb64b-_0x56b822,_0x326f49,_0x29eda8,_0x59ee64);}function showResults(_0x2b8ae2,_0x4afa89,_0x22af06,_0x16cabf,_0x1424a5,_0xd71135){const _0x45b8e2=_0x124926;document[_0x45b8e2(0x357)](_0x45b8e2(0x1e6))[_0x45b8e2(0x26a)]=_0x2b8ae2+'%',document['getElementById'](_0x45b8e2(0x382))[_0x45b8e2(0x26a)]=_0x4afa89,document[_0x45b8e2(0x357)](_0x45b8e2(0x24f))['textContent']=_0x22af06,document['getElementById'](_0x45b8e2(0x208))[_0x45b8e2(0x26a)]=_0x16cabf,document[_0x45b8e2(0x357)](_0x45b8e2(0x295))[_0x45b8e2(0x26a)]=_0x1424a5+_0x45b8e2(0x1d4)+_0xd71135;const _0x1d6448=document[_0x45b8e2(0x357)](_0x45b8e2(0x314));_0x1d6448[_0x45b8e2(0x383)]=_0x45b8e2(0x2db),currentExam[_0x45b8e2(0x21d)][_0x45b8e2(0x2d9)]((_0x2059a8,_0xaa318d)=>{const _0x3dc87e=_0x45b8e2,_0x1a2432=userAnswers[_0xaa318d],_0x299730=_0x1a2432===_0x2059a8[_0x3dc87e(0x2cf)],_0x4b1aa3=document[_0x3dc87e(0x1b1)](_0x3dc87e(0x31f));_0x4b1aa3[_0x3dc87e(0x222)]=_0x3dc87e(0x27a),_0x4b1aa3[_0x3dc87e(0x383)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>السؤال\x20'+(_0xaa318d+0x1)+_0x3dc87e(0x30d)+_0x2059a8['text']+_0x3dc87e(0x305)+(_0x299730?'correct-answer':_0x3dc87e(0x2b8))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a2432!==undefined?_0x2059a8['options'][_0x1a2432][_0x3dc87e(0x1c7)]:'لم\x20تجب')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>الإجابة\x20الصحيحة:\x20<span\x20class=\x22correct-answer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2059a8[_0x3dc87e(0x2a1)][_0x2059a8[_0x3dc87e(0x2cf)]][_0x3dc87e(0x1c7)]+_0x3dc87e(0x2d6),_0x1d6448[_0x3dc87e(0x218)](_0x4b1aa3);}),showPage(resultsPage);}function viewExamResults(_0x1c414d){const _0x1b2cc7=_0x124926;alert(_0x1b2cc7(0x342));}function loadStudentGrades(){const _0x239234=_0x124926,_0x535c23=document[_0x239234(0x357)]('studentGradesTable');_0x535c23[_0x239234(0x383)]=_0x239234(0x1e8),db[_0x239234(0x1d9)](_0x239234(0x35b))[_0x239234(0x2d0)]('userId','==',currentUser[_0x239234(0x1dd)])['orderBy'](_0x239234(0x2d1),_0x239234(0x385))['get']()[_0x239234(0x272)](_0xb3b970=>{const _0x284a89=_0x239234;if(_0xb3b970[_0x284a89(0x2ae)]){_0x535c23[_0x284a89(0x383)]=_0x284a89(0x1b4);return;}_0x535c23[_0x284a89(0x383)]='',_0xb3b970['forEach'](_0xdc4be4=>{const _0x495262=_0x284a89,_0x1fe8dd=_0xdc4be4[_0x495262(0x319)](),_0x11110f=_0x1fe8dd[_0x495262(0x2d1)]?.[_0x495262(0x240)]()||new Date(),_0x5589bb=_0x11110f[_0x495262(0x27b)]()+'\x20'+_0x11110f[_0x495262(0x24b)]();let _0x3a8940=_0x495262(0x308);if(_0x1fe8dd['scorePercentage']>=0x5a)_0x3a8940=_0x495262(0x1b8);else{if(_0x1fe8dd[_0x495262(0x36a)]>=0x4b)_0x3a8940=_0x495262(0x364);else{if(_0x1fe8dd['scorePercentage']>=0x3c)_0x3a8940=_0x495262(0x331);}}_0x535c23['innerHTML']+=_0x495262(0x20a)+_0x1fe8dd['examTitle']+_0x495262(0x2da)+_0x5589bb+_0x495262(0x2da)+_0x1fe8dd[_0x495262(0x295)]+_0x495262(0x1d4)+_0x1fe8dd[_0x495262(0x281)]+_0x495262(0x2da)+_0x1fe8dd[_0x495262(0x36a)]+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22grade-badge\x20'+_0x3a8940+'\x22>'+_0x1fe8dd['gradeStatus']+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});})[_0x239234(0x380)](_0xb0786e=>{const _0x39198d=_0x239234;_0x535c23[_0x39198d(0x383)]=_0x39198d(0x24e)+_0xb0786e[_0x39198d(0x23d)]+_0x39198d(0x324);});}function loadAllGrades(){const _0x103f77=_0x124926,_0x278ebd=document['getElementById'](_0x103f77(0x21b));_0x278ebd[_0x103f77(0x383)]=_0x103f77(0x1e8);const _0x469a27=document[_0x103f77(0x357)]('gradeExamFilter');_0x469a27[_0x103f77(0x383)]='<option\x20value=\x22\x22>جميع\x20الاختبارات</option>',db['collection']('exams')['get']()[_0x103f77(0x272)](_0x1e6309=>{const _0x217ccc=_0x103f77;return _0x1e6309[_0x217ccc(0x2d9)](_0x185996=>{const _0x560637=_0x217ccc,_0x212a78=_0x185996[_0x560637(0x319)]();_0x469a27[_0x560637(0x383)]+=_0x560637(0x29c)+_0x185996['id']+'\x22>'+_0x212a78[_0x560637(0x30a)]+'</option>';}),loadFilteredGrades();})[_0x103f77(0x380)](_0x347d4d=>{const _0x147295=_0x103f77;_0x278ebd[_0x147295(0x383)]='<tr><td\x20colspan=\x226\x22>حدث\x20خطأ:\x20'+_0x347d4d[_0x147295(0x23d)]+'</td></tr>';});}function loadFilteredGrades(){const _0x4fcd5a=_0x124926,_0x3d68e7=document[_0x4fcd5a(0x357)](_0x4fcd5a(0x21b)),_0x45a810=document['getElementById'](_0x4fcd5a(0x368)),_0x11468c=_0x45a810[_0x4fcd5a(0x2cc)];_0x3d68e7['innerHTML']=_0x4fcd5a(0x1e8);let _0x4f256a=db[_0x4fcd5a(0x1d9)](_0x4fcd5a(0x35b))[_0x4fcd5a(0x2f0)](_0x4fcd5a(0x2d1),'desc');_0x11468c&&(_0x4f256a=_0x4f256a[_0x4fcd5a(0x2d0)](_0x4fcd5a(0x2c5),'==',_0x11468c)),_0x4f256a['get']()[_0x4fcd5a(0x272)](_0x3f83d0=>{const _0x27b578=_0x4fcd5a;if(_0x3f83d0[_0x27b578(0x2ae)]){_0x3d68e7['innerHTML']=_0x27b578(0x1b4);return;}_0x3d68e7[_0x27b578(0x383)]='',_0x3f83d0[_0x27b578(0x2d9)](_0x568af2=>{const _0x11ff86=_0x27b578,_0x2dd621=_0x568af2[_0x11ff86(0x319)](),_0x2174c7=_0x2dd621[_0x11ff86(0x2d1)]?.[_0x11ff86(0x240)]()||new Date();let _0x222322=_0x11ff86(0x308);if(_0x2dd621['scorePercentage']>=0x5a)_0x222322=_0x11ff86(0x1b8);else{if(_0x2dd621[_0x11ff86(0x36a)]>=0x4b)_0x222322=_0x11ff86(0x364);else{if(_0x2dd621[_0x11ff86(0x36a)]>=0x3c)_0x222322=_0x11ff86(0x331);}}_0x3d68e7[_0x11ff86(0x383)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x2dd621[_0x11ff86(0x259)]+_0x11ff86(0x264)+_0x2dd621[_0x11ff86(0x28b)]+_0x11ff86(0x264)+_0x2174c7[_0x11ff86(0x27b)]()+_0x11ff86(0x264)+_0x2dd621[_0x11ff86(0x295)]+_0x11ff86(0x1d4)+_0x2dd621[_0x11ff86(0x281)]+_0x11ff86(0x264)+_0x2dd621[_0x11ff86(0x36a)]+_0x11ff86(0x250)+_0x222322+'\x22>'+_0x2dd621[_0x11ff86(0x2e5)]+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});})[_0x4fcd5a(0x380)](_0x10d888=>{const _0x4e3277=_0x4fcd5a;_0x3d68e7[_0x4e3277(0x383)]=_0x4e3277(0x24e)+_0x10d888['message']+_0x4e3277(0x324);});}function loadSlides(){const _0x20b595=_0x124926,_0x38b0a0=document[_0x20b595(0x357)](_0x20b595(0x2fe));_0x38b0a0['innerHTML']=_0x20b595(0x278),db[_0x20b595(0x1d9)](_0x20b595(0x226))[_0x20b595(0x2f0)](_0x20b595(0x1b9),_0x20b595(0x385))[_0x20b595(0x267)]()[_0x20b595(0x272)](_0x13a84a=>{const _0x2f5f4b=_0x20b595;if(_0x13a84a[_0x2f5f4b(0x2ae)]){_0x38b0a0[_0x2f5f4b(0x383)]='<p>لا\x20توجد\x20شرائح\x20متاحة\x20حالياً</p>';return;}_0x38b0a0[_0x2f5f4b(0x383)]='',_0x13a84a[_0x2f5f4b(0x2d9)](_0x4ef1b5=>{const _0x2059ac=_0x2f5f4b,_0xe075fc=_0x4ef1b5[_0x2059ac(0x319)]();_0x38b0a0[_0x2059ac(0x218)](createSlideCard(_0xe075fc,_0x4ef1b5['id']));});})[_0x20b595(0x380)](_0x49200f=>{const _0x4ed46c=_0x20b595;_0x38b0a0['innerHTML']='<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الشرائح:\x20'+_0x49200f['message']+_0x4ed46c(0x1f4);});}function createSlideCard(_0x46a4ea,_0x5dde23){const _0x2599c3=_0x124926,_0x4e6865=document[_0x2599c3(0x1b1)](_0x2599c3(0x31f));_0x4e6865[_0x2599c3(0x222)]=_0x2599c3(0x2be);const _0x4c0f73=document[_0x2599c3(0x1b1)]('div');_0x4c0f73[_0x2599c3(0x222)]='slide-card-header',_0x4c0f73[_0x2599c3(0x383)]=_0x2599c3(0x27f)+_0x46a4ea['title'];const _0x31a70a=document[_0x2599c3(0x1b1)]('div');_0x31a70a[_0x2599c3(0x222)]=_0x2599c3(0x294),_0x31a70a['innerHTML']=_0x2599c3(0x373)+(_0x46a4ea[_0x2599c3(0x22a)]||_0x2599c3(0x202))+_0x2599c3(0x1f4);const _0x5dcc64=document[_0x2599c3(0x1b1)]('div');_0x5dcc64[_0x2599c3(0x222)]=_0x2599c3(0x310),_0x5dcc64[_0x2599c3(0x383)]=_0x2599c3(0x2b6)+(_0x46a4ea[_0x2599c3(0x1c0)]||_0x2599c3(0x216))+_0x2599c3(0x2e2)+new Date(_0x46a4ea[_0x2599c3(0x1b9)]?.[_0x2599c3(0x240)]())[_0x2599c3(0x27b)]()+_0x2599c3(0x279);if(userRole===_0x2599c3(0x2e4)){const _0x418e01=document['createElement'](_0x2599c3(0x37e));_0x418e01[_0x2599c3(0x222)]=_0x2599c3(0x34c),_0x418e01[_0x2599c3(0x26a)]='حذف',_0x418e01[_0x2599c3(0x30c)](_0x2599c3(0x242),()=>confirmDeleteSlide(_0x5dde23)),_0x5dcc64[_0x2599c3(0x218)](_0x418e01);}return _0x4e6865[_0x2599c3(0x218)](_0x4c0f73),_0x4e6865['appendChild'](_0x31a70a),_0x4e6865['appendChild'](_0x5dcc64),_0x4e6865;}function loadStudents(){const _0x3b3499=_0x124926,_0x3824cc=document[_0x3b3499(0x357)](_0x3b3499(0x20d));_0x3824cc[_0x3b3499(0x383)]=_0x3b3499(0x2cd),db[_0x3b3499(0x1d9)](_0x3b3499(0x1ee))[_0x3b3499(0x2d0)](_0x3b3499(0x1c2),'==','student')[_0x3b3499(0x267)]()[_0x3b3499(0x272)](_0x34630e=>{const _0xfef204=_0x3b3499;if(_0x34630e[_0xfef204(0x2ae)]){_0x3824cc[_0xfef204(0x383)]=_0xfef204(0x350);return;}_0x3824cc[_0xfef204(0x383)]='';const _0x4314a2=[];_0x34630e['forEach'](_0x186e8d=>{const _0x1c077e=_0xfef204,_0x3331c6=_0x186e8d['data']();_0x3331c6['id']=_0x186e8d['id'],_0x4314a2[_0x1c077e(0x33f)](_0x3331c6);});const _0x1c8a7f=_0x4314a2[_0xfef204(0x212)](_0x4c5124=>{const _0xc79a4d=_0xfef204;return db[_0xc79a4d(0x1d9)]('results')[_0xc79a4d(0x2d0)](_0xc79a4d(0x1e5),'==',_0x4c5124['id'])[_0xc79a4d(0x267)]()[_0xc79a4d(0x272)](_0x4331a6=>{const _0x417043=_0xc79a4d;let _0x49c29d=0x0,_0x5c0e46=0x0;return _0x4331a6[_0x417043(0x2d9)](_0x74cf4f=>{const _0x477272=_0x417043,_0x5873bf=_0x74cf4f[_0x477272(0x319)]();_0x49c29d+=_0x5873bf[_0x477272(0x36a)],_0x5c0e46++;}),_0x4c5124[_0x417043(0x2c4)]=_0x5c0e46>0x0?(_0x49c29d/_0x5c0e46)[_0x417043(0x234)](0x2):null,_0x4c5124;});});Promise[_0xfef204(0x2de)](_0x1c8a7f)[_0xfef204(0x272)](_0x191d81=>{const _0x48672a=_0xfef204;_0x191d81[_0x48672a(0x2d9)](_0x336aff=>{const _0x161387=_0x48672a;_0x3824cc[_0x161387(0x383)]+=_0x161387(0x21a)+_0x336aff[_0x161387(0x33b)]+_0x161387(0x235)+_0x336aff[_0x161387(0x273)]+_0x161387(0x235)+(_0x336aff[_0x161387(0x2fb)]||0x0)+_0x161387(0x235)+(_0x336aff[_0x161387(0x2c4)]?_0x336aff[_0x161387(0x2c4)]+'%':'لا\x20يوجد\x20بيانات')+_0x161387(0x26e)+_0x336aff['id']+_0x161387(0x1c5)+_0x336aff['id']+'\x27,\x20'+(_0x336aff[_0x161387(0x2ee)]||![])+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x336aff['disabled']?_0x161387(0x2ed):_0x161387(0x2b7))+_0x161387(0x1ea)+_0x336aff['id']+_0x161387(0x359);});});})[_0x3b3499(0x380)](_0x2a218d=>{const _0x1d869a=_0x3b3499;_0x3824cc[_0x1d869a(0x383)]=_0x1d869a(0x2f8)+_0x2a218d[_0x1d869a(0x23d)]+_0x1d869a(0x324);});}function deleteStudentAccount(_0x1d4944){const _0x58cb53=_0x124926;if(!confirm(_0x58cb53(0x1f9)))return;db[_0x58cb53(0x1d9)]('users')['doc'](_0x1d4944)[_0x58cb53(0x1b7)]()[_0x58cb53(0x272)](()=>{const _0x168e6b=_0x58cb53;alert(_0x168e6b(0x20f)),loadStudents();})[_0x58cb53(0x380)](_0x2c515b=>{const _0x2e22d2=_0x58cb53;alert(_0x2e22d2(0x30e)+_0x2c515b[_0x2e22d2(0x23d)]);});}function toggleStudentStatus(_0x439b97,_0x29eff6){const _0x38c3d5=_0x124926,_0x3b1363=_0x29eff6?_0x38c3d5(0x237):_0x38c3d5(0x30f);if(!confirm(_0x3b1363))return;db[_0x38c3d5(0x1d9)]('users')[_0x38c3d5(0x28f)](_0x439b97)[_0x38c3d5(0x303)]({'disabled':!_0x29eff6})[_0x38c3d5(0x272)](()=>{const _0x45483b=_0x38c3d5;alert(_0x29eff6?_0x45483b(0x280):_0x45483b(0x35e)),loadStudents();})[_0x38c3d5(0x380)](_0x4f1658=>{alert('حدث\x20خطأ\x20أثناء\x20تحديث\x20حالة\x20الطالب:\x20'+_0x4f1658['message']);});}window['viewStudentGrades']=function(_0x2fb3e1){const _0x3a1bbc=_0x124926,_0x30ad29=document['getElementById'](_0x3a1bbc(0x2e6)),_0x4ab3af=document[_0x3a1bbc(0x357)](_0x3a1bbc(0x25c));_0x30ad29[_0x3a1bbc(0x2df)][_0x3a1bbc(0x2c1)]=_0x3a1bbc(0x1fe),_0x4ab3af['innerHTML']='<p>جاري\x20تحميل\x20الدرجات...</p>',db[_0x3a1bbc(0x1d9)](_0x3a1bbc(0x35b))['where'](_0x3a1bbc(0x1e5),'==',_0x2fb3e1)[_0x3a1bbc(0x2f0)](_0x3a1bbc(0x2d1),'desc')[_0x3a1bbc(0x267)]()[_0x3a1bbc(0x272)](_0x5ee660=>{const _0x578606=_0x3a1bbc;if(_0x5ee660[_0x578606(0x2ae)]){_0x4ab3af['innerHTML']=_0x578606(0x354);return;}let _0x572499='<h3>درجات\x20الطالب</h3><table\x20class=\x22grades-table\x22><thead><tr><th>اسم\x20الاختبار</th><th>التاريخ\x20والوقت</th><th>الدرجة</th><th>النسبة\x20المئوية</th><th>الحالة</th></tr></thead><tbody>';_0x5ee660[_0x578606(0x2d9)](_0x62ace7=>{const _0x59d640=_0x578606,_0xa4e4d6=_0x62ace7[_0x59d640(0x319)](),_0x54ef54=_0xa4e4d6[_0x59d640(0x2d1)]?.[_0x59d640(0x240)]()||new Date(),_0x5db96e=_0x54ef54[_0x59d640(0x27b)]()+'\x20'+_0x54ef54[_0x59d640(0x24b)]();_0x572499+=_0x59d640(0x20a)+_0xa4e4d6[_0x59d640(0x28b)]+_0x59d640(0x2da)+_0x5db96e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xa4e4d6[_0x59d640(0x295)]+_0x59d640(0x1d4)+_0xa4e4d6[_0x59d640(0x281)]+_0x59d640(0x2da)+_0xa4e4d6[_0x59d640(0x36a)]+_0x59d640(0x2e8)+_0xa4e4d6[_0x59d640(0x2e5)]+_0x59d640(0x332);}),_0x572499+='</tbody></table>',_0x4ab3af[_0x578606(0x383)]=_0x572499;})['catch'](_0x1aae95=>{const _0x743614=_0x3a1bbc;_0x4ab3af[_0x743614(0x383)]=_0x743614(0x1d0)+_0x1aae95[_0x743614(0x23d)]+_0x743614(0x1f4);});};function loadStudentProgress(){const _0xdd3cba=_0x124926,_0x425f9d=document[_0xdd3cba(0x357)](_0xdd3cba(0x23b));_0x425f9d[_0xdd3cba(0x383)]=_0xdd3cba(0x1d3),db[_0xdd3cba(0x1d9)](_0xdd3cba(0x35b))[_0xdd3cba(0x2d0)]('userId','==',currentUser[_0xdd3cba(0x1dd)])[_0xdd3cba(0x2f0)]('submittedAt',_0xdd3cba(0x24c))[_0xdd3cba(0x267)]()['then'](_0x59ce1f=>{const _0x4ee5e0=_0xdd3cba;if(_0x59ce1f[_0x4ee5e0(0x2ae)]){_0x425f9d[_0x4ee5e0(0x383)]='<p>لا\x20توجد\x20بيانات\x20تقدم\x20متاحة</p>';return;}const _0x5f3a07=[];_0x59ce1f['forEach'](_0xd02fb6=>{const _0x3b2800=_0x4ee5e0;_0x5f3a07[_0x3b2800(0x33f)](_0xd02fb6[_0x3b2800(0x319)]());}),renderStudentProgressChart(_0x5f3a07);})[_0xdd3cba(0x380)](_0x2a9474=>{const _0x4b1516=_0xdd3cba;_0x425f9d[_0x4b1516(0x383)]='<p>حدث\x20خطأ:\x20'+_0x2a9474[_0x4b1516(0x23d)]+_0x4b1516(0x1f4);});}function renderStudentProgressChart(_0x1177b7){const _0x1c378b=_0x124926,_0xe65680=document[_0x1c378b(0x357)](_0x1c378b(0x23b));if(_0x1177b7[_0x1c378b(0x21f)]===0x0){_0xe65680[_0x1c378b(0x383)]=_0x1c378b(0x353);return;}let _0x1139b3=_0x1c378b(0x241);_0x1177b7[_0x1c378b(0x2d9)]((_0x9e058e,_0x2bebfa)=>{const _0x28b1d4=_0x1c378b,_0x23d32b=_0x9e058e[_0x28b1d4(0x2d1)]?.[_0x28b1d4(0x240)]()||new Date(),_0x2b3f70=_0x23d32b[_0x28b1d4(0x27b)](_0x28b1d4(0x229),{'month':_0x28b1d4(0x276),'day':_0x28b1d4(0x31c)});_0x1139b3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x9e058e[_0x28b1d4(0x28b)]+_0x28b1d4(0x1df)+_0x9e058e[_0x28b1d4(0x36a)]+_0x28b1d4(0x1be)+_0x9e058e[_0x28b1d4(0x36a)]+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xe65680['innerHTML']=_0x1139b3;}function loadStudentsProgress(){const _0xb1e497=_0x124926,_0x5ec744=document[_0xb1e497(0x357)](_0xb1e497(0x2a8));_0x5ec744[_0xb1e497(0x383)]=_0xb1e497(0x352),db[_0xb1e497(0x1d9)]('results')['get']()[_0xb1e497(0x272)](_0x2a671d=>{const _0x17fdfe=_0xb1e497;if(_0x2a671d[_0x17fdfe(0x2ae)]){_0x5ec744['innerHTML']=_0x17fdfe(0x353);return;}let _0x3c5c63=0x0,_0x5198d9=0x0,_0x3fec20=0x0,_0x2be0c8=0x0;const _0x35c66d=_0x2a671d[_0x17fdfe(0x1e4)];_0x2a671d[_0x17fdfe(0x2d9)](_0x41adbb=>{const _0x456400=_0x17fdfe,_0x39a571=_0x41adbb['data'](),_0x54afb5=_0x39a571[_0x456400(0x36a)];if(_0x54afb5>=0x5a)_0x3c5c63++;else{if(_0x54afb5>=0x4b)_0x5198d9++;else _0x54afb5>=0x3c?_0x3fec20++:_0x2be0c8++;}});const _0x4b9b62=Math[_0x17fdfe(0x29b)](_0x3c5c63/_0x35c66d*0x64),_0x162ef7=Math[_0x17fdfe(0x29b)](_0x5198d9/_0x35c66d*0x64),_0x4eff46=Math['round'](_0x3fec20/_0x35c66d*0x64),_0x106d2a=Math[_0x17fdfe(0x29b)](_0x2be0c8/_0x35c66d*0x64);_0x5ec744[_0x17fdfe(0x383)]=_0x17fdfe(0x1b6)+_0x4b9b62+_0x17fdfe(0x1fc)+_0x4b9b62+_0x17fdfe(0x261)+_0x162ef7+'%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20'+_0x162ef7+_0x17fdfe(0x1ca)+_0x4eff46+_0x17fdfe(0x1fc)+_0x4eff46+_0x17fdfe(0x1d2)+_0x106d2a+_0x17fdfe(0x1fc)+_0x106d2a+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xb1e497(0x380)](_0x4e51b9=>{const _0x3600c7=_0xb1e497;_0x5ec744[_0x3600c7(0x383)]=_0x3600c7(0x341)+_0x4e51b9[_0x3600c7(0x23d)]+_0x3600c7(0x1f4);});}function addQuestion(){const _0x7773da=_0x124926,_0x3f0481=document['getElementById'](_0x7773da(0x28d)),_0x3caa39=Date[_0x7773da(0x23c)](),_0x4db36c=document[_0x7773da(0x1b1)](_0x7773da(0x31f));_0x4db36c['className']=_0x7773da(0x1bb),_0x4db36c['id']=_0x7773da(0x321)+_0x3caa39,_0x4db36c['innerHTML']=_0x7773da(0x35f)+_0x3caa39+_0x7773da(0x2f4)+_0x3caa39+_0x7773da(0x1b0)+_0x3caa39+_0x7773da(0x220)+_0x3caa39+_0x7773da(0x291)+_0x3caa39+_0x7773da(0x30b),_0x3f0481[_0x7773da(0x218)](_0x4db36c);}window[_0x124926(0x2e0)]=function(_0x5f3f20){const _0x44a6f2=_0x124926,_0xfdafcf=document[_0x44a6f2(0x357)](_0x44a6f2(0x307)+_0x5f3f20),_0x3d90c5=_0xfdafcf[_0x44a6f2(0x2b2)][_0x44a6f2(0x21f)];if(_0x3d90c5>=0x5){alert(_0x44a6f2(0x2b9));return;}const _0xe3628c=document['createElement'](_0x44a6f2(0x31f));_0xe3628c[_0x44a6f2(0x222)]=_0x44a6f2(0x24a),_0xe3628c[_0x44a6f2(0x383)]=_0x44a6f2(0x21c)+_0x5f3f20+'\x22\x20value=\x22'+_0x3d90c5+_0x44a6f2(0x2b4)+(_0x3d90c5+0x1)+_0x44a6f2(0x318),_0xfdafcf['appendChild'](_0xe3628c);},window[_0x124926(0x1bc)]=function(_0x58020a){const _0x47133c=_0x124926,_0x1c9ff7=document[_0x47133c(0x357)](_0x47133c(0x321)+_0x58020a);_0x1c9ff7&&confirm(_0x47133c(0x26f))&&_0x1c9ff7['remove']();};function loadProfile(){const _0x529417=_0x124926;document[_0x529417(0x357)](_0x529417(0x22d))[_0x529417(0x2cc)]=currentUserData?.[_0x529417(0x33b)]||currentUser[_0x529417(0x273)],document[_0x529417(0x357)](_0x529417(0x2b1))[_0x529417(0x2cc)]=currentUser[_0x529417(0x273)],document[_0x529417(0x357)](_0x529417(0x1ce))[_0x529417(0x2cc)]=userRole===_0x529417(0x2e4)?_0x529417(0x351):_0x529417(0x2d3),db[_0x529417(0x1d9)]('users')[_0x529417(0x28f)](currentUser['uid'])[_0x529417(0x267)]()[_0x529417(0x272)](_0xd46be0=>{const _0x4eeb47=_0x529417,_0xfb6a91=_0xd46be0['data']();document['getElementById'](_0x4eeb47(0x347))[_0x4eeb47(0x2cc)]=_0xfb6a91?.[_0x4eeb47(0x224)]||0x0,document['getElementById']('profileExamsTaken')['value']=_0xfb6a91?.[_0x4eeb47(0x2fb)]||0x0;});}loginBtn[_0x124926(0x30c)]('click',()=>showAuthForm('login')),registerBtn[_0x124926(0x30c)](_0x124926(0x242),()=>showAuthForm(_0x124926(0x23e))),showLogin['addEventListener'](_0x124926(0x242),_0x457301=>{const _0x799b82=_0x124926;_0x457301[_0x799b82(0x2bb)](),showAuthForm('login');}),showRegister[_0x124926(0x30c)]('click',_0x4592a8=>{const _0x30ce25=_0x124926;_0x4592a8[_0x30ce25(0x2bb)](),showAuthForm(_0x30ce25(0x23e));}),document[_0x124926(0x357)](_0x124926(0x31e))['addEventListener'](_0x124926(0x1f8),_0x149741=>{const _0x31ba8e=_0x124926;_0x149741[_0x31ba8e(0x2bb)]();const _0x4849f3=document[_0x31ba8e(0x357)](_0x31ba8e(0x22b))[_0x31ba8e(0x2cc)],_0x211319=document[_0x31ba8e(0x357)](_0x31ba8e(0x24d))[_0x31ba8e(0x2cc)],_0x540545=document[_0x31ba8e(0x357)]('loginError'),_0x519529=document[_0x31ba8e(0x357)]('loginErrorText');auth[_0x31ba8e(0x2ea)](_0x4849f3,_0x211319)[_0x31ba8e(0x272)](_0x40e345=>{const _0x28e25a=_0x31ba8e,_0x4f4f8f=_0x40e345[_0x28e25a(0x32b)][_0x28e25a(0x1dd)];return db[_0x28e25a(0x1d9)](_0x28e25a(0x1ee))['doc'](_0x4f4f8f)[_0x28e25a(0x267)]();})[_0x31ba8e(0x272)](_0xeddd08=>{const _0x558527=_0x31ba8e;_0xeddd08[_0x558527(0x2d5)]&&_0xeddd08[_0x558527(0x319)]()['disabled']?(alert('تم\x20تعطيل\x20حسابك.\x20يرجى\x20التواصل\x20مع\x20الإدارة.'),auth['signOut']()):location[_0x558527(0x34b)]();})['catch'](_0x525ed0=>{const _0x108343=_0x31ba8e;alert(_0x108343(0x232)+_0x525ed0['message']);});}),document[_0x124926(0x357)](_0x124926(0x2c0))[_0x124926(0x30c)](_0x124926(0x1f8),_0x13f918=>{const _0x93e3f1=_0x124926;_0x13f918[_0x93e3f1(0x2bb)]();const _0x3ddb10=document[_0x93e3f1(0x357)](_0x93e3f1(0x1ef))[_0x93e3f1(0x2cc)],_0x348723=document['getElementById']('registerEmail')['value'],_0x5c8104=document[_0x93e3f1(0x357)](_0x93e3f1(0x238))[_0x93e3f1(0x2cc)],_0x3457e6=document[_0x93e3f1(0x357)](_0x93e3f1(0x1f3))[_0x93e3f1(0x2cc)],_0x141b3a=document[_0x93e3f1(0x357)](_0x93e3f1(0x2ef))[_0x93e3f1(0x2cc)],_0x148afc=document['getElementById'](_0x93e3f1(0x323)),_0x4e73bc=document[_0x93e3f1(0x357)]('registerErrorText');if(_0x5c8104!==_0x3457e6){_0x4e73bc[_0x93e3f1(0x26a)]=_0x93e3f1(0x386),_0x148afc[_0x93e3f1(0x2df)][_0x93e3f1(0x2c1)]=_0x93e3f1(0x1fe);return;}auth['createUserWithEmailAndPassword'](_0x348723,_0x5c8104)[_0x93e3f1(0x272)](_0x3bab03=>{const _0x32dd3d=_0x93e3f1;return db[_0x32dd3d(0x1d9)](_0x32dd3d(0x1ee))[_0x32dd3d(0x28f)](_0x3bab03[_0x32dd3d(0x32b)][_0x32dd3d(0x1dd)])[_0x32dd3d(0x304)]({'name':_0x3ddb10,'email':_0x348723,'role':_0x141b3a,'createdAt':firebase['firestore']['FieldValue']['serverTimestamp'](),'examsCreated':0x0,'examsTaken':0x0});})[_0x93e3f1(0x272)](()=>{const _0x184570=_0x93e3f1;return auth['currentUser'][_0x184570(0x274)]({'displayName':_0x3ddb10});})[_0x93e3f1(0x272)](()=>{})[_0x93e3f1(0x380)](_0x2dc4c4=>{const _0x198fb2=_0x93e3f1;_0x4e73bc['textContent']=_0x2dc4c4[_0x198fb2(0x23d)],_0x148afc[_0x198fb2(0x2df)][_0x198fb2(0x2c1)]=_0x198fb2(0x1fe);});}),logoutBtn[_0x124926(0x30c)]('click',()=>{const _0x1a7a3b=_0x124926;auth[_0x1a7a3b(0x251)]();}),menuDashboard[_0x124926(0x30c)]('click',_0x3db87b=>{const _0x4dfda7=_0x124926;_0x3db87b[_0x4dfda7(0x2bb)](),setActiveMenuItem(menuDashboard),loadDashboard();}),menuExams[_0x124926(0x30c)](_0x124926(0x242),_0x2734e6=>{const _0x1fbb4c=_0x124926;_0x2734e6[_0x1fbb4c(0x2bb)](),setActiveMenuItem(menuExams),showPage(examsPage),loadAllExams();}),menuCreateExam[_0x124926(0x30c)](_0x124926(0x242),_0x32bb70=>{_0x32bb70['preventDefault'](),setActiveMenuItem(menuCreateExam),showPage(createExamPage);}),menuCreateSlide['addEventListener']('click',_0x8960e1=>{_0x8960e1['preventDefault'](),setActiveMenuItem(menuCreateSlide),showPage(createSlidePage);}),menuResults['addEventListener'](_0x124926(0x242),_0xf21351=>{const _0x587891=_0x124926;_0xf21351[_0x587891(0x2bb)](),setActiveMenuItem(menuResults),showPage(resultsPage);}),menuGrades[_0x124926(0x30c)]('click',_0x94296d=>{const _0x5d2d0a=_0x124926;_0x94296d[_0x5d2d0a(0x2bb)](),setActiveMenuItem(menuGrades),showPage(gradesPage),userRole===_0x5d2d0a(0x2e4)?loadAllGrades():(loadStudentGrades(),loadStudentProgress());}),menuStudents[_0x124926(0x30c)](_0x124926(0x242),_0x215ac3=>{_0x215ac3['preventDefault'](),setActiveMenuItem(menuStudents),showPage(studentsPage),loadStudents();}),menuProfile[_0x124926(0x30c)](_0x124926(0x242),_0xed050f=>{const _0x371782=_0x124926;_0xed050f[_0x371782(0x2bb)](),setActiveMenuItem(menuProfile),showPage(profilePage),loadProfile();}),document['getElementById'](_0x124926(0x2c3))[_0x124926(0x30c)](_0x124926(0x242),()=>{currentQuestionIndex>0x0&&(currentQuestionIndex--,loadQuestion(currentQuestionIndex));}),document['getElementById'](_0x124926(0x37c))['addEventListener'](_0x124926(0x242),()=>{const _0x373eea=_0x124926;currentQuestionIndex<currentExam[_0x373eea(0x21d)][_0x373eea(0x21f)]-0x1&&(currentQuestionIndex++,loadQuestion(currentQuestionIndex));}),document[_0x124926(0x357)](_0x124926(0x28c))[_0x124926(0x30c)](_0x124926(0x242),()=>{setActiveMenuItem(menuExams),showPage(examsPage),loadAllExams();}),document[_0x124926(0x357)](_0x124926(0x368))[_0x124926(0x30c)](_0x124926(0x365),loadFilteredGrades),document[_0x124926(0x357)]('addQuestionBtn')[_0x124926(0x30c)](_0x124926(0x242),addQuestion),document['getElementById']('examForm')[_0x124926(0x30c)](_0x124926(0x1f8),saveExam),document[_0x124926(0x357)](_0x124926(0x287))[_0x124926(0x30c)](_0x124926(0x1f8),async _0x545150=>{const _0x2111b6=_0x124926;_0x545150[_0x2111b6(0x2bb)]();const _0x483136=document['getElementById'](_0x2111b6(0x29e))[_0x2111b6(0x2cc)][_0x2111b6(0x1fa)](),_0x35f1a3=document['getElementById'](_0x2111b6(0x34f))[_0x2111b6(0x2cc)][_0x2111b6(0x1fa)]();if(!_0x483136||!_0x35f1a3){alert(_0x2111b6(0x2dd));return;}try{await db['collection'](_0x2111b6(0x226))[_0x2111b6(0x2e7)]({'title':_0x483136,'content':_0x35f1a3,'createdBy':currentUserData?.[_0x2111b6(0x33b)]||currentUser[_0x2111b6(0x273)],'createdAt':firebase['firestore']['FieldValue'][_0x2111b6(0x333)](),'userId':currentUser[_0x2111b6(0x1dd)]});const _0x47d4e5=document[_0x2111b6(0x357)]('slideCreationSuccess');_0x47d4e5['style'][_0x2111b6(0x2c1)]=_0x2111b6(0x1fe),document['getElementById'](_0x2111b6(0x287))[_0x2111b6(0x2af)](),setTimeout(()=>{const _0x31b560=_0x2111b6;_0x47d4e5['style'][_0x31b560(0x2c1)]='none';},0xbb8);}catch(_0xae2f23){alert(_0x2111b6(0x2a0)+_0xae2f23['message']);}}),document[_0x124926(0x30c)](_0x124926(0x2eb),()=>{const _0x56fe6d=_0x124926,_0x1a989b=document['querySelector'](_0x56fe6d(0x33e)),_0x30f924=new IntersectionObserver(_0x3c561b=>{const _0x3a215d=_0x56fe6d;_0x3c561b[_0x3a215d(0x2d9)](_0x23cad0=>{const _0xa42a3=_0x3a215d;_0x23cad0[_0xa42a3(0x266)]&&_0x1a989b[_0xa42a3(0x203)]['add'](_0xa42a3(0x236));});});_0x30f924[_0x56fe6d(0x29a)](_0x1a989b);}),initApp(),(function(){const _0x525427=_0x124926;let _0x3cbc16=![];function _0x57e7d7(){const _0x4cfcde=_0x3efd,_0x27fa1f=document[_0x4cfcde(0x1b1)](_0x4cfcde(0x2df));_0x27fa1f[_0x4cfcde(0x383)]='\x0a\x20\x20\x20\x20\x20\x20.devtools-warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(to\x20bottom\x20right,\x20#d10000,\x20#3b0000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Segoe\x20UI\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x20999999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x20/*\x20الرسالة\x20مخفية\x20بشكل\x20افتراضي\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.devtools-warning.show\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20/*\x20تظهر\x20الرسالة\x20عندما\x20يتم\x20اكتشاف\x20أدوات\x20المطور\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',document[_0x4cfcde(0x243)][_0x4cfcde(0x218)](_0x27fa1f);}function _0x3b51cf(){const _0x2684bb=_0x3efd,_0x3715a7=document['createElement'](_0x2684bb(0x31f));_0x3715a7['className']=_0x2684bb(0x214),_0x3715a7['id']=_0x2684bb(0x214),_0x3715a7[_0x2684bb(0x26a)]=_0x2684bb(0x372),document['body'][_0x2684bb(0x218)](_0x3715a7);}function _0x1e4658(){const _0x15bef9=_0x3efd;if(_0x3cbc16)return;_0x3cbc16=!![];const _0x587f8d=document[_0x15bef9(0x357)](_0x15bef9(0x214));_0x587f8d&&(_0x587f8d['classList'][_0x15bef9(0x2e7)]('show'),setTimeout(()=>{const _0x36b93e=_0x15bef9;window['location'][_0x36b93e(0x1de)]=_0x36b93e(0x271);},0x9c4));}function _0x504954(){const _0x25aeea=_0x3efd,_0x22c76a=performance[_0x25aeea(0x23c)]();debugger;const _0x406314=performance[_0x25aeea(0x23c)]();_0x406314-_0x22c76a>0x64&&_0x1e4658();const _0x452334=new Image();Object[_0x25aeea(0x33d)](_0x452334,'id',{'get':function(){_0x1e4658();}}),console[_0x25aeea(0x348)](_0x452334);}function _0x36a35a(){const _0x3ad2c9=window['outerHeight']-window['innerHeight']>0xa0;_0x3ad2c9&&_0x1e4658();}function _0x217215(){const _0x517756=_0x3efd;document[_0x517756(0x30c)](_0x517756(0x21e),function(_0x1fa319){const _0x52e521=_0x517756;(_0x1fa319[_0x52e521(0x28e)]===_0x52e521(0x22c)||_0x1fa319[_0x52e521(0x2fd)]&&_0x1fa319[_0x52e521(0x32a)]&&['I','J','C'][_0x52e521(0x325)](_0x1fa319['key'])||_0x1fa319[_0x52e521(0x2fd)]&&_0x1fa319[_0x52e521(0x28e)]==='U')&&(_0x1fa319[_0x52e521(0x2bb)](),_0x1e4658());}),document[_0x517756(0x30c)](_0x517756(0x2f9),function(_0x5562cc){const _0x5e9dd6=_0x517756;_0x5562cc[_0x5e9dd6(0x2bb)]();});}function _0x4619bc(){_0x57e7d7(),_0x3b51cf(),_0x217215(),setInterval(()=>{_0x504954(),_0x36a35a();},0x3e8);}window[_0x525427(0x30c)](_0x525427(0x2eb),_0x4619bc);}());


    </script>

</body>
</html>
