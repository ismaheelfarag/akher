<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة الاختبارات الإلكترونية - نظام إدارة الدرجات</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <link rel="icon" href="images (1).jpeg" type="image/png">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo+Play:wght@200..1000&family=Lalezar&display=swap" rel="stylesheet">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
    --primary: #0a70ff; /* أزرق فاتح */
    --primary-light: #0a70ff; /* أزرق أفتح */
    --secondary: #0a70ff; /* رمادي مزرق */
    --accent: #ffffff; /* وردي فاتح */
    --dark: #2C3E50; /* أزرق داكن */
    --light: #F5F7FA; /* خلفية فاتحة */
    --success: #14ee88; /* أخضر فاتح */
    --danger: #FC5C65; /* أحمر فاتح */
    --warning: #FFCE54; /* أصفر فاتح */
    --gray: #AAB2BD; /* رمادي فاتح */
    --text: #656D78; /* لون النص الرئيسي */
    --card-bg: #ffffff; /* خلفية البطاقات */
}

.slide-card-body {
    padding: 20px;
    background-color: #0a70ff;
    color: #333; /* لون النص */
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}
body {
    font-family: 'Tajawal', sans-serif;
    font-size: 16px;
    line-height: 1.7;
    color: #555;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
}

header, footer {
    width: 100%;
    text-align: center;
}
/* تصميم بطاقة الاختبار */
.exam-card {
    background-color: #ffffff; /* خلفية بيضاء */
    border-radius: 15px; /* حواف مستديرة */
    overflow: hidden;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1); /* ظل خفيف */
    transition: all 0.3s ease; /* تأثير عند التحويم */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    border: 1px solid #e0e0e0; /* لون الحدود */
}

.exam-card:hover {
    transform: translateY(-5px); /* رفع البطاقة عند التحويم */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); /* زيادة الظل */
}

.exam-card-header {
    background: linear-gradient(135deg, #a73106, #ff6347); /* تدرج لوني برتقالي */
    color: white;
    padding: 20px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
}

.exam-card-body {
    padding: 20px;
    color: #333; /* لون النص */
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.exam-card-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background-color: #0d7ef7; /* خلفية رمادية فاتحة */
    border-top: 1px solid #0d7ef7;
    font-size: 0.9rem;
    color: #ffffff; /* لون النص */
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: #2994ff; /* خلفية خفيفة */
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* ظل خفيف */
    font-weight: 500;
}

.meta-item i {
    color: #ff6347; /* لون الأيقونات */
    font-size: 1.1rem;
}

.exam-card-footer {
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f7f7f7; /* خلفية فاتحة */
    border-top: 1px solid #eee;
}

.exam-card-footer .btn {
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.exam-card-footer .btn-primary {
    background-color: #ff6347; /* لون برتقالي */
    color: white;
    border: none;
}

.exam-card-footer .btn-primary:hover {
    background-color: #e5533d; /* لون برتقالي أغمق */
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.exam-card-footer .btn-outline {
    background-color: transparent;
    border: 2px solid #ff6347; /* لون برتقالي */
    color: #ff6347;
}

.exam-card-footer .btn-outline:hover {
    background-color: #ff6347;
    color: white;
}
.btn-primary {
    background-color: var(--primary);
    box-shadow: 0 4px 6px rgba(93, 156, 236, 0.2);
}

.btn-primary:hover {
    background-color: #4A89DC;
    transform: translateY(-2px);
    box-shadow: 0 7px 14px rgba(93, 156, 236, 0.25);
}

.btn-outline {
    border: 2px solid var(--primary);
    color: var(--primary);
    background: transparent;
}

.btn-outline:hover {
    background-color: var(--primary);
    color: white;
}

.sidebar {
    background-color: var(--card-bg);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.sidebar-menu a:hover, .sidebar-menu a.active {
    background-color: rgba(93, 156, 236, 0.1);
    color: var(--primary);
}

.content-area {
    background-color: var(--card-bg);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.page-title {
    color: var(--dark);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    padding-bottom: 0.75rem;
}

.alert-success {
    background-color: rgba(72, 207, 173, 0.1);
    border-color: var(--success);
    color: #37BC9B;
}

.alert-danger {
    background-color: rgba(252, 92, 101, 0.1);
    border-color: var(--danger);
    color: #f82606;
}
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideInLeft {
    from {
        transform: translateX(-100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideInRight {
    from {
        transform: translateX(100px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}
/* تحسينات للشرائح */
.slide-card-body {
    padding: 1.25rem;
    color: var(--text);
    line-height: 1.8;
}

.slide-card-footer {
    background-color: rgba(245, 247, 250, 0.7);
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    color: var(--gray);
}

/* تحسينات للأزرار */
.btn {
    font-weight: 600;
    letter-spacing: 0.5px;
    transition: all 0.3s ease;
}

/* تحسينات للجدول */
.grades-table th {
    background-color: rgba(245, 247, 250, 0.7);
    color: var(--dark);
}

.grades-table tr:hover {
    background-color: rgba(255, 255, 255, 0.5);
}

/* تحسينات للشريط الجانبي */
.sidebar-menu a {
    padding: 0.75rem 1rem;
    color: var(--text);
    border-radius: 8px;
    margin-bottom: 0.5rem;
}

/* تحسينات للوقت المتبقي في الاختبار */
#timeRemaining {
    font-weight: 700;
    color: var(--primary);
}

/* تحسينات للنتائج */
.results-score {
    color: var(--primary);
    text-shadow: 0 3px 6px rgba(93, 156, 236, 0.2);
}

/* تحسينات للخيارات في الاختبار */
.option-label:hover {
    border-color: var(--primary);
    background-color: rgba(93, 156, 236, 0.05);
}

.option-label.selected {
    background-color: rgba(93, 156, 236, 0.1);
    border-color: var(--primary);
}

/* تحسينات للشعار */
.logo {
font-family: "Lalezar", system-ui;
font-weight: 400;
font-style: normal;
font-size: 1.8rem; /* حجم الخط */
font-weight: 700; /* وزن الخط */
color: rgb(255, 255, 255); /* لون النص */
}

.logo i {
    color: var(--accent);
}

/* تحسينات للشكل العام */
.container {
    max-width: 1200px;
    padding: 0 20px;
}

/* تحسينات للهواتف */
@media (max-width: 768px) {
    .exams-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .exam-card, .slide-card {
        border-radius: 10px;
    }
}

        body {
    font-family: 'Tajawal', sans-serif;
    font-size: 16px;
    line-height: 1.7;
    color: #555;
}

h1, h2, h3, h4 {
    font-weight: 600;
    color: #2C3E50;
}
.btn.btn-primary.dropdown-toggle { 
    color:#008dc5;
    background-color: #ffffff; /* Added background color */
}
    
        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-left: 10px;
            color: var(--accent);
        }

        .auth-buttons .btn {
            margin-right: 10px;
        }

        .btn {
            display: inline-block;
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            text-align: center;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;

            box-shadow: 0 4px 6px rgba(255, 255, 255, 0.1);
        }

        .btn-primary:hover {
            background-color: var(--primary-light);
            transform: translateY(-3px);
            box-shadow: 0 8px 12px rgba(255, 255, 255, 0.2);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background-color: #c0392b;
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        /* Main Content */
        main {
            padding-top: 80px;
            padding-bottom: 40px;
            min-height: calc(100vh - 120px);
        }

        /* Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        /* تصميم الأزرار في قسم إدارة الطلاب */
.students-table td {
    display: flex;
    flex-direction: column; /* جعل الأزرار تحت بعضها */
    gap: 10px; /* مسافة بين الأزرار */
    align-items: center; /* محاذاة الأزرار في المنتصف */
}

.students-table td button {
    width: 100%; /* جعل الأزرار بعرض كامل */
    max-width: 200px; /* تحديد عرض أقصى للأزرار */
    padding: 10px; /* تحسين المساحة الداخلية */
    font-size: 0.9rem; /* حجم النص */
    border-radius: 5px; /* حواف مستديرة */
}

/* تحسين التصميم على الشاشات الصغيرة */
@media (max-width: 768px) {
    .students-table td button {
        max-width: 100%; /* جعل الأزرار بعرض كامل على الشاشات الصغيرة */
    }
}
        .alert {
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
/* تصميم حاوية الإشعارات */
.notification-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 300px;
}

/* تصميم الإشعار */
.notification {
    background-color: #ffffff;
    border-radius: 8px;
    padding: 15px 20px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: slideDown 0.5s ease forwards;
    opacity: 0;
    transform: translateY(-20px);
}

/* ألوان الإشعارات */
.notification.success {
    border-left: 5px solid var(--success);
}

.notification.error {
    border-left: 5px solid var(--danger);
}

.notification.info {
    border-left: 5px solid var(--primary);
}

/* نص الإشعار */
.notification-text {
    font-size: 1rem;
    color: var(--dark);
    flex: 1;
    margin-right: 10px;
}

/* زر إغلاق الإشعار */
.notification-close {
    background: none;
    border: none;
    color: var(--gray);
    font-size: 1.2rem;
    cursor: pointer;
    transition: color 0.3s ease;
}

.notification-close:hover {
    color: var(--dark);
}

/* حركة الإشعار */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.alert-success {
    background-color: rgba(46, 204, 113, 0.1);
    border: 1px solid var(--success);
    color: var(--success);
}

.alert-danger {
    background-color: rgba(231, 76, 60, 0.1);
    border: 1px solid var(--danger);
    color: var(--danger);
}
        /* Sidebar */
        .sidebar {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            height: fit-content;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 10px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            color: var(--dark);
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .sidebar-menu a i {
            margin-left: 10px;
            width: 20px;
            text-align: center;
        }

        /* Main Content Area */
        .content-area {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
/* تصميم قسم التعريف */
.about-container {
    background: linear-gradient(135deg, #0f76fd, #4a89dc);
    color: white;
    margin-top: 30px;
    padding: 50px 20px;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
    text-align: center;
}

.about-content {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 30px;
    animation: fadeIn 1.5s ease-in-out; /* إضافة أنيميشن عند التحميل */
}

.about-text {
    max-width: 600px;
    font-size: 1.2rem;
    line-height: 1.8;
    text-align: center;
    animation: slideInLeft 1.5s ease-in-out; /* حركة من اليسار */
}

.about-text h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    font-weight: bold;
    color: #fff;
}

.about-text p {
    margin-bottom: 15px;
}

.about-image {
    flex-shrink: 0;
    animation: slideInRight 1.5s ease-in-out; /* حركة من اليمين */
}

.teacher-image {
    width: 300px;
    height: 300px;
    border-radius: 50%;
    border: 5px solid white;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease-in-out;
}

.teacher-image:hover {
    transform: scale(1.1); /* تكبير الصورة عند التمرير */
}

.about-footer {
    margin-top: 20px;
    font-size: 1.1rem;
    font-style: italic;
    color: #dfe6e9;
}

/* تحسين التصميم على الشاشات الصغيرة */
@media (max-width: 768px) {
    .about-content {
        flex-direction: column;
    }

    .about-text h1 {
        font-size: 2rem;
    }

    .teacher-image {
        width: 200px;
        height: 200px;
    }
}

/* تحسين التصميم على الشاشات الصغيرة جدًا */
@media (max-width: 480px) {
    .about-text {
        font-size: 1rem;
    }

    .about-text h1 {
        font-size: 1.8rem;
    }

    .teacher-image {
        width: 150px;
        height: 150px;
    }

    .about-container {
        padding: 30px 15px;
    }
}
.toast-message {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #14ee88; /* لون أخضر */
    color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
    font-weight: bold;
    z-index: 1000;
    animation: fadeIn 0.5s ease forwards;
}

.toast-message i {
    font-size: 1.5rem;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}
        .page-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
            display: flex;
            align-items: center;
        }

        .page-title i {
            margin-left: 10px;
            color: var(--primary);
        }

        /* Exams Grid */
        .exams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .exam-card {
    background-color: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid #eee;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.exam-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.exam-card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
}

.exam-card-body {
    padding: 20px;
    color: var(--dark);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.exam-card-meta {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 0.9rem;
    color: var(--gray);
}

.exam-card-footer {
    padding: 15px;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f8f9fa;
    font-size: 0.9rem;
    color: var(--gray);
}

.exam-card-footer button {
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.exam-card-footer .btn-primary {
    background-color: var(--primary);
    color: white;
    border: none;
}

.exam-card-footer .btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.exam-card-footer .btn-outline {
    background-color: transparent;
    border: 2px solid var(--primary);
    color: var(--primary);
}

.exam-card-footer .btn-outline:hover {
    background-color: var(--primary);
    color: white;
}
        .exam-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #eee;
        }

        .exam-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .exam-card-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 15px;
        }

        .exam-card-title {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .exam-card-body {
            padding: 15px;
        }

        .exam-card-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .exam-card-footer {
            padding: 15px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        /* Exam Form */
        .exam-form {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.modal-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 15px;
    color: var(--primary);
}

.modal-message {
    font-size: 1rem;
    margin-bottom: 20px;
    color: var(--text);
}

.modal-actions {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}

.modal-actions .btn {
    flex: 1;
    padding: 10px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.modal-actions .btn-danger {
    background-color: var(--danger);
    color: white;
    border: none;
}

.modal-actions .btn-danger:hover {
    background-color: #c0392b;
}

.modal-actions .btn-outline {
    background-color: transparent;
    border: 2px solid var(--primary);
    color: var(--primary);
}

.modal-actions .btn-outline:hover {
    background-color: var(--primary);
    color: white;
}
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .question-container {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px dashed #ddd;
        }
        .self-test-card {
    background-color: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid #eee;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 20px;
}

.self-test-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.self-test-card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 15px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    border-radius: 10px 10px 0 0;
}

.self-test-card-body {
    padding: 15px;
    color: var(--dark);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.self-test-card-footer {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 15px;
}

.self-test-card-footer button {
    padding: 10px 15px;
    border-radius: 5px;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.self-test-card-footer .btn-primary {
    background-color: var(--primary);
    color: white;
    border: none;
}

.self-test-card-footer .btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
        .option-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .option-item input[type="radio"] {
            margin-left: 10px;
        }

        .option-item input[type="text"] {
            flex: 1;
            margin-right: 10px;
        }
/* تحسين تصميم البطاقات */
.card {
    background-color: var(--card-bg);
    border-radius: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
}

.card-body {
    padding: 20px;
    color: var(--text);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.card-footer {
    padding: 15px;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f8f9fa;
    font-size: 0.9rem;
    color: var(--gray);
}
/* تصميم النافذة المنبثقة */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 20px;
    box-sizing: border-box;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 100%;
    max-width: 600px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.3s ease-in-out;
    display: flex;
    flex-direction: column;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.modal-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--primary);
    margin: 0;
}

.modal-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: #aaa;
    cursor: pointer;
    transition: color 0.3s ease;
}

.modal-close:hover {
    color: var(--danger);
}

.modal-body {
    max-height: 400px;
    overflow-y: auto;
    padding: 10px 0;
}

.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    border-top: 1px solid #ddd;
    padding-top: 10px;
    margin-top: 15px;
}
#manageSelfTestPage {
    padding: 20px;
}

.question-container {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    border: 1px dashed #ddd;
}

.option-item {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.option-item input[type="radio"] {
    margin-left: 10px;
}

.option-item input[type="text"] {
    flex: 1;
    margin-right: 10px;
}
.modal-footer .btn {
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.modal-footer .btn-danger {
    background-color: var(--danger);
    color: white;
    border: none;
}

.modal-footer .btn-danger:hover {
    background-color: #c0392b;
}

/* حركة عند ظهور النافذة */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
.toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 300px;
}

.toast {
    background-color: #14ee88; /* لون أخضر */
    color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: slideDown 0.5s ease forwards;
    opacity: 0;
    transform: translateY(-20px);
}

.toast i {
    margin-right: 10px;
    font-size: 1.2rem;
}

.toast-close {
    background: none;
    border: none;
    color: white;
    font-size: 1.2rem;
    cursor: pointer;
    transition: color 0.3s ease;
}

.toast-close:hover {
    color: #0cbf6b;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}
/* تحسين التمرير داخل النافذة */
.modal-body::-webkit-scrollbar {
    width: 8px;
}

.modal-body::-webkit-scrollbar-thumb {
    background-color: var(--primary);
    border-radius: 4px;
}

.modal-body::-webkit-scrollbar-track {
    background-color: #f1f1f1;
}
        .add-btn {
            background-color: var(--success);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        .remove-btn {
            background-color: var(--danger);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        .footer {
    background-color: #0a70ff; /* لون الخلفية */
    color: white; /* لون النص */
    padding: 20px 0;
    text-align: center;
    margin-top: 30px;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
}

.footer .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.footer p {
    margin: 0;
    font-size: 1rem;
    font-weight: bold;
}

.footer .social-links {
    list-style: none;
    padding: 0;
    margin: 10px 0 0;
    display: flex;
    justify-content: center;
    gap: 15px;
}
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.3s ease-in-out;
}

.modal-title {
    font-size: 1.8rem;
    font-weight: bold;
    color: #ff4444;
    margin-bottom: 15px;
}

.modal-message {
    font-size: 1rem;
    margin-bottom: 20px;
    color: #333;
}

.modal-content .btn {
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 5px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.modal-content .btn:hover {
    background-color: #0056b3;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
.self-test-card-footer button {
    margin-left: 10px; /* مسافة بين الأزرار */
}
.footer .social-links li {
    display: inline-block;
}
.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background-color: #0a70ff;
    border: 1px solid #0a70ff;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    min-width: 150px;
    padding: 10px 0;
}

.dropdown-item {
    padding: 10px 15px;
    background-color: transparent;
    border: none;
    width: 100%;
    text-align: left;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.dropdown-item:hover {
    background-color: #0a70ff;
}
.footer .social-links a {
    color: rgb(0, 170, 255);
    font-size: 1.5rem;
    transition: color 0.3s ease;
}

.footer .social-links a:hover {
    color: #ff6347; /* لون عند التحويم */
}
        /* Exam Taking */
        .exam-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .exam-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .exam-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .exam-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            color: var(--gray);
            margin-bottom: 20px;
        }
/* تغيير لون زر تسجيل الدخول */
#loginBtn {
    background-color: #ffffff; /* اللون الأخضر */
    color: rgb(0, 0, 0);
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
}
#loginBtn:hover {
    background-color: #ffffff; /* لون أخضر أغمق قليلاً */
    cursor: pointer;
}
/* إزالة تأثير hover */
#loginBtn:hover {
    cursor: pointer;
}
        .question-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .options-list {
            list-style: none;
        }

        .option-label {
            display: block;
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #ddd;
        }
        .toast-message {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #14ee88; /* لون أخضر */
    color: white;
    padding: 15px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
    font-weight: bold;
    z-index: 1000;
    animation: fadeIn 0.5s ease forwards;
}

.toast-message i {
    font-size: 1.5rem;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}
        .option-label:hover {
            border-color: var(--primary);
        }

        .option-label.selected {
            background-color: rgba(67, 97, 238, 0.1);
            border-color: var(--primary);
        }

        .option-input {
            margin-left: 10px;
        }

        .exam-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .exam-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    font-size: 0.9rem;
    color: var(--gray);
    margin-top: 10px;
}

.meta-item {
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: #f8f9fa;
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    font-weight: 500;
}

.meta-item i {
    color: var(--primary);
    font-size: 1.1rem;
}
        /* Results */
        .results-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .results-score {
            font-size: 3rem;
            color: var(--primary);
            margin: 20px 0;
            font-weight: 700;
        }

        .results-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .results-meta-item {
            background-color: #f8f9fa;
            padding: 15px 25px;
            border-radius: 8px;
        }

        .results-meta-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .results-questions {
            margin-top: 30px;
            text-align: right;
        }

        .result-question {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .correct-answer {
            color: var(--success);
            font-weight: 500;
        }

        .wrong-answer {
            color: var(--danger);
            font-weight: 500;
        }

        /* Auth Forms */
        .auth-container {
            max-width: 500px;
            margin: 50px auto;
            background-color: white;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .auth-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
        }

        .auth-form .form-group {
            margin-bottom: 25px;
        }

        .auth-footer {
            text-align: center;
            margin-top: 20px;
            color: var(--gray);
        }

        .auth-footer a {
            color: var(--primary);
            text-decoration: none;
        }
/* أنماط جديدة لتحسين واجهة رفع الملفات وعرض الصور */
.question-image-preview {
    max-width: 100%;
    max-height: 200px;
    margin-top: 10px;
    display: none;
}

.bulk-upload-instructions {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 5px;
    margin-top: 10px;
    border: 1px dashed #ddd;
}

#selfTestPage {
    text-align: center;
}

#selfTestContainer {
    margin-top: 20px;
}

.question-card {
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.question-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
}

.options-list {
    list-style: none;
    padding: 0;
}

.option-label {
    display: block;
    padding: 12px 15px;
    margin-bottom: 10px;
    background-color: white;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid #ddd;
}

.option-label:hover {
    border-color: var(--primary);
}

.option-label.selected {
    background-color: rgba(67, 97, 238, 0.1);
    border-color: var(--primary);
}
.export-btn {
    margin-bottom: 20px;
}
.feedback-container {
    margin-top: 20px;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
    animation: fadeIn 0.5s ease-in-out;
}

.feedback-container.success {
    background-color: rgba(46, 204, 113, 0.1); /* أخضر فاتح */
    color: #2ecc71; /* أخضر */
    border: 2px solid #2ecc71;
}

.feedback-container.error {
    background-color: rgba(231, 76, 60, 0.1); /* أحمر فاتح */
    color: #e74c3c; /* أحمر */
    border: 2px solid #e74c3c;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
        /* Alerts */
        .alert {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .alert-success {
            background-color: rgba(76, 201, 240, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .alert-danger {
            background-color: rgba(239, 35, 60, 0.1);
            border: 1px solid var(--danger);
            color: var(--danger);
        }

        .alert i {
            margin-left: 10px;
            font-size: 1.2rem;
        }

        /* Loading */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(67, 97, 238, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Student Grades */
        .grades-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .grades-table th, .grades-table td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #ddd;
        }

        .grades-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }

        .grades-table tr:hover {
            background-color: #f5f7fa;
        }

        .grade-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .grade-excellent {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .grade-good {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .grade-average {
            background-color: rgba(255, 158, 0, 0.1);
            color: var(--warning);
        }

        .grade-poor {
            background-color: rgba(239, 35, 60, 0.1);
            color: var(--danger);
        }

        /* Progress Chart */
        .progress-chart {
            width: 100%;
            height: 300px;
            margin-top: 30px;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }

        .progress-bar {
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            .sidebar {
    background-color: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
}
.slide-card {
    position: relative;
    overflow: hidden;
}

.slide-card:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary), var(--primary-light));
}
.form-control {
    border: 1px solid #E6E9ED;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
}

.form-control:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(93, 156, 236, 0.2);
}
/* تأثيرات حركية عند التمرير */
.exam-card, .slide-card {
    animation: fadeInUp 0.6s ease forwards;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* تأثيرات عند التحويم */
.btn {
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* تأثيرات النقر */
.btn:active {
    transform: scale(0.98);
}
.form-label {
    font-weight: 500;
    color: var(--dark);
    margin-bottom: 0.5rem;
}
.sidebar-menu a {
    display: flex;
    align-items: center;
    padding: 0.75rem 1.25rem;
    margin-bottom: 0.5rem;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.sidebar-menu a i {
    margin-left: 0.75rem;
    width: 20px;
    text-align: center;
    color: var(--primary);
}     
            .auth-buttons {
                width: 100%;
                display: flex;
                justify-content: center;
            }
            
            .exams-grid {
                grid-template-columns: 1fr;
            }
            
            .results-meta {
                flex-direction: column;
                gap: 15px;
            }
        }
      
/* تحسين تصميم بطاقات الشرائح */
.slide-card {
    background-color: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    border: 1px solid #eee;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
/* تصميم النافذة المنبثقة */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.modal-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 15px;
    color: var(--primary);
}

.modal-message {
    font-size: 1rem;
    margin-bottom: 20px;
    color: var(--text);
}

.modal-actions {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}

.modal-actions .btn {
    flex: 1;
    padding: 10px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.modal-actions .btn-success {
    background-color: var(--success);
    color: white;
    border: none;
}

.modal-actions .btn-success:hover {
    background-color: #12c874;
}

.modal-actions .btn-danger {
    background-color: var(--danger);
    color: white;
    border: none;
}

.modal-actions .btn-danger:hover {
    background-color: #c0392b;
}
.slide-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.slide-card-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-light));
    color: white;
    padding: 20px;
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
}

.slide-card-body {
    padding: 20px;
    color: var(--dark);
    font-size: 1rem;
    line-height: 1.6;
    text-align: justify;
}

.slide-card-footer {
    padding: 15px;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f8f9fa;
    font-size: 0.9rem;
    color: var(--gray);
}

.slide-card-footer i {
    margin-right: 5px;
    color: var(--primary);
}
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    border-radius: 15px;
    padding: 30px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    animation: fadeIn 0.5s ease-in-out;
}

.modal-title {
    font-size: 2rem;
    font-weight: bold;
    color: var(--primary);
    margin-bottom: 15px;
}

.modal-message {
    font-size: 1.2rem;
    margin-bottom: 20px;
    color: var(--text);
}

.result-details p {
    font-size: 1rem;
    margin: 10px 0;
    color: var(--dark);
}

.result-details strong {
    color: var(--primary);
}

.btn-primary {
    background-color: var(--primary);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background-color: var(--primary-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}
    </style>
</head>
<body>
    <div id="confirmModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">تأكيد تسليم الاختبار</h3>
            <p class="modal-message">هل أنت متأكد أنك تريد تسليم الاختبار؟</p>
            <div class="modal-actions">
                <button id="confirmYes" class="btn btn-success">نعم</button>
                <button id="confirmNo" class="btn btn-danger">إلغاء</button>
            </div>
        </div>
    </div>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span><span class="text-primary">منصة  </span>الفيزياء اللذيذة<span>
                </div>
                
                <div class="auth-buttons" id="authButtons">
                    <button class="btn btn-outline" id="loginBtn">تسجيل الدخول</button>                    <button class="btn btn-primary" id="registerBtn">حساب جديد</button>
                </div>

                <div class="user-menu" id="userMenu" style="display: none;">
                    <span id="userName"></span>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" id="userMenuDropdown" onclick="toggleDropdown()">☰</button>
                        <div class="dropdown-menu" id="dropdownMenu" style="display: none;">
                            <button class="dropdown-item" id="reloadHomeBtn">الرئيسية</button>

                            <button class="dropdown-item" id="logoutBtn">تسجيل الخروج</button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
<br>
    <main>
        <div class="container">
            <!-- Loading Screen -->
            <div id="loadingScreen" class="loading">
                <div class="spinner"></div>
            </div>

            <!-- Auth Screens -->
            <div id="aboutSection" class="about-container" style="display: none;">
                <div class="about-content">
                    <div class="about-text">
                        <h1>مرحباً بك في منصة الفيزياء اللذيذة</h1>
                        <p>
                            منصة تعليمية تهدف إلى تبسيط مفاهيم الفيزياء للطلاب من خلال دروس تفاعلية واختبارات إلكترونية.
                            بإشراف الأستاذ <strong>  فرج رزق</strong>، الذي يمتلك خبرة تزيد عن 10 سنوات في تدريس الفيزياء.
                        </p>
                        <p>
                            انضم إلينا الآن واستمتع بتجربة تعليمية ممتعة ومفيدة!
                        </p>
                    </div>
                    <div class="about-image">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5ERWJbQB-PzIRepFpxBdXilKBuLK_uuS92w&s" alt="صورة الأستاذ" class="teacher-image">
                    </div>
                </div>
                <div class="about-footer">
                    <p>تعلم الفيزياء بطريقة جديدة وممتعة مع مناظر طبيعية ملهمة.</p>
                </div>
            </div>
            </div>
            <div id="authScreens" style="display: none;">
                <!-- Login Form -->
                <div id="loginForm" class="auth-container">
    <h2 class="auth-title">تسجيل الدخول</h2>
    <div id="loginError" class="alert alert-danger" style="display: none;">
        <i class="fas fa-exclamation-circle"></i>
        <span id="loginErrorText"></span>
    </div>
    <form class="auth-form" id="loginFormFields">
        <div class="form-group">
            <label for="loginEmail" class="form-label">البريد الإلكتروني</label>
            <input type="email" id="loginEmail" class="form-control" placeholder="أدخل بريدك الإلكتروني" required>
        </div>
        <div class="form-group">
            <label for="loginPassword" class="form-label">كلمة المرور</label>
            <input type="password" id="loginPassword" class="form-control" placeholder="أدخل كلمة المرور" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 12px;">تسجيل الدخول</button>
    </form>
    <div class="auth-footer">
        ليس لديك حساب؟ <a href="#" id="showRegister">سجل الآن</a>
    </div>
</div>

<div id="selfTestResultModal" class="modal" style="display: none;">
    <div class="modal-content">
        <h2 class="modal-title">🎉 تهانينا!</h2>
        <p class="modal-message">لقد أكملت الاختبار بنجاح!</p>
        <div class="result-details">
            <p><strong>نتيجتك:</strong> <span id="selfTestResultScore">0%</span></p>
            <p><strong>عدد الإجابات الصحيحة:</strong> <span id="selfTestCorrectAnswers">0</span></p>
            <p><strong>عدد الإجابات الخاطئة:</strong> <span id="selfTestWrongAnswers">0</span></p>
        </div>
        <button class="btn btn-primary" id="closeSelfTestResultModal">إغلاق</button>
    </div>
</div>
<div id="toastMessage" class="toast-message" style="display: none;">
    <i class="fas fa-check-circle"></i>
    <span id="toastText">تم حذف الاختبار بنجاح!</span>
</div>
<div id="accountDisabledModal" class="modal" style="display: none;">
    <div class="modal-content">
        <h2 class="modal-title">🚫 حساب معطل</h2>
        <p class="modal-message">عذرًا، تم تعطيل حسابك. يرجى التواصل مع الإدارة للحصول على المزيد من التفاصيل.</p>
        <button class="btn btn-primary" onclick="closeAccountDisabledModal()">إغلاق</button>
    </div>
</div>
                <!-- Register Form -->
                <div id="registerForm" class="auth-container" style="display: none;">
                    <h2 class="auth-title">إنشاء حساب جديد</h2>
                    <div id="registerError" class="alert alert-danger" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i>
                        <span id="registerErrorText"></span>
                    </div>
                    <form class="auth-form" id="registerFormFields">
                        <div class="form-group">
                            <label for="registerName" class="form-label">الاسم الكامل</label>
                            <input type="text" id="registerName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="registerEmail" class="form-label">البريد الإلكتروني</label>
                            <input type="email" id="registerEmail" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword" class="form-label">كلمة المرور</label>
                            <input type="password" id="registerPassword" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="registerConfirmPassword" class="form-label">تأكيد كلمة المرور</label>
                            <input type="password" id="registerConfirmPassword" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">نوع الحساب</label>
                            <select id="registerRole" class="form-control" required>
                                <option value="student">طالب</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 12px;">إنشاء الحساب</button>
                    </form>
                    <div class="auth-footer">
                        لديك حساب بالفعل؟ <a href="#" id="showLogin">سجل الدخول</a>
                    </div>
                </div>
            </div>

            <!-- Main App -->
            <div id="appContent" style="display: none;">
                <div class="dashboard">
                    <div class="sidebar">
                        <ul class="sidebar-menu">
                            <li><a href="#" class="active" id="menuDashboard"><i class="fas fa-home"></i> الرئيسية </a></li>
                            <li><a href="#" id="menuExams"><i class="fas fa-clipboard-list"></i> الاختبارات</a></li>
                            <li><a href="#" id="menuCreateExam"><i class="fas fa-plus-circle"></i>   إنشاء اختبار وواجب</a></li>
                            <li><a href="#" id="menuCreateSlide"><i class="fas fa-chalkboard-teacher"></i> إنشاء شريحة</a></li>
                            <li><a href="#" id="menuManageSelfTest" style="display: none;"><i class="fas fa-brain"></i> إدارة اختبر نفسك</a></li>
                            <li><a href="#" id="menuResults"><i class="fas fa-chart-bar"></i> النتائج</a></li>
                            <li><a href="#" id="menuGrades"><i class="fas fa-star"></i> الدرجات</a></li>
                            <li><a href="#" id="menuStudents"><i class="fas fa-users"></i> الطلاب</a></li>
                            <li><a href="#" id="menuProfile"><i class="fas fa-user"></i> الملف الشخصي</a></li>
                            <li><a href="#" id="menuTeacher"><i class="fas fa-chalkboard-teacher"></i> المعلم</a></li>
                        </ul>
                    </div>
                    <div id="selfTestPage" style="display: none;">
                        <h2 class="page-title"><i class="fas fa-brain"></i> اختبر نفسك</h2>
                        <div id="selfTestContainer" class="exam-container">
                            <div id="selfTestQuestion" class="question-card">
                                <!-- سيتم تحميل السؤال هنا -->
                            </div>
                            <div id="feedbackContainer" class="feedback-container" style="display: none;">
                                <!-- التغذية الراجعة تظهر هنا -->
                            </div>
                            <div class="exam-footer">
                                <button class="btn btn-primary" id="prevSelfTestQuestionBtn" style="display: none;">السابق</button>
                                <button class="btn btn-primary" id="nextSelfTestQuestionBtn">التالــــي</button>

                                <button class="btn btn-success" id="finishSelfTestBtn" style="display: none;">إنهاء الاختبار</button>
                            </div>
                        </div>
                    </div>
                    <div id="deleteSelfTestModal" class="modal" style="display: none;">
                        <div class="modal-content">
                            <h3 class="modal-title">تأكيد الحذف</h3>
                            <p class="modal-message">هل أنت متأكد أنك تريد حذف هذا الاختبار؟</p>
                            <div class="modal-actions">
                                <button id="confirmDeleteSelfTestBtn" class="btn btn-danger">حذف</button>
                                <button id="cancelDeleteSelfTestBtn" class="btn btn-outline">إلغاء</button>
                            </div>
                        </div>
                    </div>
                    <div class="content-area">
                        <!-- Dashboard -->
                        <div id="dashboardPage">
                            <h2 class="page-title"><i class="fas fa-home"></i>الرئيسية</h2>
                            <p>مرحباً بك في منصة الاختبارات الإلكترونية. يمكنك إنشاء اختبارات جديدة أو حل الاختبارات المتاحة.</p>
                            
                            <div class="exams-grid" id="recentExams">
                                <!-- Recent exams will be loaded here -->
                            </div>
                            <div id="selfTestsDashboard" style="margin-top: 30px;">
                                <h3 class="page-title"><i class="fas fa-brain"></i> اختبر نفسك</h3>
                                <p>استعرض اختبارات "اختبر نفسك" المتاحة.</p>
                                <div class="exams-grid" id="selfTestsGrid">
                                    <!-- سيتم تحميل اختبارات "اختبر نفسك" هنا -->
                                </div>
                            </div>
                            <div id="slidesContainer" style="margin-top: 30px;" style="margin-top: 30px;" style="margin-top: 30px;" style="margin-top: 30px;">
    <h3 class="page-title"><i class="fas fa-chalkboard-teacher"></i> الشرائح</h3>
    <p>استعرض الشرائح التعليمية المتاحة.</p> 
 <div class="exams-grid" id="slidesGrid">
        <!-- الشرائح سيتم تحميلها هنا -->
    </div>
</div>
                            <div id="teacherDashboard" style="display: none;">
                                <h3 class="page-title" style="margin-top: 30px;"><i class="fas fa-chart-line"></i> إحصائيات الطلاب</h3>
                                <div class="progress-chart" id="studentsProgressChart">
                                    <!-- Progress chart will be loaded here -->
                                </div>
                            </div>
                        </div>

                        <!-- Exams List -->
                        <div id="examsPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-clipboard-list"></i> الاختبارات المتاحة</h2>
                            <div class="exams-grid" id="allExams">
                                <!-- All exams will be loaded here -->
                            </div>
                        </div>
                        <div id="manageSelfTestPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-brain"></i> إدارة اختبر نفسك</h2>
                            <div id="selfTestCreationSuccess" class="alert alert-success" style="display: none;">
                                <i class="fas fa-check-circle"></i>
                                <span>تم إنشاء الاختبار بنجاح!</span>
                            </div>
                            <form id="selfTestForm" class="exam-form">
                                <div class="form-group">
                                    <label for="selfTestTitle" class="form-label">عنوان الاختبار</label>
                                    <input type="text" id="selfTestTitle" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="selfTestDescription" class="form-label">وصف الاختبار</label>
                                    <textarea id="selfTestDescription" class="form-control" placeholder="أدخل وصفًا للاختبار"></textarea>
                                </div>
                                <div id="selfTestQuestionsContainer">
                                    <!-- سيتم إضافة الأسئلة هنا -->
                                </div>
                                <button type="button" class="btn btn-primary" id="addSelfTestQuestionBtn">
                                    <i class="fas fa-plus"></i> إضافة سؤال
                                </button>

                                <br><br>
                                <div class="form-group">
                                    <button type="button" class="btn btn-primary" id="bulkUploadSelfTestBtn">
                                        <i class="fas fa-upload"></i> رفع أسئلة "اختبر نفسك" (CSV/Excel)
                                    </button>
                                    <input type="file" id="bulkUploadSelfTestInput" accept=".csv,.xlsx,.xls" style="display: none;">
                                    <small class="text-muted">يمكنك رفع ملف يحتوي على جميع الأسئلة دفعة واحدة</small>
                                </div>
                                <div class="form-group" style="margin-top: 30px;">
                                    <button type="submit" class="btn btn-success" style="width: 100%; padding: 12px;">
                                        <i class="fas fa-save"></i> حفظ الاختبار
                                    </button>
                                 
                                 
                                </div>
                            </form>
                        </div>
                        <!-- Create Exam -->
                        <div id="createExamPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-plus-circle"></i> إنشاء اختبار جديد</h2>
                            <div id="examCreationSuccess" class="alert alert-success" style="display: none;">
                                <i class="fas fa-check-circle"></i>
                                <span>تم إنشاء الاختبار بنجاح!</span>
                            </div>
                            <form id="examForm" class="exam-form">
                                <div class="form-group">
                                    <label for="examTitle" class="form-label">عنوان الاختبار</label>
                                    <input type="text" id="examTitle" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="examDescription" class="form-label">وصف الاختبار</label>
                                    <textarea id="examDescription" class="form-control"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="examDuration" class="form-label">مدة الاختبار (دقائق)</label>
                                    <input type="number" id="examDuration" class="form-control" min="1" value="30" required>
                                </div>
                                <div class="form-group">
                                    <label for="examTotalMarks" class="form-label">الدرجة الكلية للاختبار</label>
                                    <input type="number" id="examTotalMarks" class="form-control" min="1" value="100" required>
                                </div>
                                
                                <div id="questionsContainer">
                                    <!-- Questions will be added here -->
                                </div>
                                
                                <button type="button" class="btn btn-primary" id="addQuestionBtn">
                                    <i class="fas fa-plus"></i> إضافة سؤال
                                </button>
                                <br>
                                 <br>
<div class="form-group">
    <button type="button" class="btn btn-primary" id="bulkUploadBtn">
        <i class="fas fa-upload"></i> رفع امتحان كامل (CSV/Excel)
    </button>
    <input type="file" id="bulkUploadInput" accept=".csv,.xlsx,.xls" style="display: none;">
    <small class="text-muted">يمكنك رفع ملف يحتوي على جميع الأسئلة دفعة واحدة</small>
</div>
                                <div class="form-group" style="margin-top: 30px;">
                                    <button type="submit" class="btn btn-success" style="width: 100%; padding: 12px;">
                                        <i class="fas fa-save"></i> حفظ الاختبار
                                    </button>
                                </div>
                            </form>

                            <div class="form-group">
                                <label for="allowedStudents" class="form-label">الطلاب المسموح لهم برؤية الاختبار</label>
                                <select id="allowedStudents" class="form-control" multiple>
                                    <!-- سيتم تحميل قائمة الطلاب هنا -->
                                </select>
                                <small class="text-muted">اترك هذا الحقل فارغًا إذا كنت تريد أن يكون الاختبار متاحًا لجميع الطلاب.</small>
                            </div>

                        </div>
                        <div id="deleteExamModal" class="modal" style="display: none;">
                            <div class="modal-content">
                                <h3 class="modal-title">تأكيد الحذف</h3>
                                <p class="modal-message">هل أنت متأكد أنك تريد حذف هذا الاختبار؟</p>
                                <div class="modal-actions">
                                    <button id="confirmDeleteBtn" class="btn btn-danger">حذف</button>
                                    <button id="cancelDeleteBtn" class="btn btn-outline">إلغاء</button>
                                </div>
                            </div>
                        </div>
                        <div id="deleteSlideModal" class="modal" style="display: none;">
                            <div class="modal-content">
                                <h3 class="modal-title">تأكيد الحذف</h3>
                                <p class="modal-message">هل أنت متأكد أنك تريد حذف هذه الشريحة؟</p>
                                <div class="modal-actions">
                                    <button id="confirmDeleteSlideBtn" class="btn btn-danger">حذف</button>
                                    <button id="cancelDeleteSlideBtn" class="btn btn-outline">إلغاء</button>
                                </div>
                            </div>
                        </div>
                        <div id="toastMessage" class="toast-message" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <span id="toastText">تم حذف الشريحة بنجاح!</span>
                        </div>
                        <!-- Create Slide -->
                        <div id="createSlidePage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-chalkboard-teacher"></i> إنشاء شريحة جديدة</h2>
                            <div id="slideCreationSuccess" class="alert alert-success" style="display: none;">
                                <i class="fas fa-check-circle"></i>
                                <span>تم إنشاء الشريحة بنجاح!</span>
                            </div>
                            <form id="slideForm" class="exam-form">
                                <div class="form-group">
                                    <label for="slideTitle" class="form-label">عنوان الشريحة</label>
                                    <input type="text" id="slideTitle" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="slideContent" class="form-label">محتوى الشريحة</label>
                                    <textarea id="slideContent" class="form-control" rows="5" required></textarea>
                                </div>
                                <div class="form-group" style="margin-top: 30px;">
                                    <button type="submit" class="btn btn-success" style="width: 100%; padding: 12px;">
                                        <i class="fas fa-save"></i> حفظ الشريحة
                                    </button>
                                </div>
                            </form>
                        </div>
                        <div id="gradesModal" class="modal" style="display: none;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title">درجات الطالب</h3>
                                    <button class="modal-close" onclick="document.getElementById('gradesModal').style.display='none'">&times;</button>
                                </div>
                                <div class="modal-body" id="gradesModalContent">
                                    <!-- سيتم تحميل الدرجات هنا -->
                                </div>
                                <div class="modal-footer">
                                    <button class="btn btn-danger" onclick="document.getElementById('gradesModal').style.display='none'">إغلاق</button>
                                </div>
                            </div>
                        </div>
                        <!-- Take Exam -->
                        <div id="takeExamPage" style="display: none;">
                            <div class="exam-container">
                                <div class="exam-header">
                                    <h1 class="exam-title" id="examViewTitle">عنوان الاختبار</h1>
                                    <div class="exam-meta">
                                        <span><i class="fas fa-clock"></i> الوقت المتبقي: <span id="timeRemaining">30:00</span></span>
                                        <span><i class="fas fa-question-circle"></i> الأسئلة: <span id="questionCount">0</span></span>
                                        <span><i class="fas fa-star"></i> الدرجة الكلية: <span id="totalMarks">100</span></span>
                                    </div>
                                </div>
                                
                                <div id="examQuestionsContainer">
                                    <!-- Exam questions will be loaded here -->
                                </div>
                                
                                <div class="exam-footer">
                                    <button class="btn btn-primary" id="prevQuestionBtn" disabled>السابق</button>
                                    <button class="btn btn-primary" id="nextQuestionBtn">التالي</button>
                                    <button class="btn btn-success" id="submitExamBtn">تسليم الاختبار</button>
                                </div>
                            </div>
                        </div>

                        <!-- Exam Results -->
                        <div id="resultsPage" style="display: none;">
                            <div class="results-container">
                                <h2>نتيجة الاختبار</h2>
                                <div class="results-score" id="finalScore">0%</div>
                                
                                <div class="results-meta">
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="correctAnswers">0</div>
                                        <div>إجابات صحيحة</div>
                                    </div>
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="wrongAnswers">0</div>
                                        <div>إجابات خاطئة</div>
                                    </div>
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="timeTaken">0</div>
                                        <div>دقيقة</div>
                                    </div>
                                    <div class="results-meta-item">
                                        <div class="results-meta-value" id="obtainedMarks">0</div>
                                        <div>الدرجة المحصلة</div>
                                    </div>
                                </div>
                                
                                <button class="btn btn-primary" id="backToExamsBtn">العودة إلى الاختبارات</button>
                                
                                <div class="results-questions" id="resultsDetails">
                                    <!-- Results details will be loaded here -->
                                </div>
                            </div>
                        </div>
                        <div id="toastContainer" class="toast-container"></div>
                        <!-- Grades Page -->
                        <div id="gradesPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-star"></i> سجل الدرجات</h2>
                            
                            <div id="studentGradesView">
                                <h3>درجاتي في الاختبارات</h3>
                                <table class="grades-table">
                                    <thead>
                                        <tr>
                                            <th>اسم الاختبار</th>
                                            <th>التاريخ</th>
                                            <th>الدرجة المحصلة</th>
                                            <th>النسبة المئوية</th>
                                            <th>الحالة</th>
                                        </tr>
                                    </thead>
                                    <tbody id="studentGradesTable">
                                        <!-- Student grades will be loaded here -->
                                    </tbody>
                                </table>
                                
                                <div class="progress-chart" id="studentProgressChart">
                                    <!-- Progress chart will be loaded here -->
                                </div>
                            </div>
                            
                            <div id="teacherGradesView" style="display: none;">
                                <h3>درجات الطلاب</h3>
                                <div class="form-group">
                                    <label for="gradeExamFilter" class="form-label">تصفية حسب الاختبار</label>
                                    <select id="gradeExamFilter" class="form-control">
                                        <option value="">جميع الاختبارات</option>
                                        <!-- Exam options will be loaded here -->
                                    </select>
                                </div>
                                
                                <table class="grades-table">
                                    <thead>
                                        <tr>
                                            <th>اسم الطالب</th>
                                            <th>اسم الاختبار</th>
                                            <th>التاريخ</th>
                                            <th>الدرجة المحصلة</th>
                                            <th>النسبة المئوية</th>
                                            <th>الحالة</th>
                                        </tr>
                                    </thead>
                                    <tbody id="allGradesTable">
                                        <!-- All grades will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="feedbackContainer" class="feedback-container" style="display: none;">
                            <!-- سيتم عرض التقييم هنا -->
                        </div>
                        <!-- Students Page -->
                        <div id="studentsPage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-users"></i> إدارة الطلاب</h2>
                            
                            <table class="grades-table">
                                <thead>
                                    <tr>
                                        <th>اسم الطالب</th>
                                        <th>البريد الإلكتروني</th>
                                        <th>عدد الاختبارات</th>
                                        <th>متوسط الدرجات</th>
                                        <th>الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="studentsTable">
                                    <!-- Students list will be loaded here -->
                                </tbody>
                            </table>
                        </div>

                        <!-- User Profile -->
                        <div id="profilePage" style="display: none;">
                            <h2 class="page-title"><i class="fas fa-user"></i> الملف الشخصي</h2>
                            <div class="exam-form">
                                <div class="form-group">
                                    <label class="form-label">الاسم الكامل</label>
                                    <input type="text" id="profileName" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">البريد الإلكتروني</label>
                                    <input type="email" id="profileEmail" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">نوع الحساب</label>
                                    <input type="text" id="profileRole" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">عدد الاختبارات التي أنشأتها</label>
                                    <input type="text" id="profileExamsCreated" class="form-control" disabled>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">عدد الاختبارات التي أجريتها</label>
                                    <input type="text" id="profileExamsTaken" class="form-control" disabled>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
  
    </main>
    <footer class="footer">
        <div class="container">
            <footer class="footer">
                    <p>Made with ❤️ by <strong> dr-Ismail Farag</strong></p>
                    <ul class="social-links">
                        <li><a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook"></i></a></li>
                        <li><a href="https://www.twitter.com" target="_blank"><i class="fab fa-twitter"></i></a></li>
                        <li><a href="https://www.linkedin.com" target="_blank"><i class="fab fa-linkedin"></i></a></li>
                        <li><a href="https://www.github.com" target="_blank"><i class="fab fa-github"></i></a></li>
                    </ul>
                </div>
            </footer>           
        </div>
    </footer>
    <script>

const _0x496404=_0x3c1d;(function(_0xdfe375,_0x3ce7fa){const _0x52d904=_0x3c1d,_0x17f95b=_0xdfe375();while(!![]){try{const _0xebbe11=-parseInt(_0x52d904(0x204))/0x1+parseInt(_0x52d904(0x2dd))/0x2+parseInt(_0x52d904(0x171))/0x3+parseInt(_0x52d904(0x2da))/0x4+-parseInt(_0x52d904(0x217))/0x5+parseInt(_0x52d904(0x1e0))/0x6+-parseInt(_0x52d904(0x23f))/0x7*(-parseInt(_0x52d904(0x2aa))/0x8);if(_0xebbe11===_0x3ce7fa)break;else _0x17f95b['push'](_0x17f95b['shift']());}catch(_0x213001){_0x17f95b['push'](_0x17f95b['shift']());}}}(_0x3834,0x852a3));function _0x3c1d(_0x5153a8,_0x526945){const _0x3834d2=_0x3834();return _0x3c1d=function(_0x3c1d13,_0x3ab5be){_0x3c1d13=_0x3c1d13-0x168;let _0xe37576=_0x3834d2[_0x3c1d13];return _0xe37576;},_0x3c1d(_0x5153a8,_0x526945);}const firebaseConfig={'apiKey':'AIzaSyCzPLk76EWLfx7X4Wo-d5zDMNmG6WY69Xs','authDomain':_0x496404(0x2c4),'projectId':_0x496404(0x1e7),'storageBucket':_0x496404(0x286),'messagingSenderId':_0x496404(0x1eb),'appId':_0x496404(0x2e2),'measurementId':_0x496404(0x255)};firebase[_0x496404(0x233)](firebaseConfig);const auth=firebase['auth'](),db=firebase[_0x496404(0x1f7)](),loadingScreen=document[_0x496404(0x225)](_0x496404(0x29f)),authScreens=document[_0x496404(0x225)](_0x496404(0x293)),appContent=document[_0x496404(0x225)](_0x496404(0x339)),loginForm=document[_0x496404(0x225)](_0x496404(0x1ba)),registerForm=document['getElementById'](_0x496404(0x1dd)),loginBtn=document['getElementById'](_0x496404(0x275)),registerBtn=document[_0x496404(0x225)](_0x496404(0x261)),showLogin=document[_0x496404(0x225)]('showLogin'),showRegister=document[_0x496404(0x225)](_0x496404(0x2fc)),authButtons=document[_0x496404(0x225)](_0x496404(0x23b)),userMenu=document[_0x496404(0x225)](_0x496404(0x20b)),userName=document[_0x496404(0x225)](_0x496404(0x289)),logoutBtn=document[_0x496404(0x225)](_0x496404(0x32d)),dashboardPage=document[_0x496404(0x225)]('dashboardPage'),examsPage=document[_0x496404(0x225)](_0x496404(0x184)),createExamPage=document[_0x496404(0x225)](_0x496404(0x2a7)),createSlidePage=document[_0x496404(0x225)](_0x496404(0x1cc)),takeExamPage=document[_0x496404(0x225)](_0x496404(0x17a)),resultsPage=document[_0x496404(0x225)](_0x496404(0x243)),gradesPage=document['getElementById']('gradesPage'),studentsPage=document[_0x496404(0x225)](_0x496404(0x2c9)),profilePage=document[_0x496404(0x225)](_0x496404(0x17c)),menuDashboard=document['getElementById'](_0x496404(0x2bd)),menuExams=document[_0x496404(0x225)](_0x496404(0x2dc)),menuCreateExam=document[_0x496404(0x225)](_0x496404(0x2f4)),menuCreateSlide=document[_0x496404(0x225)](_0x496404(0x271)),menuResults=document[_0x496404(0x225)](_0x496404(0x327)),menuGrades=document['getElementById'](_0x496404(0x1c4)),menuStudents=document[_0x496404(0x225)](_0x496404(0x2c3)),menuProfile=document[_0x496404(0x225)]('menuProfile');let currentUser=null,currentUserData=null,currentExam=null,currentQuestionIndex=0x0,userAnswers={},timerInterval=null,timeLeft=0x0,userRole='student';function initApp(){auth['onAuthStateChanged'](async _0x5b9885=>{const _0x8038a0=_0x3c1d;if(_0x5b9885){const _0x1021ed=await db[_0x8038a0(0x2b7)](_0x8038a0(0x32a))[_0x8038a0(0x203)](_0x5b9885[_0x8038a0(0x257)])[_0x8038a0(0x199)]();if(_0x1021ed[_0x8038a0(0x1fa)]&&_0x1021ed[_0x8038a0(0x32e)]()[_0x8038a0(0x27c)]){showAccountDisabledModal(),auth[_0x8038a0(0x278)]();return;}currentUser=_0x5b9885,currentUserData=_0x1021ed['data'](),userRole=currentUserData['role']||_0x8038a0(0x1a8),setupAuthenticatedUI(),loadDashboard();}else currentUser=null,currentUserData=null,setupUnauthenticatedUI();loadingScreen[_0x8038a0(0x2b3)][_0x8038a0(0x1e1)]=_0x8038a0(0x17f);});}function deleteSelfTest(_0x127429){const _0x3e293c=_0x496404;db[_0x3e293c(0x2b7)](_0x3e293c(0x1ab))['doc'](_0x127429)[_0x3e293c(0x254)]()[_0x3e293c(0x25c)](()=>{const _0x203ca6=_0x3e293c;showToast(_0x203ca6(0x2cd),'success'),loadSelfTests();})[_0x3e293c(0x282)](_0x3693da=>{const _0x250d27=_0x3e293c;showToast(_0x250d27(0x28f)+_0x3693da[_0x250d27(0x1ea)],_0x250d27(0x28d));});}function showToast(_0x460caa,_0x288bbf=_0x496404(0x330)){const _0x15db03=_0x496404,_0x14e88f=document['getElementById'](_0x15db03(0x191)),_0x15e049=document[_0x15db03(0x21c)](_0x15db03(0x1da));_0x15e049[_0x15db03(0x317)]='toast\x20'+_0x288bbf,_0x15e049[_0x15db03(0x29e)]=_0x15db03(0x1e2)+_0x460caa+_0x15db03(0x33a),_0x14e88f[_0x15db03(0x315)](_0x15e049),setTimeout(()=>{const _0xc3794=_0x15db03;_0x15e049[_0xc3794(0x2b3)][_0xc3794(0x323)]=_0xc3794(0x1c9),setTimeout(()=>_0x15e049['remove'](),0x1f4);},0xbb8),_0x15e049[_0x15db03(0x319)](_0x15db03(0x209))['addEventListener'](_0x15db03(0x1cf),()=>{const _0x289c1c=_0x15db03;_0x15e049['style']['animation']=_0x289c1c(0x1c9),setTimeout(()=>_0x15e049['remove'](),0x1f4);});}function finishSelfTest(){const _0x3eda99=_0x496404;let _0x468bc0=0x0;currentExam[_0x3eda99(0x2d7)]['forEach']((_0x5c16b7,_0x10a91d)=>{userAnswers[_0x10a91d]===_0x5c16b7['correctAnswer']&&_0x468bc0++;});const _0x5ed1aa=currentExam[_0x3eda99(0x2d7)]['length'],_0x13d099=Math[_0x3eda99(0x230)](_0x468bc0/_0x5ed1aa*0x64),_0x306c5d=_0x5ed1aa-_0x468bc0;document['getElementById']('selfTestResultScore')['textContent']=_0x13d099+'%',document[_0x3eda99(0x225)](_0x3eda99(0x1cd))[_0x3eda99(0x208)]=_0x468bc0,document[_0x3eda99(0x225)](_0x3eda99(0x31e))[_0x3eda99(0x208)]=_0x306c5d;const _0x4319b5=document[_0x3eda99(0x225)](_0x3eda99(0x31d));_0x4319b5[_0x3eda99(0x2b3)]['display']=_0x3eda99(0x267),currentExam=null,currentQuestionIndex=0x0,userAnswers={},document[_0x3eda99(0x225)](_0x3eda99(0x272))[_0x3eda99(0x223)](_0x3eda99(0x1cf),()=>{const _0x33a416=_0x3eda99;location[_0x33a416(0x1ca)]();});}document['getElementById']('bulkUploadSelfTestBtn')[_0x496404(0x223)](_0x496404(0x1cf),()=>{const _0x1a3f1e=_0x496404;document[_0x1a3f1e(0x225)](_0x1a3f1e(0x25b))[_0x1a3f1e(0x1cf)]();}),document[_0x496404(0x225)]('bulkUploadSelfTestInput')[_0x496404(0x223)](_0x496404(0x23e),_0x397c2e=>{const _0x425783=_0x496404,_0x13b94f=_0x397c2e[_0x425783(0x2ff)][_0x425783(0x28c)][0x0];if(!_0x13b94f)return;const _0x3c1521=_0x13b94f[_0x425783(0x1a5)][_0x425783(0x27a)]('.')[_0x425783(0x194)]()[_0x425783(0x253)]();if(_0x3c1521===_0x425783(0x305))Papa['parse'](_0x13b94f,{'header':!![],'complete':function(_0xa10b3d){processSelfTestQuestions(_0xa10b3d['data']);},'error':function(_0x4f780b){alert('حدث\x20خطأ\x20أثناء\x20قراءة\x20الملف:\x20'+_0x4f780b['message']);}});else{if(['xlsx',_0x425783(0x18d)][_0x425783(0x210)](_0x3c1521)){const _0x130a53=new FileReader();_0x130a53['onload']=function(_0x42443e){const _0x116d2e=_0x425783,_0x1672b6=new Uint8Array(_0x42443e[_0x116d2e(0x2ff)][_0x116d2e(0x16b)]),_0x588e3b=XLSX[_0x116d2e(0x206)](_0x1672b6,{'type':_0x116d2e(0x16d)}),_0x45e9c0=_0x588e3b['SheetNames'][0x0],_0x21f4db=_0x588e3b[_0x116d2e(0x2b2)][_0x45e9c0],_0x3b615e=XLSX[_0x116d2e(0x196)][_0x116d2e(0x2cb)](_0x21f4db);processSelfTestQuestions(_0x3b615e);},_0x130a53[_0x425783(0x207)](_0x13b94f);}else alert(_0x425783(0x313));}});function loadAllExams(){const _0x2ed9b4=_0x496404,_0x31db30=document[_0x2ed9b4(0x225)]('allExams');_0x31db30['innerHTML']=_0x2ed9b4(0x2b4),db['collection'](_0x2ed9b4(0x1f8))[_0x2ed9b4(0x2d8)]('createdAt',_0x2ed9b4(0x2e8))['get']()[_0x2ed9b4(0x25c)](_0x11444d=>{const _0x980e4a=_0x2ed9b4;if(_0x11444d[_0x980e4a(0x1d4)]){_0x31db30[_0x980e4a(0x29e)]=_0x980e4a(0x279);return;}_0x31db30[_0x980e4a(0x29e)]='',_0x11444d['forEach'](_0x2f65e4=>{const _0x40182e=_0x980e4a,_0x3b9272=_0x2f65e4['data']();(!_0x3b9272['allowedStudents']||_0x3b9272['allowedStudents'][_0x40182e(0x21f)]===0x0||_0x3b9272[_0x40182e(0x193)][_0x40182e(0x210)](currentUser[_0x40182e(0x257)]))&&_0x31db30[_0x40182e(0x315)](createExamCard(_0x3b9272,_0x2f65e4['id']));});})['catch'](_0x58e247=>{const _0x2d95c1=_0x2ed9b4;_0x31db30[_0x2d95c1(0x29e)]=_0x2d95c1(0x1b4)+_0x58e247[_0x2d95c1(0x1ea)]+_0x2d95c1(0x234);});}function processSelfTestQuestions(_0xdadcfd){const _0x1a2433=_0x496404,_0x35c10c=document[_0x1a2433(0x225)](_0x1a2433(0x19c));_0x35c10c[_0x1a2433(0x29e)]='',_0xdadcfd[_0x1a2433(0x1c7)]((_0x4500f0,_0x3dd3c2)=>{const _0x37d16c=_0x1a2433,_0x582ffb=Date['now']()+_0x3dd3c2,_0x157eb8=document[_0x37d16c(0x21c)](_0x37d16c(0x1da));_0x157eb8[_0x37d16c(0x317)]='question-container',_0x157eb8['id']=_0x37d16c(0x1c5)+_0x582ffb,_0x157eb8[_0x37d16c(0x29e)]=_0x37d16c(0x224)+(_0x4500f0[_0x37d16c(0x28a)]||'')+_0x37d16c(0x24f)+_0x582ffb+_0x37d16c(0x24b)+[0x1,0x2,0x3,0x4]['map'](_0x11105e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-'+_0x582ffb+_0x37d16c(0x290)+(_0x11105e-0x1)+'\x22\x20'+(_0x4500f0[_0x37d16c(0x2a9)]==_0x11105e?_0x37d16c(0x18b):'')+_0x37d16c(0x1c6)+(_0x4500f0[_0x37d16c(0x310)+_0x11105e]||'')+_0x37d16c(0x2c1))[_0x37d16c(0x316)]('')+_0x37d16c(0x2e0),_0x35c10c[_0x37d16c(0x315)](_0x157eb8);}),alert('تم\x20تحميل\x20الأسئلة\x20بنجاح!');}document[_0x496404(0x225)](_0x496404(0x212))['addEventListener'](_0x496404(0x1cf),()=>{const _0x3f6cf9=_0x496404;currentQuestionIndex<currentExam['questions'][_0x3f6cf9(0x21f)]-0x1&&(currentQuestionIndex++,loadSelfTestQuestion(currentQuestionIndex));});function setupAuthenticatedUI(){const _0x174d57=_0x496404;authScreens['style'][_0x174d57(0x1e1)]=_0x174d57(0x17f),appContent[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x18e),authButtons[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x17f),userMenu['style'][_0x174d57(0x1e1)]='block',userName[_0x174d57(0x208)]=currentUserData?.[_0x174d57(0x1a5)]||currentUser[_0x174d57(0x2f5)],userRole===_0x174d57(0x2f3)?(menuCreateExam[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x18e),menuCreateSlide[_0x174d57(0x2b3)]['display']=_0x174d57(0x18e),menuStudents['style']['display']=_0x174d57(0x18e),menuManageSelfTest[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x18e),document[_0x174d57(0x225)](_0x174d57(0x1b2))['style']['display']=_0x174d57(0x18e),document[_0x174d57(0x225)](_0x174d57(0x1cb))['style'][_0x174d57(0x1e1)]=_0x174d57(0x18e),document['getElementById'](_0x174d57(0x244))[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x17f)):(menuCreateExam[_0x174d57(0x2b3)][_0x174d57(0x1e1)]='none',menuCreateSlide[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x17f),menuStudents[_0x174d57(0x2b3)]['display']='none',menuManageSelfTest[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x17f),document[_0x174d57(0x225)](_0x174d57(0x1b2))[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x17f),document[_0x174d57(0x225)]('teacherGradesView')[_0x174d57(0x2b3)][_0x174d57(0x1e1)]='none',document[_0x174d57(0x225)](_0x174d57(0x244))[_0x174d57(0x2b3)][_0x174d57(0x1e1)]=_0x174d57(0x18e)),setActiveMenuItem(menuDashboard);}menuDashboard['addEventListener'](_0x496404(0x1cf),_0x11c79c=>{_0x11c79c['preventDefault'](),setActiveMenuItem(menuDashboard),location['reload']();}),menuManageSelfTest[_0x496404(0x223)]('click',_0x4c9e3e=>{const _0x2185ce=_0x496404;_0x4c9e3e[_0x2185ce(0x22f)](),setActiveMenuItem(menuManageSelfTest),showPage(manageSelfTestPage);});function showAuthForm(_0x2a6e2e){const _0x474848=_0x496404,_0x4a58da=document[_0x474848(0x225)](_0x474848(0x333));_0x2a6e2e==='login'?(loginForm[_0x474848(0x2b3)][_0x474848(0x1e1)]=_0x474848(0x18e),registerForm['style'][_0x474848(0x1e1)]=_0x474848(0x17f),_0x4a58da[_0x474848(0x2b3)][_0x474848(0x1e1)]=_0x474848(0x18e)):(loginForm[_0x474848(0x2b3)][_0x474848(0x1e1)]='none',registerForm['style'][_0x474848(0x1e1)]=_0x474848(0x18e),_0x4a58da[_0x474848(0x2b3)]['display']=_0x474848(0x17f));}document['getElementById']('reloadHomeBtn')[_0x496404(0x223)](_0x496404(0x1cf),()=>{location['reload']();});function showPage(_0xae3547){const _0x4df5b4=_0x496404,_0x7f62e8=[dashboardPage,examsPage,createExamPage,createSlidePage,takeExamPage,resultsPage,gradesPage,studentsPage,profilePage],_0x5c0880=document[_0x4df5b4(0x225)](_0x4df5b4(0x333));_0x7f62e8[_0x4df5b4(0x1c7)](_0x4fff87=>{const _0x5e7173=_0x4df5b4;_0x4fff87[_0x5e7173(0x2b3)][_0x5e7173(0x1e1)]=_0x5e7173(0x17f);}),_0x5c0880&&(_0x5c0880[_0x4df5b4(0x2b3)][_0x4df5b4(0x1e1)]=_0x4df5b4(0x17f)),_0xae3547[_0x4df5b4(0x2b3)][_0x4df5b4(0x1e1)]=_0x4df5b4(0x18e);}function setupUnauthenticatedUI(){const _0x298a24=_0x496404;authScreens[_0x298a24(0x2b3)][_0x298a24(0x1e1)]='block',appContent[_0x298a24(0x2b3)][_0x298a24(0x1e1)]='none',authButtons[_0x298a24(0x2b3)][_0x298a24(0x1e1)]=_0x298a24(0x18e),userMenu[_0x298a24(0x2b3)][_0x298a24(0x1e1)]=_0x298a24(0x17f),showAuthForm('login');}function showAuthForm(_0xdb6edf){const _0x20a02a=_0x496404;_0xdb6edf===_0x20a02a(0x25d)?(loginForm[_0x20a02a(0x2b3)][_0x20a02a(0x1e1)]='block',registerForm[_0x20a02a(0x2b3)][_0x20a02a(0x1e1)]=_0x20a02a(0x17f)):(loginForm[_0x20a02a(0x2b3)]['display']=_0x20a02a(0x17f),registerForm[_0x20a02a(0x2b3)][_0x20a02a(0x1e1)]=_0x20a02a(0x18e));}document['getElementById'](_0x496404(0x275))['addEventListener'](_0x496404(0x1cf),()=>{const _0x1ea33b=_0x496404,_0x7b7f5a=document[_0x1ea33b(0x225)](_0x1ea33b(0x1ba));_0x7b7f5a&&_0x7b7f5a[_0x1ea33b(0x1ae)]({'behavior':'smooth','block':_0x1ea33b(0x2cf)});});function loadStudentsForExam(){const _0x1ae3ab=_0x496404,_0x540fdc=document['getElementById']('allowedStudents');_0x540fdc[_0x1ae3ab(0x29e)]=_0x1ae3ab(0x220),db[_0x1ae3ab(0x2b7)](_0x1ae3ab(0x32a))[_0x1ae3ab(0x291)](_0x1ae3ab(0x26e),'==','student')[_0x1ae3ab(0x199)]()[_0x1ae3ab(0x25c)](_0x1f6d29=>{const _0x3444fe=_0x1ae3ab;_0x540fdc[_0x3444fe(0x29e)]='',_0x1f6d29[_0x3444fe(0x1c7)](_0x28070b=>{const _0x265cfa=_0x3444fe,_0xc4729e=_0x28070b[_0x265cfa(0x32e)]();_0x540fdc[_0x265cfa(0x29e)]+=_0x265cfa(0x2f0)+_0x28070b['id']+'\x22>'+_0xc4729e[_0x265cfa(0x1a5)]+'\x20('+_0xc4729e[_0x265cfa(0x2f5)]+_0x265cfa(0x16a);});})[_0x1ae3ab(0x282)](_0x446dac=>{const _0x23bc9e=_0x1ae3ab;_0x540fdc['innerHTML']=_0x23bc9e(0x2a6)+_0x446dac[_0x23bc9e(0x1ea)]+'</option>';});}menuCreateExam[_0x496404(0x223)](_0x496404(0x1cf),_0x811a7b=>{const _0x265991=_0x496404;_0x811a7b[_0x265991(0x22f)]();if(userRole!==_0x265991(0x2f3)){alert('عذرًا،\x20فقط\x20المعلم\x20يمكنه\x20إنشاء\x20الاختبارات.');return;}setActiveMenuItem(menuCreateExam),showPage(createExamPage);});function saveExam(_0x128158){const _0x530e87=_0x496404;_0x128158[_0x530e87(0x22f)]();if(userRole!==_0x530e87(0x2f3)){alert(_0x530e87(0x21d));return;}const _0x530e81=document[_0x530e87(0x225)](_0x530e87(0x20e))[_0x530e87(0x200)][_0x530e87(0x2d0)](),_0x9df3a2=document['getElementById'](_0x530e87(0x251))[_0x530e87(0x200)][_0x530e87(0x2d0)](),_0x2ac954=parseInt(document[_0x530e87(0x225)]('examDuration')[_0x530e87(0x200)]),_0x39a654=parseInt(document[_0x530e87(0x225)](_0x530e87(0x1e9))['value']),_0x4c7a03=Array[_0x530e87(0x182)](document[_0x530e87(0x225)](_0x530e87(0x193))[_0x530e87(0x298)])[_0x530e87(0x18f)](_0x51f114=>_0x51f114[_0x530e87(0x200)]);if(!_0x530e81||!_0x9df3a2||isNaN(_0x2ac954)||isNaN(_0x39a654)){alert(_0x530e87(0x32b));return;}if(_0x4c7a03[_0x530e87(0x21f)]===0x0){const _0x3438d1=confirm(_0x530e87(0x2ea));if(!_0x3438d1)return;}const _0x529fbe=[],_0x436a3b=document[_0x530e87(0x2e1)]('.question-container');_0x436a3b[_0x530e87(0x1c7)](_0x2e0a4c=>{const _0x5ea080=_0x530e87,_0xd17339=_0x2e0a4c[_0x5ea080(0x319)]('.question-text')[_0x5ea080(0x200)]['trim'](),_0x4b5dd1=_0x2e0a4c['querySelectorAll'](_0x5ea080(0x1d1)),_0x32f03a=parseInt(_0x2e0a4c[_0x5ea080(0x319)](_0x5ea080(0x29c))?.[_0x5ea080(0x200)]);if(!_0xd17339||isNaN(_0x32f03a)){alert(_0x5ea080(0x24c));return;}const _0x5f365b=Array[_0x5ea080(0x182)](_0x4b5dd1)[_0x5ea080(0x18f)](_0x51eadd=>({'text':_0x51eadd[_0x5ea080(0x200)][_0x5ea080(0x2d0)]()}));_0x529fbe['push']({'text':_0xd17339,'options':_0x5f365b,'correctAnswer':_0x32f03a});}),db[_0x530e87(0x2b7)](_0x530e87(0x1f8))[_0x530e87(0x1a1)]({'title':_0x530e81,'description':_0x9df3a2,'duration':_0x2ac954,'totalMarks':_0x39a654,'questions':_0x529fbe,'allowedStudents':_0x4c7a03,'createdBy':currentUserData?.[_0x530e87(0x1a5)]||currentUser[_0x530e87(0x2f5)],'createdAt':firebase[_0x530e87(0x1f7)][_0x530e87(0x1c8)][_0x530e87(0x331)](),'userId':currentUser[_0x530e87(0x257)]})[_0x530e87(0x25c)](()=>{const _0x5e43b3=_0x530e87;alert('تم\x20حفظ\x20الاختبار\x20بنجاح!'),document['getElementById'](_0x5e43b3(0x1bb))[_0x5e43b3(0x2ae)](),document[_0x5e43b3(0x225)](_0x5e43b3(0x1b5))[_0x5e43b3(0x29e)]='';})[_0x530e87(0x282)](_0x291ea2=>{const _0x320376=_0x530e87;alert('حدث\x20خطأ\x20أثناء\x20حفظ\x20الاختبار:\x20'+_0x291ea2[_0x320376(0x1ea)]);});}function deleteSlide(_0x57ebdf){const _0x5f1f40=_0x496404;db['collection'](_0x5f1f40(0x325))[_0x5f1f40(0x203)](_0x57ebdf)[_0x5f1f40(0x254)]()[_0x5f1f40(0x25c)](()=>{const _0xa3f4a8=_0x5f1f40;showToast(_0xa3f4a8(0x262)),loadSlides();})[_0x5f1f40(0x282)](_0x38dff2=>{const _0x2a83db=_0x5f1f40;showToast(_0x2a83db(0x31c)+_0x38dff2[_0x2a83db(0x1ea)],_0x2a83db(0x28d));});}function showAccountDisabledModal(){const _0x51962b=_0x496404,_0x248d05=document[_0x51962b(0x225)](_0x51962b(0x1fe));_0x248d05[_0x51962b(0x2b3)][_0x51962b(0x1e1)]=_0x51962b(0x267);}function closeAccountDisabledModal(){const _0x44879c=_0x496404,_0x3573b7=document[_0x44879c(0x225)](_0x44879c(0x1fe));_0x3573b7['style'][_0x44879c(0x1e1)]='none';}function showToast(_0x2e8f50,_0x337dc3='success'){const _0xf6aaf2=_0x496404,_0x16005e=document['getElementById'](_0xf6aaf2(0x19e)),_0x4d8ebc=document[_0xf6aaf2(0x225)](_0xf6aaf2(0x1a2));_0x4d8ebc[_0xf6aaf2(0x208)]=_0x2e8f50,_0x16005e[_0xf6aaf2(0x2b3)][_0xf6aaf2(0x173)]=_0x337dc3===_0xf6aaf2(0x330)?'#14ee88':'#FC5C65',_0x16005e[_0xf6aaf2(0x2b3)]['display']=_0xf6aaf2(0x267),setTimeout(()=>{const _0x52ec08=_0xf6aaf2;_0x16005e['style'][_0x52ec08(0x323)]='fadeOut\x200.5s\x20ease\x20forwards',setTimeout(()=>{const _0x4aad81=_0x52ec08;_0x16005e[_0x4aad81(0x2b3)][_0x4aad81(0x1e1)]=_0x4aad81(0x17f),_0x16005e[_0x4aad81(0x2b3)]['animation']=_0x4aad81(0x1ef);},0x1f4);},0xbb8);}function loadRecentExams(){const _0x138081=_0x496404,_0x14b982=document[_0x138081(0x225)](_0x138081(0x2f1));_0x14b982[_0x138081(0x29e)]=_0x138081(0x2b4),db[_0x138081(0x2b7)](_0x138081(0x1f8))[_0x138081(0x2d8)](_0x138081(0x1ed),_0x138081(0x2e8))['limit'](0x384)[_0x138081(0x199)]()['then'](_0x37f9e9=>{const _0x4d7c22=_0x138081;if(_0x37f9e9[_0x4d7c22(0x1d4)]){_0x14b982[_0x4d7c22(0x29e)]='<p>لا\x20توجد\x20اختبارات\x20متاحة\x20حالياً</p>';return;}_0x14b982[_0x4d7c22(0x29e)]='',_0x37f9e9['forEach'](_0x2e5220=>{const _0x331c0b=_0x4d7c22,_0x480925=_0x2e5220[_0x331c0b(0x32e)]();(!_0x480925['allowedStudents']||_0x480925[_0x331c0b(0x193)]['length']===0x0||_0x480925[_0x331c0b(0x193)][_0x331c0b(0x210)](currentUser[_0x331c0b(0x257)]))&&_0x14b982[_0x331c0b(0x315)](createExamCard(_0x480925,_0x2e5220['id']));});})['catch'](_0x17a931=>{const _0x3f1002=_0x138081;_0x14b982[_0x3f1002(0x29e)]=_0x3f1002(0x1b4)+_0x17a931[_0x3f1002(0x1ea)]+'</p>';});}function setActiveMenuItem(_0x34dc78){const _0x2347d1=_0x496404,_0x12ede5=[menuDashboard,menuExams,menuCreateExam,menuCreateSlide,menuResults,menuGrades,menuStudents,menuProfile];_0x12ede5[_0x2347d1(0x1c7)](_0x1b91d3=>{const _0x38b89f=_0x2347d1;_0x1b91d3[_0x38b89f(0x2ec)][_0x38b89f(0x31a)](_0x38b89f(0x26b));}),_0x34dc78['classList'][_0x2347d1(0x1a1)](_0x2347d1(0x26b));}function showAuthForm(_0x5a10c2){const _0x10fd11=_0x496404,_0x57b10b=document[_0x10fd11(0x225)](_0x10fd11(0x333));_0x5a10c2===_0x10fd11(0x25d)?(loginForm[_0x10fd11(0x2b3)][_0x10fd11(0x1e1)]=_0x10fd11(0x18e),registerForm[_0x10fd11(0x2b3)][_0x10fd11(0x1e1)]=_0x10fd11(0x17f),_0x57b10b['style'][_0x10fd11(0x1e1)]=_0x10fd11(0x18e)):(loginForm['style']['display']=_0x10fd11(0x17f),registerForm['style'][_0x10fd11(0x1e1)]=_0x10fd11(0x18e),_0x57b10b['style'][_0x10fd11(0x1e1)]=_0x10fd11(0x17f));}function confirmDeleteExam(_0x32ca85){const _0xb1e936=_0x496404,_0x1cf0dd=document[_0xb1e936(0x225)](_0xb1e936(0x19f));_0x1cf0dd[_0xb1e936(0x2b3)][_0xb1e936(0x1e1)]=_0xb1e936(0x267);const _0x2b24f3=document['getElementById'](_0xb1e936(0x242)),_0x13935c=document['getElementById']('cancelDeleteBtn');_0x2b24f3[_0xb1e936(0x2bb)](_0x2b24f3['cloneNode'](!![])),_0x13935c[_0xb1e936(0x2bb)](_0x13935c[_0xb1e936(0x1a3)](!![])),document['getElementById'](_0xb1e936(0x242))[_0xb1e936(0x223)]('click',()=>{const _0x2993f6=_0xb1e936;_0x1cf0dd['style'][_0x2993f6(0x1e1)]=_0x2993f6(0x17f),deleteExam(_0x32ca85);}),document[_0xb1e936(0x225)](_0xb1e936(0x2b9))[_0xb1e936(0x223)](_0xb1e936(0x1cf),()=>{const _0x32d3d9=_0xb1e936;_0x1cf0dd[_0x32d3d9(0x2b3)][_0x32d3d9(0x1e1)]=_0x32d3d9(0x17f);});}function deleteExam(_0x45b5eb){const _0x270dd7=_0x496404;db[_0x270dd7(0x2b7)]('exams')[_0x270dd7(0x203)](_0x45b5eb)[_0x270dd7(0x254)]()[_0x270dd7(0x25c)](()=>{const _0x2ad981=_0x270dd7;alert(_0x2ad981(0x2cd)),loadAllExams();})[_0x270dd7(0x282)](_0x4aebc2=>{const _0x4defd7=_0x270dd7;alert(_0x4defd7(0x28f)+_0x4aebc2[_0x4defd7(0x1ea)]);});}document['getElementById'](_0x496404(0x212))[_0x496404(0x223)](_0x496404(0x1cf),()=>{const _0x14a5f7=_0x496404;selfTestCurrentIndex<selfTestQuestions[_0x14a5f7(0x21f)]-0x1&&(selfTestCurrentIndex++,loadSelfTestQuestion(selfTestCurrentIndex));}),document[_0x496404(0x225)]('finishSelfTestBtn')[_0x496404(0x223)](_0x496404(0x1cf),finishSelfTest);function showPage(_0xac299f){const _0x2ea436=_0x496404,_0x22b6ef=[dashboardPage,examsPage,createExamPage,createSlidePage,takeExamPage,resultsPage,gradesPage,studentsPage,profilePage];_0x22b6ef[_0x2ea436(0x1c7)](_0xb147b0=>{const _0x5d6ce4=_0x2ea436;_0xb147b0['style'][_0x5d6ce4(0x1e1)]=_0x5d6ce4(0x17f);}),_0xac299f[_0x2ea436(0x2b3)][_0x2ea436(0x1e1)]=_0x2ea436(0x18e);}function loadDashboard(){const _0x3437c0=_0x496404;showPage(dashboardPage),loadRecentExams(),loadSlides(),userRole===_0x3437c0(0x2f3)?loadStudentsProgress():loadStudentProgress();}function loadRecentExams(){const _0x55a9da=_0x496404,_0x57dc49=document[_0x55a9da(0x225)](_0x55a9da(0x2f1));_0x57dc49[_0x55a9da(0x29e)]=_0x55a9da(0x2b4),db[_0x55a9da(0x2b7)]('exams')[_0x55a9da(0x2d8)](_0x55a9da(0x1ed),'desc')[_0x55a9da(0x1dc)](0x384)[_0x55a9da(0x199)]()[_0x55a9da(0x25c)](_0x3277bf=>{const _0x5d9da1=_0x55a9da;if(_0x3277bf[_0x5d9da1(0x1d4)]){_0x57dc49[_0x5d9da1(0x29e)]='<p>لا\x20توجد\x20اختبارات\x20متاحة\x20حالياً</p>';return;}_0x57dc49[_0x5d9da1(0x29e)]='',_0x3277bf['forEach'](_0x4ef360=>{const _0x275a56=_0x5d9da1,_0x588447=_0x4ef360[_0x275a56(0x32e)]();_0x57dc49['appendChild'](createExamCard(_0x588447,_0x4ef360['id']));});})['catch'](_0x40fef2=>{const _0x5a5195=_0x55a9da;_0x57dc49[_0x5a5195(0x29e)]='<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الاختبارات:\x20'+_0x40fef2['message']+_0x5a5195(0x234);});}document[_0x496404(0x225)](_0x496404(0x1f2))[_0x496404(0x223)]('click',()=>{const _0x17e2ad=_0x496404;document[_0x17e2ad(0x225)](_0x17e2ad(0x326))['click']();}),document[_0x496404(0x225)]('bulkUploadInput')[_0x496404(0x223)](_0x496404(0x23e),_0x2b7671=>{const _0x4bceeb=_0x496404,_0x49e3f0=_0x2b7671[_0x4bceeb(0x2ff)][_0x4bceeb(0x28c)][0x0];if(!_0x49e3f0)return;const _0x327d2b=_0x49e3f0[_0x4bceeb(0x1a5)][_0x4bceeb(0x27a)]('.')[_0x4bceeb(0x194)]()['toLowerCase']();if(_0x327d2b===_0x4bceeb(0x305))Papa[_0x4bceeb(0x213)](_0x49e3f0,{'header':!![],'complete':function(_0x32a1a2){processQuestions(_0x32a1a2['data']);},'error':function(_0x39710f){const _0x25fdf9=_0x4bceeb;alert('حدث\x20خطأ\x20أثناء\x20قراءة\x20الملف:\x20'+_0x39710f[_0x25fdf9(0x1ea)]);}});else{if([_0x4bceeb(0x2fe),'xls'][_0x4bceeb(0x210)](_0x327d2b)){const _0x2cbdc9=new FileReader();_0x2cbdc9[_0x4bceeb(0x22b)]=function(_0x24e9cd){const _0x2d6c37=_0x4bceeb,_0x2d3344=new Uint8Array(_0x24e9cd['target'][_0x2d6c37(0x16b)]),_0x36f68b=XLSX[_0x2d6c37(0x206)](_0x2d3344,{'type':_0x2d6c37(0x16d)}),_0x1eb2f6=_0x36f68b['SheetNames'][0x0],_0x16823b=_0x36f68b['Sheets'][_0x1eb2f6],_0x32ad47=XLSX[_0x2d6c37(0x196)][_0x2d6c37(0x2cb)](_0x16823b);processQuestions(_0x32ad47);},_0x2cbdc9[_0x4bceeb(0x207)](_0x49e3f0);}else alert(_0x4bceeb(0x313));}});function confirmDeleteSelfTest(_0x237119){const _0x528426=_0x496404,_0x2919c7=document[_0x528426(0x225)]('deleteSelfTestModal');_0x2919c7[_0x528426(0x2b3)][_0x528426(0x1e1)]=_0x528426(0x267);const _0x13d7ae=document[_0x528426(0x225)](_0x528426(0x2ce)),_0xa6e29a=document['getElementById'](_0x528426(0x2a8));_0x13d7ae['replaceWith'](_0x13d7ae[_0x528426(0x1a3)](!![])),_0xa6e29a['replaceWith'](_0xa6e29a[_0x528426(0x1a3)](!![])),document[_0x528426(0x225)](_0x528426(0x2ce))[_0x528426(0x223)](_0x528426(0x1cf),()=>{const _0x2db7ab=_0x528426;_0x2919c7['style']['display']=_0x2db7ab(0x17f),deleteSelfTest(_0x237119);}),document['getElementById']('cancelDeleteSelfTestBtn')['addEventListener'](_0x528426(0x1cf),()=>{const _0x3dd31e=_0x528426;_0x2919c7[_0x3dd31e(0x2b3)][_0x3dd31e(0x1e1)]=_0x3dd31e(0x17f);});}function toggleDropdown(){const _0x583412=_0x496404,_0x1bec3f=document['getElementById'](_0x583412(0x16c));_0x1bec3f['style'][_0x583412(0x1e1)]=_0x1bec3f[_0x583412(0x2b3)][_0x583412(0x1e1)]==='block'?_0x583412(0x17f):_0x583412(0x18e);}document['addEventListener'](_0x496404(0x1cf),_0x3677dd=>{const _0x10df15=_0x496404,_0x807b03=document[_0x10df15(0x225)]('userMenuDropdown'),_0x4b1ede=document[_0x10df15(0x225)](_0x10df15(0x16c));!_0x807b03['contains'](_0x3677dd[_0x10df15(0x2ff)])&&(_0x4b1ede[_0x10df15(0x2b3)][_0x10df15(0x1e1)]=_0x10df15(0x17f));}),document[_0x496404(0x225)](_0x496404(0x235))[_0x496404(0x223)](_0x496404(0x1cf),()=>{const _0x46ad94=_0x496404,_0xf827f4=document[_0x46ad94(0x225)](_0x46ad94(0x30b));_0xf827f4['style']['display']='flex';const _0x2e67e5=document[_0x46ad94(0x225)](_0x46ad94(0x188)),_0x173ecb=document[_0x46ad94(0x225)](_0x46ad94(0x1df));_0x2e67e5[_0x46ad94(0x2bb)](_0x2e67e5[_0x46ad94(0x1a3)](!![])),_0x173ecb[_0x46ad94(0x2bb)](_0x173ecb[_0x46ad94(0x1a3)](!![])),document[_0x46ad94(0x225)](_0x46ad94(0x188))['addEventListener'](_0x46ad94(0x1cf),()=>{const _0x1ff738=_0x46ad94;_0xf827f4[_0x1ff738(0x2b3)][_0x1ff738(0x1e1)]=_0x1ff738(0x17f),submitExam();}),document['getElementById'](_0x46ad94(0x1df))['addEventListener'](_0x46ad94(0x1cf),()=>{const _0x28570e=_0x46ad94;_0xf827f4[_0x28570e(0x2b3)][_0x28570e(0x1e1)]=_0x28570e(0x17f);});});function processQuestions(_0x33a4af){const _0x5b99a7=_0x496404,_0xc5779c=document[_0x5b99a7(0x225)]('questionsContainer');_0xc5779c['innerHTML']='',_0x33a4af[_0x5b99a7(0x1c7)]((_0x2d3299,_0x315379)=>{const _0x326573=_0x5b99a7,_0x48dbd5=Date[_0x326573(0x260)]()+_0x315379,_0x4273c4=document[_0x326573(0x21c)](_0x326573(0x1da));_0x4273c4['className']=_0x326573(0x2bc),_0x4273c4['id']=_0x326573(0x1c5)+_0x48dbd5,_0x4273c4[_0x326573(0x29e)]=_0x326573(0x224)+(_0x2d3299[_0x326573(0x28a)]||'')+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>خيارات\x20الإجابة</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22options-'+_0x48dbd5+_0x326573(0x24b)+[0x1,0x2,0x3,0x4]['map'](_0x307437=>_0x326573(0x320)+_0x48dbd5+_0x326573(0x290)+(_0x307437-0x1)+'\x22\x20'+(_0x2d3299[_0x326573(0x2a9)]==_0x307437?_0x326573(0x18b):'')+_0x326573(0x1c6)+(_0x2d3299[_0x326573(0x310)+_0x307437]||'')+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x326573(0x316)]('')+_0x326573(0x2e0),_0xc5779c[_0x326573(0x315)](_0x4273c4);}),alert(_0x5b99a7(0x17d));}function createExamCard(_0x3da3ab,_0x5a1e94){const _0x391515=_0x496404,_0x1a46f2=document[_0x391515(0x21c)](_0x391515(0x1da));_0x1a46f2[_0x391515(0x317)]=_0x391515(0x1de);const _0x3330e5=document['createElement']('div');_0x3330e5[_0x391515(0x317)]=_0x391515(0x218),_0x3330e5[_0x391515(0x29e)]=_0x391515(0x1f6)+_0x3da3ab[_0x391515(0x247)];const _0x16cea7=document[_0x391515(0x21c)](_0x391515(0x1da));_0x16cea7[_0x391515(0x317)]=_0x391515(0x2e6),_0x16cea7[_0x391515(0x29e)]=_0x391515(0x1d2)+(_0x3da3ab[_0x391515(0x1d5)]||'')+_0x391515(0x234);const _0x48a091=document[_0x391515(0x21c)](_0x391515(0x1da));_0x48a091[_0x391515(0x317)]=_0x391515(0x24a),_0x48a091[_0x391515(0x29e)]=_0x391515(0x280)+(_0x3da3ab['createdBy']||_0x391515(0x2af))+_0x391515(0x307)+_0x3da3ab[_0x391515(0x281)]+_0x391515(0x27b)+(_0x3da3ab[_0x391515(0x216)]||0x64)+_0x391515(0x16f);const _0x10ac4f=document[_0x391515(0x21c)]('div');_0x10ac4f[_0x391515(0x317)]=_0x391515(0x1b9);const _0x25f2c4=document[_0x391515(0x21c)](_0x391515(0x29d));_0x25f2c4[_0x391515(0x317)]=_0x391515(0x221),_0x25f2c4[_0x391515(0x208)]=_0x391515(0x288),_0x25f2c4[_0x391515(0x223)](_0x391515(0x1cf),()=>startExam(_0x3da3ab,_0x5a1e94)),_0x10ac4f['appendChild'](_0x25f2c4);if(userRole===_0x391515(0x2f3)){const _0x315a8d=document[_0x391515(0x21c)](_0x391515(0x29d));_0x315a8d[_0x391515(0x317)]=_0x391515(0x179),_0x315a8d['textContent']=_0x391515(0x22d),_0x315a8d['addEventListener'](_0x391515(0x1cf),()=>editExam(_0x3da3ab,_0x5a1e94)),_0x10ac4f[_0x391515(0x315)](_0x315a8d);const _0x4be6f3=document[_0x391515(0x21c)](_0x391515(0x29d));_0x4be6f3[_0x391515(0x317)]=_0x391515(0x2fb),_0x4be6f3['textContent']=_0x391515(0x1bc),_0x4be6f3[_0x391515(0x223)](_0x391515(0x1cf),()=>confirmDeleteExam(_0x5a1e94)),_0x10ac4f[_0x391515(0x315)](_0x4be6f3);}return _0x1a46f2['appendChild'](_0x3330e5),_0x1a46f2[_0x391515(0x315)](_0x48a091),_0x1a46f2[_0x391515(0x315)](_0x16cea7),_0x1a46f2[_0x391515(0x315)](_0x10ac4f),_0x1a46f2;}function loadSelfTests(){const _0x2069e5=_0x496404,_0x134f5b=document[_0x2069e5(0x225)]('selfTestsGrid');_0x134f5b[_0x2069e5(0x29e)]=_0x2069e5(0x2ca),db[_0x2069e5(0x2b7)]('selfTests')['orderBy'](_0x2069e5(0x1ed),_0x2069e5(0x2e8))[_0x2069e5(0x199)]()['then'](_0x3563a2=>{const _0x45a810=_0x2069e5;if(_0x3563a2[_0x45a810(0x1d4)]){_0x134f5b[_0x45a810(0x29e)]=_0x45a810(0x2b0);return;}_0x134f5b[_0x45a810(0x29e)]='',_0x3563a2['forEach'](_0x1af311=>{const _0x2f8e9f=_0x1af311['data']();_0x134f5b['appendChild'](createSelfTestCard(_0x2f8e9f,_0x1af311['id']));});})[_0x2069e5(0x282)](_0xfe5dba=>{const _0x8e3b62=_0x2069e5;_0x134f5b['innerHTML']='<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20اختبارات\x20\x22اختبر\x20نفسك\x22:\x20'+_0xfe5dba[_0x8e3b62(0x1ea)]+_0x8e3b62(0x234);});}function createSelfTestCard(_0x3e8a20,_0x3b0100){const _0x1abaef=_0x496404,_0x2146a8=document[_0x1abaef(0x21c)](_0x1abaef(0x1da));_0x2146a8[_0x1abaef(0x317)]=_0x1abaef(0x22c);const _0x59dffd=document[_0x1abaef(0x21c)](_0x1abaef(0x1da));_0x59dffd['className']=_0x1abaef(0x2a5),_0x59dffd[_0x1abaef(0x208)]=_0x3e8a20[_0x1abaef(0x247)];const _0x27ea0f=document['createElement'](_0x1abaef(0x1da));_0x27ea0f[_0x1abaef(0x317)]=_0x1abaef(0x23c),_0x27ea0f[_0x1abaef(0x29e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(_0x3e8a20[_0x1abaef(0x1d5)]||_0x1abaef(0x2d2))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>عدد\x20الأسئلة:</strong>\x20'+_0x3e8a20['questions'][_0x1abaef(0x21f)]+_0x1abaef(0x2d9);const _0x2a2239=document[_0x1abaef(0x21c)](_0x1abaef(0x1da));_0x2a2239[_0x1abaef(0x317)]=_0x1abaef(0x264);const _0x5c2a3c=document[_0x1abaef(0x21c)](_0x1abaef(0x29d));_0x5c2a3c['className']=_0x1abaef(0x221),_0x5c2a3c[_0x1abaef(0x208)]=_0x1abaef(0x288),_0x5c2a3c[_0x1abaef(0x2b3)][_0x1abaef(0x2f7)]=_0x1abaef(0x29b),_0x5c2a3c[_0x1abaef(0x223)](_0x1abaef(0x1cf),()=>startSelfTest(_0x3e8a20,_0x3b0100)),_0x2a2239[_0x1abaef(0x315)](_0x5c2a3c);if(userRole===_0x1abaef(0x2f3)){const _0x32b230=document['createElement'](_0x1abaef(0x29d));_0x32b230['className']=_0x1abaef(0x2fb),_0x32b230[_0x1abaef(0x208)]=_0x1abaef(0x1bc),_0x32b230[_0x1abaef(0x223)](_0x1abaef(0x1cf),()=>confirmDeleteSelfTest(_0x3b0100)),_0x2a2239[_0x1abaef(0x315)](_0x32b230);}return _0x2146a8[_0x1abaef(0x315)](_0x59dffd),_0x2146a8[_0x1abaef(0x315)](_0x27ea0f),_0x2146a8[_0x1abaef(0x315)](_0x2a2239),_0x2146a8;}function startSelfTest(_0x232e23,_0x59ae48){currentExam={..._0x232e23,'id':_0x59ae48},currentQuestionIndex=0x0,userAnswers={},loadSelfTestQuestion(currentQuestionIndex),showPage(selfTestPage);}function loadSelfTestQuestion(_0x38e22f){const _0x379849=_0x496404,_0x9077ef=currentExam['questions'][_0x38e22f],_0x2c00a6=document[_0x379849(0x225)](_0x379849(0x25f)),_0x5b390b=document['getElementById'](_0x379849(0x2c2));_0x5b390b[_0x379849(0x2b3)][_0x379849(0x1e1)]=_0x379849(0x17f),_0x5b390b[_0x379849(0x29e)]='',_0x2c00a6['innerHTML']=_0x379849(0x30e)+(_0x38e22f+0x1)+':\x20'+_0x9077ef[_0x379849(0x168)]+_0x379849(0x17b)+_0x9077ef['options'][_0x379849(0x18f)]((_0x177c13,_0x2c1298)=>_0x379849(0x30a)+_0x38e22f+_0x379849(0x290)+_0x2c1298+'\x22\x20class=\x22option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x177c13['text']+_0x379849(0x222))[_0x379849(0x316)]('')+_0x379849(0x177),document[_0x379849(0x2e1)](_0x379849(0x1bd))[_0x379849(0x1c7)](_0x1d851d=>{const _0x5d4617=_0x379849;_0x1d851d[_0x5d4617(0x223)](_0x5d4617(0x1cf),function(){const _0x223da7=_0x5d4617;document[_0x223da7(0x2e1)](_0x223da7(0x1bd))['forEach'](_0x4aa25b=>_0x4aa25b[_0x223da7(0x2ec)]['remove'](_0x223da7(0x183))),this[_0x223da7(0x2ec)][_0x223da7(0x1a1)](_0x223da7(0x183));const _0x4f2366=this[_0x223da7(0x319)](_0x223da7(0x1a6));_0x4f2366[_0x223da7(0x18b)]=!![],userAnswers[_0x38e22f]=parseInt(_0x4f2366['value']),showFeedback(_0x38e22f);});}),document[_0x379849(0x225)]('prevSelfTestQuestionBtn')[_0x379849(0x2b3)][_0x379849(0x1e1)]=_0x38e22f>0x0?_0x379849(0x1ce):_0x379849(0x17f),document[_0x379849(0x225)](_0x379849(0x212))[_0x379849(0x2b3)]['display']=_0x38e22f<currentExam[_0x379849(0x2d7)][_0x379849(0x21f)]-0x1?_0x379849(0x1ce):_0x379849(0x17f),document['getElementById']('finishSelfTestBtn')[_0x379849(0x2b3)][_0x379849(0x1e1)]=_0x38e22f===currentExam[_0x379849(0x2d7)][_0x379849(0x21f)]-0x1?_0x379849(0x1ce):_0x379849(0x17f);}document['getElementById'](_0x496404(0x1c3))[_0x496404(0x223)](_0x496404(0x1cf),()=>{currentQuestionIndex>0x0&&(currentQuestionIndex--,loadSelfTestQuestion(currentQuestionIndex));});function showFeedback(_0x52c473){const _0x5ba0b8=_0x496404,_0x6c3f39=currentExam['questions'][_0x52c473],_0x328768=userAnswers[_0x52c473],_0x745b88=document[_0x5ba0b8(0x225)](_0x5ba0b8(0x2c2));_0x745b88['style'][_0x5ba0b8(0x1e1)]='block',_0x328768===_0x6c3f39[_0x5ba0b8(0x2c8)]?(_0x745b88[_0x5ba0b8(0x317)]=_0x5ba0b8(0x268),_0x745b88[_0x5ba0b8(0x29e)]=_0x5ba0b8(0x1c2)):(_0x745b88[_0x5ba0b8(0x317)]=_0x5ba0b8(0x297),_0x745b88[_0x5ba0b8(0x29e)]=_0x5ba0b8(0x178)+_0x6c3f39[_0x5ba0b8(0x18c)][_0x6c3f39[_0x5ba0b8(0x2c8)]][_0x5ba0b8(0x168)]+_0x5ba0b8(0x2f6)),document[_0x5ba0b8(0x225)]('nextSelfTestQuestionBtn')[_0x5ba0b8(0x2b3)][_0x5ba0b8(0x1e1)]=_0x52c473<currentExam[_0x5ba0b8(0x2d7)][_0x5ba0b8(0x21f)]-0x1?_0x5ba0b8(0x1ce):'none',document[_0x5ba0b8(0x225)](_0x5ba0b8(0x1ac))[_0x5ba0b8(0x2b3)][_0x5ba0b8(0x1e1)]=_0x52c473===currentExam[_0x5ba0b8(0x2d7)][_0x5ba0b8(0x21f)]-0x1?_0x5ba0b8(0x1ce):_0x5ba0b8(0x17f);}function loadDashboard(){const _0x42ac3b=_0x496404;showPage(dashboardPage),loadRecentExams(),loadSlides(),loadSelfTests(),userRole===_0x42ac3b(0x2f3)?loadStudentsProgress():loadStudentProgress();}document[_0x496404(0x225)](_0x496404(0x2d3))[_0x496404(0x223)](_0x496404(0x1cf),_0x266ef1=>{const _0x479c0f=_0x496404;_0x266ef1[_0x479c0f(0x22f)](),setActiveMenuItem(menuManageSelfTest),showPage(manageSelfTestPage);});function showPage(_0x4998fb){const _0x2c83dc=_0x496404,_0x27f5da=[dashboardPage,examsPage,createExamPage,createSlidePage,takeExamPage,resultsPage,gradesPage,studentsPage,profilePage,manageSelfTestPage];_0x27f5da[_0x2c83dc(0x1c7)](_0x472ddd=>{const _0x419823=_0x2c83dc;_0x472ddd[_0x419823(0x2b3)][_0x419823(0x1e1)]=_0x419823(0x17f);}),_0x4998fb['style']['display']=_0x2c83dc(0x18e);}document[_0x496404(0x225)]('addSelfTestQuestionBtn')['addEventListener'](_0x496404(0x1cf),()=>{const _0x3bbc2c=_0x496404,_0x261b85=document[_0x3bbc2c(0x225)](_0x3bbc2c(0x19c)),_0x4ddae9=Date[_0x3bbc2c(0x260)](),_0x4b7a63=document[_0x3bbc2c(0x21c)]('div');_0x4b7a63['className']=_0x3bbc2c(0x2bc),_0x4b7a63['id']=_0x3bbc2c(0x1c5)+_0x4ddae9,_0x4b7a63[_0x3bbc2c(0x29e)]=_0x3bbc2c(0x20a)+_0x4ddae9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-'+_0x4ddae9+'\x22\x20value=\x220\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22الخيار\x20الأول\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-'+_0x4ddae9+'\x22\x20value=\x221\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22الخيار\x20الثاني\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22add-btn\x22\x20onclick=\x22addOption(\x27'+_0x4ddae9+_0x3bbc2c(0x2a1)+_0x4ddae9+_0x3bbc2c(0x1fd),_0x261b85[_0x3bbc2c(0x315)](_0x4b7a63);});function addOption(_0x305145){const _0x57701a=_0x496404,_0x4b1cf9=document[_0x57701a(0x225)](_0x57701a(0x2ba)+_0x305145),_0x423fdc=_0x4b1cf9[_0x57701a(0x241)][_0x57701a(0x21f)];if(_0x423fdc>=0x5){alert(_0x57701a(0x21e));return;}const _0x13373f=document[_0x57701a(0x21c)](_0x57701a(0x1da));_0x13373f[_0x57701a(0x317)]=_0x57701a(0x2be),_0x13373f[_0x57701a(0x29e)]=_0x57701a(0x335)+_0x305145+'\x22\x20value=\x22'+_0x423fdc+_0x57701a(0x2a0)+(_0x423fdc+0x1)+_0x57701a(0x2d6),_0x4b1cf9[_0x57701a(0x315)](_0x13373f);}function removeQuestion(_0x796f97){const _0x395afd=_0x496404,_0x520306=document['getElementById']('question-'+_0x796f97);_0x520306&&confirm(_0x395afd(0x336))&&_0x520306[_0x395afd(0x31a)]();}function confirmDeleteSlide(_0x4277db){const _0x230b98=_0x496404,_0x114abc=document[_0x230b98(0x225)](_0x230b98(0x238));_0x114abc['style'][_0x230b98(0x1e1)]='flex';const _0x480f52=document[_0x230b98(0x225)](_0x230b98(0x186)),_0xf5095d=document[_0x230b98(0x225)](_0x230b98(0x21a));_0x480f52['replaceWith'](_0x480f52['cloneNode'](!![])),_0xf5095d['replaceWith'](_0xf5095d[_0x230b98(0x1a3)](!![])),document[_0x230b98(0x225)](_0x230b98(0x186))[_0x230b98(0x223)](_0x230b98(0x1cf),()=>{const _0x13ee81=_0x230b98;_0x114abc[_0x13ee81(0x2b3)]['display']='none',deleteSlide(_0x4277db);}),document[_0x230b98(0x225)]('cancelDeleteSlideBtn')[_0x230b98(0x223)]('click',()=>{const _0x1f7729=_0x230b98;_0x114abc[_0x1f7729(0x2b3)][_0x1f7729(0x1e1)]=_0x1f7729(0x17f);});}document['getElementById'](_0x496404(0x2ad))[_0x496404(0x223)](_0x496404(0x192),_0x497263=>{const _0x1ee4e4=_0x496404;_0x497263['preventDefault']();const _0x5a6636=document[_0x1ee4e4(0x225)](_0x1ee4e4(0x250))[_0x1ee4e4(0x200)],_0x4f500c=document[_0x1ee4e4(0x225)](_0x1ee4e4(0x321))[_0x1ee4e4(0x200)],_0x3ca09a=[],_0xa39599=document['querySelectorAll']('.question-container');_0xa39599[_0x1ee4e4(0x1c7)](_0x182382=>{const _0x5c8674=_0x1ee4e4,_0x3d9999=_0x182382[_0x5c8674(0x319)](_0x5c8674(0x1e8))['value'],_0x3b5f26=_0x182382[_0x5c8674(0x2e1)](_0x5c8674(0x1d1)),_0x20ec85=parseInt(_0x182382[_0x5c8674(0x319)](_0x5c8674(0x29c))[_0x5c8674(0x200)]),_0x462b8f=Array[_0x5c8674(0x182)](_0x3b5f26)['map'](_0xc49b1e=>({'text':_0xc49b1e['value']}));_0x3ca09a[_0x5c8674(0x2df)]({'text':_0x3d9999,'options':_0x462b8f,'correctAnswer':_0x20ec85});}),db['collection'](_0x1ee4e4(0x1ab))[_0x1ee4e4(0x1a1)]({'title':_0x5a6636,'description':_0x4f500c,'questions':_0x3ca09a,'createdBy':currentUserData?.[_0x1ee4e4(0x1a5)]||currentUser[_0x1ee4e4(0x2f5)],'createdAt':firebase[_0x1ee4e4(0x1f7)][_0x1ee4e4(0x1c8)]['serverTimestamp'](),'userId':currentUser['uid']})['then'](()=>{const _0x468c6b=_0x1ee4e4;alert(_0x468c6b(0x33b)),location['reload']();})[_0x1ee4e4(0x282)](_0x28a452=>{const _0x513690=_0x1ee4e4;alert(_0x513690(0x248)+_0x28a452[_0x513690(0x1ea)]);});});function editExam(_0x563df7,_0x2abb38){const _0x7a8aab=_0x496404;setActiveMenuItem(menuCreateExam),showPage(createExamPage),document[_0x7a8aab(0x225)](_0x7a8aab(0x20e))[_0x7a8aab(0x200)]=_0x563df7['title'],document[_0x7a8aab(0x225)](_0x7a8aab(0x251))[_0x7a8aab(0x200)]=_0x563df7[_0x7a8aab(0x1d5)],document['getElementById'](_0x7a8aab(0x30d))[_0x7a8aab(0x200)]=_0x563df7['duration'],document['getElementById'](_0x7a8aab(0x1e9))['value']=_0x563df7[_0x7a8aab(0x216)];const _0x183ae2=document[_0x7a8aab(0x225)](_0x7a8aab(0x1b5));_0x183ae2[_0x7a8aab(0x29e)]='',_0x563df7[_0x7a8aab(0x2d7)][_0x7a8aab(0x1c7)]((_0x117861,_0x5d844a)=>{const _0x15b39f=_0x7a8aab,_0x47f038=Date[_0x15b39f(0x260)]()+_0x5d844a,_0x883bec=document[_0x15b39f(0x21c)]('div');_0x883bec[_0x15b39f(0x317)]='question-container',_0x883bec['id']=_0x15b39f(0x1c5)+_0x47f038,_0x883bec[_0x15b39f(0x29e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>نص\x20السؤال</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20question-text\x22\x20value=\x22'+_0x117861[_0x15b39f(0x168)]+_0x15b39f(0x24f)+_0x47f038+_0x15b39f(0x24b)+_0x117861['options'][_0x15b39f(0x18f)]((_0x3c0cd4,_0xf63a6a)=>_0x15b39f(0x320)+_0x47f038+'\x22\x20value=\x22'+_0xf63a6a+'\x22\x20'+(_0x117861[_0x15b39f(0x2c8)]===_0xf63a6a?'checked':'')+_0x15b39f(0x1c6)+_0x3c0cd4['text']+_0x15b39f(0x2c1))['join']('')+_0x15b39f(0x2e0),_0x183ae2[_0x15b39f(0x315)](_0x883bec);});const _0x39936f=document['getElementById'](_0x7a8aab(0x1bb));_0x39936f[_0x7a8aab(0x2e9)]=_0x1043a6=>updateExam(_0x1043a6,_0x2abb38);}function updateExam(_0x1edf61,_0x92ea1){const _0x2a5183=_0x496404;_0x1edf61[_0x2a5183(0x22f)]();const _0x12a507=document[_0x2a5183(0x225)](_0x2a5183(0x20e))[_0x2a5183(0x200)],_0x4470fd=document[_0x2a5183(0x225)]('examDescription')[_0x2a5183(0x200)],_0x10fba0=parseInt(document[_0x2a5183(0x225)](_0x2a5183(0x30d))['value']),_0x213f70=parseInt(document[_0x2a5183(0x225)](_0x2a5183(0x1e9))[_0x2a5183(0x200)]),_0x4f55ba=[],_0x57e23f=document['querySelectorAll'](_0x2a5183(0x215));_0x57e23f[_0x2a5183(0x1c7)](_0x3e8b7b=>{const _0x1f6362=_0x2a5183,_0x463750=_0x3e8b7b[_0x1f6362(0x319)](_0x1f6362(0x1e8))[_0x1f6362(0x200)],_0x416612=_0x3e8b7b[_0x1f6362(0x2e1)](_0x1f6362(0x1d1)),_0x3796ba=parseInt(_0x3e8b7b[_0x1f6362(0x319)](_0x1f6362(0x29c))[_0x1f6362(0x200)]),_0x20c9fa=Array['from'](_0x416612)['map'](_0x443b8c=>({'text':_0x443b8c[_0x1f6362(0x200)]}));_0x4f55ba[_0x1f6362(0x2df)]({'text':_0x463750,'options':_0x20c9fa,'correctAnswer':_0x3796ba});}),db[_0x2a5183(0x2b7)]('exams')[_0x2a5183(0x203)](_0x92ea1)[_0x2a5183(0x2d5)]({'title':_0x12a507,'description':_0x4470fd,'duration':_0x10fba0,'totalMarks':_0x213f70,'questions':_0x4f55ba,'updatedAt':firebase[_0x2a5183(0x1f7)]['FieldValue']['serverTimestamp']()})[_0x2a5183(0x25c)](()=>{const _0xf2269d=_0x2a5183;alert(_0xf2269d(0x175)),loadAllExams();})[_0x2a5183(0x282)](_0x220c2d=>{const _0x1eeda7=_0x2a5183;alert(_0x1eeda7(0x311)+_0x220c2d[_0x1eeda7(0x1ea)]);});}async function saveExam(_0x837f68){const _0x3b87cf=_0x496404;_0x837f68[_0x3b87cf(0x22f)]();const _0x289f67=document[_0x3b87cf(0x225)](_0x3b87cf(0x20e))[_0x3b87cf(0x200)],_0x1c9187=document[_0x3b87cf(0x225)](_0x3b87cf(0x251))['value'],_0x47ee42=parseInt(document[_0x3b87cf(0x225)]('examDuration')[_0x3b87cf(0x200)]),_0x25c202=parseInt(document['getElementById'](_0x3b87cf(0x1e9))[_0x3b87cf(0x200)]),_0x5b497e=[],_0x1f07d3=document[_0x3b87cf(0x2e1)](_0x3b87cf(0x215));if(_0x1f07d3[_0x3b87cf(0x21f)]===0x0){alert('يجب\x20إضافة\x20سؤال\x20واحد\x20على\x20الأقل');return;}for(const _0x181fb5 of _0x1f07d3){const _0x2b0392=_0x181fb5['querySelector']('.question-text')[_0x3b87cf(0x200)];if(!_0x2b0392[_0x3b87cf(0x2d0)]()){alert(_0x3b87cf(0x269));return;}const _0x1d2823=_0x181fb5[_0x3b87cf(0x2e1)](_0x3b87cf(0x1d1)),_0x55e12a=parseInt(_0x181fb5[_0x3b87cf(0x319)](_0x3b87cf(0x29c))[_0x3b87cf(0x200)]),_0xa35f10=_0x181fb5[_0x3b87cf(0x319)](_0x3b87cf(0x1c1))[_0x3b87cf(0x28c)][0x0];let _0x4484ed='';if(_0xa35f10){const _0x17690a=firebase[_0x3b87cf(0x1a0)]()[_0x3b87cf(0x1a9)](_0x3b87cf(0x292)+currentUser[_0x3b87cf(0x257)]+'/'+Date[_0x3b87cf(0x260)]()+'_'+_0xa35f10[_0x3b87cf(0x1a5)]);await _0x17690a[_0x3b87cf(0x26c)](_0xa35f10),_0x4484ed=await _0x17690a[_0x3b87cf(0x2fa)]();}const _0x412e16=Array[_0x3b87cf(0x182)](_0x1d2823)[_0x3b87cf(0x18f)](_0x5939b9=>({'text':_0x5939b9[_0x3b87cf(0x200)]}));_0x5b497e[_0x3b87cf(0x2df)]({'text':_0x2b0392,'options':_0x412e16,'correctAnswer':_0x55e12a,'imageUrl':_0x4484ed});}db['collection']('exams')[_0x3b87cf(0x1a1)]({'title':_0x289f67,'description':_0x1c9187,'duration':_0x47ee42,'totalMarks':_0x25c202,'questions':_0x5b497e,'createdBy':currentUserData?.[_0x3b87cf(0x1a5)]||currentUser['email'],'createdAt':firebase[_0x3b87cf(0x1f7)]['FieldValue'][_0x3b87cf(0x331)](),'userId':currentUser[_0x3b87cf(0x257)]})[_0x3b87cf(0x25c)](()=>{const _0xbf763c=_0x3b87cf;alert(_0xbf763c(0x33b)),document[_0xbf763c(0x225)]('examForm')['reset'](),document['getElementById'](_0xbf763c(0x1b5))[_0xbf763c(0x29e)]='';})[_0x3b87cf(0x282)](_0x3fd675=>{const _0x43de26=_0x3b87cf;alert(_0x43de26(0x248)+_0x3fd675[_0x43de26(0x1ea)]);});}function startExam(_0xcfb916,_0xa793d3){const _0x14a3e1=_0x496404;if(_0xcfb916[_0x14a3e1(0x193)]&&_0xcfb916[_0x14a3e1(0x193)][_0x14a3e1(0x21f)]>0x0&&!_0xcfb916[_0x14a3e1(0x193)][_0x14a3e1(0x210)](currentUser[_0x14a3e1(0x257)])){alert(_0x14a3e1(0x22a));return;}currentExam={..._0xcfb916,'id':_0xa793d3},currentQuestionIndex=0x0,userAnswers={},timeLeft=_0xcfb916[_0x14a3e1(0x281)]*0x3c,updateTimerDisplay(),timerInterval=setInterval(()=>{timeLeft--,updateTimerDisplay(),timeLeft<=0x0&&(clearInterval(timerInterval),submitExam());},0x3e8),loadQuestion(currentQuestionIndex),document[_0x14a3e1(0x225)](_0x14a3e1(0x329))[_0x14a3e1(0x208)]=_0xcfb916[_0x14a3e1(0x247)],document[_0x14a3e1(0x225)](_0x14a3e1(0x2ac))[_0x14a3e1(0x208)]=_0xcfb916[_0x14a3e1(0x2d7)][_0x14a3e1(0x21f)],document['getElementById'](_0x14a3e1(0x216))[_0x14a3e1(0x208)]=_0xcfb916['totalMarks']||0x64,document[_0x14a3e1(0x225)](_0x14a3e1(0x246))['disabled']=!![],_0xcfb916[_0x14a3e1(0x2d7)]['length']<=0x1?document[_0x14a3e1(0x225)](_0x14a3e1(0x19d))[_0x14a3e1(0x2b3)][_0x14a3e1(0x1e1)]=_0x14a3e1(0x17f):document[_0x14a3e1(0x225)]('nextQuestionBtn')[_0x14a3e1(0x2b3)][_0x14a3e1(0x1e1)]=_0x14a3e1(0x1ce),showPage(takeExamPage);}function loadQuestion(_0x142bd6){const _0x17adae=_0x496404,_0x6afd27=document[_0x17adae(0x225)](_0x17adae(0x185)),_0x1e497c=currentExam['questions'][_0x142bd6];_0x6afd27[_0x17adae(0x29e)]=_0x17adae(0x259)+(_0x142bd6+0x1)+':\x20'+_0x1e497c[_0x17adae(0x168)]+_0x17adae(0x2eb)+(_0x1e497c[_0x17adae(0x2b6)]?_0x17adae(0x324)+_0x1e497c[_0x17adae(0x2b6)]+_0x17adae(0x273):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22options-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e497c[_0x17adae(0x18c)]['map']((_0x173cdd,_0x271893)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22option-label\x20'+(userAnswers[_0x142bd6]===_0x271893?_0x17adae(0x183):'')+_0x17adae(0x19a)+_0x142bd6+_0x17adae(0x290)+_0x271893+_0x17adae(0x1d0)+(userAnswers[_0x142bd6]===_0x271893?'checked':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x173cdd[_0x17adae(0x168)]+_0x17adae(0x1f9))[_0x17adae(0x316)]('')+_0x17adae(0x1bf),document[_0x17adae(0x2e1)](_0x17adae(0x1bd))[_0x17adae(0x1c7)](_0x101ae5=>{const _0x28c04c=_0x17adae;_0x101ae5[_0x28c04c(0x223)](_0x28c04c(0x1cf),function(){const _0x3cd5f0=_0x28c04c;document[_0x3cd5f0(0x2e1)]('.option-label')[_0x3cd5f0(0x1c7)](_0x23ae97=>{const _0x5a329c=_0x3cd5f0;_0x23ae97[_0x5a329c(0x2ec)][_0x5a329c(0x31a)](_0x5a329c(0x183));}),this[_0x3cd5f0(0x2ec)]['add']('selected');const _0x2b7192=this['querySelector'](_0x3cd5f0(0x1a6));_0x2b7192[_0x3cd5f0(0x18b)]=!![],userAnswers[_0x142bd6]=parseInt(_0x2b7192[_0x3cd5f0(0x200)]);});}),document[_0x17adae(0x225)](_0x17adae(0x246))[_0x17adae(0x27c)]=_0x142bd6===0x0,document[_0x17adae(0x225)]('nextQuestionBtn')[_0x17adae(0x27c)]=_0x142bd6===currentExam[_0x17adae(0x2d7)][_0x17adae(0x21f)]-0x1;}function updateTimerDisplay(){const _0x2b7295=_0x496404,_0x5459da=Math[_0x2b7295(0x2d1)](timeLeft/0x3c),_0x34c478=timeLeft%0x3c;document[_0x2b7295(0x225)](_0x2b7295(0x294))[_0x2b7295(0x208)]=_0x5459da+':'+(_0x34c478<0xa?'0':'')+_0x34c478;}function submitExam(){const _0x21d805=_0x496404;clearInterval(timerInterval);let _0x53b540=0x0;currentExam[_0x21d805(0x2d7)][_0x21d805(0x1c7)]((_0xe639fd,_0x306fe9)=>{const _0x3987e5=_0x21d805;userAnswers[_0x306fe9]===_0xe639fd[_0x3987e5(0x2c8)]&&_0x53b540++;});const _0x49b937=currentExam['questions'][_0x21d805(0x21f)],_0x29751b=Math[_0x21d805(0x230)](_0x53b540/_0x49b937*0x64),_0x50c1d9=currentExam[_0x21d805(0x281)]-Math[_0x21d805(0x274)](timeLeft/0x3c),_0x47ed40=currentExam['totalMarks']||0x64,_0x385102=Math['round'](_0x53b540/_0x49b937*_0x47ed40);let _0xe4edab;if(_0x29751b>=0x5a)_0xe4edab=_0x21d805(0x33d);else{if(_0x29751b>=0x4b)_0xe4edab=_0x21d805(0x1a4);else{if(_0x29751b>=0x3c)_0xe4edab=_0x21d805(0x1e5);else{if(_0x29751b>=0x32)_0xe4edab=_0x21d805(0x256);else _0xe4edab=_0x21d805(0x337);}}}db[_0x21d805(0x2b7)](_0x21d805(0x2e3))[_0x21d805(0x1a1)]({'userId':currentUser[_0x21d805(0x257)],'userName':currentUserData?.['name']||currentUser[_0x21d805(0x2f5)],'examId':currentExam['id'],'examTitle':currentExam[_0x21d805(0x247)],'totalMarks':_0x47ed40,'obtainedMarks':_0x385102,'scorePercentage':_0x29751b,'correctAnswers':_0x53b540,'wrongAnswers':_0x49b937-_0x53b540,'timeTaken':_0x50c1d9,'gradeStatus':_0xe4edab,'answers':userAnswers,'submittedAt':firebase[_0x21d805(0x1f7)][_0x21d805(0x1c8)][_0x21d805(0x331)]()}),db[_0x21d805(0x2b7)](_0x21d805(0x32a))[_0x21d805(0x203)](currentUser[_0x21d805(0x257)])[_0x21d805(0x2d5)]({'examsTaken':firebase[_0x21d805(0x1f7)]['FieldValue'][_0x21d805(0x2ee)](0x1),'lastExamTaken':firebase[_0x21d805(0x1f7)]['FieldValue'][_0x21d805(0x331)]()}),showResults(_0x29751b,_0x53b540,_0x49b937-_0x53b540,_0x50c1d9,_0x385102,_0x47ed40);}function _0x3834(){const _0x5214b0=['حذف','.option-label','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grade-excellent','.question-image','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20إجابة\x20صحيحة!\x20أحسنت!\x0a\x20\x20\x20\x20\x20\x20\x20\x20','prevSelfTestQuestionBtn','menuGrades','question-','\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20value=\x22','forEach','FieldValue','fadeOut\x200.5s\x20ease\x20forwards','reload','teacherGradesView','createSlidePage','selfTestCorrectAnswers','inline-block','click','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22option-input\x22\x20','.option-text','<p>','حدث\x20خطأ\x20أثناء\x20تسجيل\x20الدخول:\x20','empty','description','submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x22\x20onclick=\x22deleteStudentAccount(\x27','<tr><td\x20colspan=\x226\x22>حدث\x20خطأ:\x20','loginPassword','div','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20الجيدون\x20(75-89%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','limit','registerForm','exam-card','confirmNo','1043670arAPcs','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p>لا\x20توجد\x20شرائح\x20متاحة\x20حالياً</p>','جيد','loginFormFields','webb-e9fff','.question-text','examTotalMarks','message','725475534624','<p>لا\x20توجد\x20بيانات\x20تقدم\x20متاحة</p>','createdAt','%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','fadeIn\x200.5s\x20ease\x20forwards','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20المتوسطون\x20(60-74%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','href','bulkUploadBtn','isIntersecting','examsTaken','studentsProgressChart','<i\x20class=\x22fas\x20fa-clipboard-list\x22></i>\x20','firestore','exams','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','يرجى\x20ملء\x20جميع\x20الحقول\x20قبل\x20الحفظ.','حدث\x20خطأ\x20أثناء\x20تحديث\x20حالة\x20الطالب:\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20حذف\x20السؤال\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','accountDisabledModal','all','value','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','log','doc','1024047ZUTBQV','asc','read','readAsArrayBuffer','textContent','.toast-close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>نص\x20السؤال</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20question-text\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>خيارات\x20الإجابة</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22options-','userMenu','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20البيانات:\x20','examTitle','slideForm','includes','addOption','nextSelfTestQuestionBtn','parse','userId','.question-container','totalMarks','3025515Taqcqu','exam-card-header','createUserWithEmailAndPassword','cancelDeleteSlideBtn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>متوسط\x20درجات\x20الطلاب</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20الممتازون\x20(90%+)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','createElement','عذرًا،\x20فقط\x20المعلم\x20يمكنه\x20حفظ\x20الاختبارات.','الحد\x20الأقصى\x20للخيارات\x20هو\x205','length','<option\x20value=\x22\x22>جاري\x20تحميل\x20الطلاب...</option>','btn\x20btn-primary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>نص\x20السؤال</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20question-text\x22\x20value=\x22','getElementById','registerRole','outerHeight','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','عذرًا،\x20لا\x20يمكنك\x20بدء\x20هذا\x20الاختبار.\x20لم\x20يتم\x20منحك\x20الإذن.','onload','self-test-card','تعديل','كلمة\x20المرور\x20غير\x20متطابقة','preventDefault','round','<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20','averageGrade','initializeApp','</p>','submitExamBtn','\x22\x20value=\x220\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22النص\x20الأول\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','grade-poor','deleteSlideModal','loginEmail','</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','authButtons','self-test-card-body','observe','change','126FzwENp','resultsDetails','children','confirmDeleteBtn','resultsPage','studentGradesView','slideTitle','prevQuestionBtn','title','حدث\x20خطأ\x20أثناء\x20حفظ\x20الاختبار:\x20','</td></tr>','exam-card-meta','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','يرجى\x20ملء\x20جميع\x20الحقول\x20الخاصة\x20بالأسئلة.','<tr><td\x20colspan=\x226\x22>لا\x20توجد\x20نتائج\x20مسجلة\x20بعد</td></tr>','تفعيل','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>خيارات\x20الإجابة</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22options-','selfTestTitle','examDescription','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','toLowerCase','delete','G-00T9C8CF3C','مقبول','uid','ar-EG','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22question-text\x22>السؤال\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20عرض\x20الدرجات\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x22\x20onclick=\x22toggleStudentStatus(\x27','bulkUploadSelfTestInput','then','login','registerError','selfTestQuestion','now','registerBtn','تم\x20حذف\x20الشريحة\x20بنجاح!','</span>','self-test-card-footer','ctrlKey','correct-answer','flex','feedback-container\x20success','يجب\x20إدخال\x20نص\x20السؤال','.about-content','active','put','معلم','role','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20إضافة\x20خيار\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22remove-btn\x22\x20onclick=\x22removeQuestion(\x27','profileEmail','menuCreateSlide','closeSelfTestResultModal','\x22\x20alt=\x22صورة\x20السؤال\x22\x20class=\x22question-image-preview\x22>','ceil','loginBtn','toLocaleDateString','location','signOut','<p>لا\x20توجد\x20اختبارات\x20متاحة\x20حالياً</p>','split','\x20دقيقة</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','disabled','gradeExamFilter','<option\x20value=\x22\x22>جميع\x20الاختبارات</option>','short','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','duration','catch','gradesModalContent','تم\x20تعطيل\x20حساب\x20الطالب\x20بنجاح!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>السؤال\x20','webb-e9fff.firebasestorage.app','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','بدء\x20الاختبار','userName','السؤال','<tr><td\x20colspan=\x225\x22>جاري\x20تحميل\x20قائمة\x20الطلاب...</td></tr>','files','error','defineProperty','حدث\x20خطأ\x20أثناء\x20حذف\x20الاختبار:\x20','\x22\x20value=\x22','where','exam_images/','authScreens','timeRemaining','هل\x20تريد\x20تعطيل\x20حساب\x20هذا\x20الطالب؟','%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','feedback-container\x20error','selectedOptions','toFixed','%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-fill\x22\x20style=\x22width:\x20','10px','input[name^=\x22correct-\x22]:checked','button','innerHTML','loadingScreen','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22الخيار\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus\x22></i>\x20إضافة\x20خيار\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22remove-btn\x22\x20onclick=\x22removeQuestion(\x27','<p>لا\x20توجد\x20درجات\x20مسجلة\x20لهذا\x20الطالب.</p>','toLocaleTimeString','registerEmail','self-test-card-header','<option\x20value=\x22\x22>حدث\x20خطأ\x20أثناء\x20تحميل\x20الطلاب:\x20','createExamPage','cancelDeleteSelfTestBtn','الإجابة\x20الصحيحة','267864hcCSaK','body','questionCount','selfTestForm','reset','مجهول','<p>لا\x20توجد\x20اختبارات\x20\x22اختبر\x20نفسك\x22\x20متاحة\x20حالياً</p>','scorePercentage','Sheets','style','<p>جاري\x20تحميل\x20الاختبارات...</p>','removeQuestion','imageUrl','collection','loginError','cancelDeleteBtn','options-','replaceWith','question-container','menuDashboard','option-item','DOMContentLoaded','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','feedbackContainer','menuStudents','webb-e9fff.firebaseapp.com','show','<p>حدث\x20خطأ:\x20','حدث\x20خطأ\x20أثناء\x20حذف\x20حساب\x20الطالب:\x20','correctAnswer','studentsPage','<p>جاري\x20تحميل\x20اختبارات\x20\x22اختبر\x20نفسك\x22...</p>','sheet_to_json','<p>جاري\x20تحميل\x20الشرائح...</p>','تم\x20حذف\x20الاختبار\x20بنجاح!','confirmDeleteSelfTestBtn','center','trim','floor','لا\x20يوجد\x20وصف\x20للاختبار','menuManageSelfTest','numeric','update','\x22\x20required>\x0a\x20\x20\x20\x20','questions','orderBy','</p>\x0a\x20\x20\x20\x20','1756344MdKOBe','shiftKey','menuExams','926696LQJUsU','هل\x20أنت\x20متأكد\x20أنك\x20تريد\x20حذف\x20حساب\x20هذا\x20الطالب؟\x20لا\x20يمكن\x20التراجع\x20عن\x20هذا\x20الإجراء.','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','1:725475534624:web:95b07a4d838f55b55f5945','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','slidesGrid','exam-card-body','addQuestionBtn','desc','onsubmit','لم\x20يتم\x20تحديد\x20أي\x20طالب.\x20هل\x20تريد\x20جعل\x20الاختبار\x20متاحًا\x20لجميع\x20الطلاب؟','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span><i\x20class=\x22fas\x20fa-calendar-alt\x22></i>\x20','increment','key','<option\x20value=\x22','recentExams','toDate','teacher','menuCreateExam','email','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','marginRight','contextmenu','registerName','getDownloadURL','btn\x20btn-danger','showRegister','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xlsx','target','profileName','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>نص\x20السؤال</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20question-text\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>خيارات\x20الإجابة</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22options-','result-question','<h3>تقدمي\x20في\x20الاختبارات</h3>','csv','backToExamsBtn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','gradeStatus','registerConfirmPassword','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22option-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22selfTestQuestion_','confirmModal','grade-good','examDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>السؤال\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x20btn-sm\x22\x20onclick=\x22viewStudentGrades(\x27','الخيار\x20','حدث\x20خطأ\x20أثناء\x20تحديث\x20الاختبار:\x20','F12','يرجى\x20رفع\x20ملف\x20بصيغة\x20CSV\x20أو\x20Excel\x20فقط.','<tr><td\x20colspan=\x225\x22>حدث\x20خطأ:\x20','appendChild','join','className','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>الطلاب\x20الضعاف\x20(أقل\x20من\x2060%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','querySelector','remove','keydown','حدث\x20خطأ\x20أثناء\x20حذف\x20الشريحة:\x20','selfTestResultModal','selfTestWrongAnswers','correctAnswers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','selfTestDescription','grade-average','animation','<img\x20src=\x22','slides','bulkUploadInput','menuResults','head','examViewTitle','users','يرجى\x20ملء\x20جميع\x20الحقول\x20المطلوبة.','updateProfile','logoutBtn','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','success','serverTimestamp','studentsTable','aboutSection','loginErrorText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-','هل\x20أنت\x20متأكد\x20من\x20حذف\x20هذا\x20السؤال؟','راسب','تم\x20تعطيل\x20حسابك.\x20يرجى\x20التواصل\x20مع\x20الإدارة.','appContent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22toast-close\x22>&times;</button>\x0a\x20\x20\x20\x20','تم\x20حفظ\x20الاختبار\x20بنجاح!','currentUser','ممتاز','text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>',')</option>','result','dropdownMenu','array','devtools-warning','\x20درجة</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</tbody></table>','1486560ssnhud','<p>جاري\x20تحميل\x20الدرجات...</p>','backgroundColor','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','تم\x20تحديث\x20الاختبار\x20بنجاح!','innerHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20إجابة\x20خاطئة.\x20الإجابة\x20الصحيحة\x20هي:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','btn\x20btn-outline','takeExamPage','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22options-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','profilePage','تم\x20تحميل\x20الأسئلة\x20بنجاح!','<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الشرائح:\x20','none','allGradesTable','حدث\x20خطأ\x20أثناء\x20حفظ\x20الشريحة:\x20','from','selected','examsPage','examQuestionsContainer','confirmDeleteSlideBtn','profileExamsCreated','confirmYes','لم\x20تجب','<tr><td\x20colspan=\x226\x22>جاري\x20تحميل\x20الدرجات...</td></tr>','checked','options','xls','block','map','\x20/\x20','toastContainer','submit','allowedStudents','pop','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','utils','طالب','تم\x20تفعيل\x20حساب\x20الطالب\x20بنجاح!','get','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22question_','<span><i\x20class=\x22fas\x20fa-user\x22></i>\x20','selfTestQuestionsContainer','nextQuestionBtn','toastMessage','deleteExamModal','storage','add','toastText','cloneNode','جيد\x20جداً','name','input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>إجابتك:\x20<span\x20class=\x22','student','ref','%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22grade-badge\x20','selfTests','finishSelfTestBtn','about:blank','scrollIntoView','obtainedMarks','examsCreated','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20حذف\x20السؤال\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-label\x22>صورة\x20السؤال\x20(اختياري)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22file\x22\x20class=\x22form-control\x20question-image\x22\x20accept=\x22image/*\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherDashboard','studentProgressChart','<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الاختبارات:\x20','questionsContainer','registerErrorText','profileExamsTaken','slideContent','exam-card-footer','loginForm','examForm'];_0x3834=function(){return _0x5214b0;};return _0x3834();}function showResults(_0x47124d,_0x49231e,_0x4807ed,_0x522639,_0x28c54e,_0x374230){const _0xca7de7=_0x496404;document[_0xca7de7(0x225)]('finalScore')[_0xca7de7(0x208)]=_0x47124d+'%',document[_0xca7de7(0x225)](_0xca7de7(0x31f))['textContent']=_0x49231e,document[_0xca7de7(0x225)]('wrongAnswers')['textContent']=_0x4807ed,document[_0xca7de7(0x225)]('timeTaken')[_0xca7de7(0x208)]=_0x522639,document[_0xca7de7(0x225)](_0xca7de7(0x1af))[_0xca7de7(0x208)]=_0x28c54e+_0xca7de7(0x190)+_0x374230;const _0x1a8711=document[_0xca7de7(0x225)](_0xca7de7(0x240));_0x1a8711[_0xca7de7(0x29e)]='<h3>تفاصيل\x20الإجابات:</h3>',currentExam['questions']['forEach']((_0x419365,_0x2aa122)=>{const _0x5a4564=_0xca7de7,_0x17f88f=userAnswers[_0x2aa122],_0x33b5ca=_0x17f88f===_0x419365[_0x5a4564(0x2c8)],_0x1d0141=document[_0x5a4564(0x21c)]('div');_0x1d0141[_0x5a4564(0x317)]=_0x5a4564(0x303),_0x1d0141[_0x5a4564(0x29e)]=_0x5a4564(0x285)+(_0x2aa122+0x1)+':</strong>\x20'+_0x419365[_0x5a4564(0x168)]+_0x5a4564(0x1a7)+(_0x33b5ca?_0x5a4564(0x266):'wrong-answer')+_0x5a4564(0x1e3)+(_0x17f88f!==undefined?_0x419365['options'][_0x17f88f][_0x5a4564(0x168)]:_0x5a4564(0x189))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>الإجابة\x20الصحيحة:\x20<span\x20class=\x22correct-answer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x419365['options'][_0x419365[_0x5a4564(0x2c8)]][_0x5a4564(0x168)]+_0x5a4564(0x2fd),_0x1a8711['appendChild'](_0x1d0141);}),showPage(resultsPage);}function viewExamResults(_0x4c10d0){alert('عرض\x20نتائج\x20الاختبار\x20سيكون\x20هنا');}function loadStudentGrades(){const _0x28717e=_0x496404,_0xae8e0d=document[_0x28717e(0x225)]('studentGradesTable');_0xae8e0d[_0x28717e(0x29e)]=_0x28717e(0x18a),db[_0x28717e(0x2b7)](_0x28717e(0x2e3))[_0x28717e(0x291)](_0x28717e(0x214),'==',currentUser[_0x28717e(0x257)])[_0x28717e(0x2d8)](_0x28717e(0x1d6),_0x28717e(0x2e8))[_0x28717e(0x199)]()[_0x28717e(0x25c)](_0x3fd9ea=>{const _0x2363a3=_0x28717e;if(_0x3fd9ea[_0x2363a3(0x1d4)]){_0xae8e0d['innerHTML']=_0x2363a3(0x24d);return;}_0xae8e0d[_0x2363a3(0x29e)]='',_0x3fd9ea[_0x2363a3(0x1c7)](_0x2d5808=>{const _0x57165d=_0x2363a3,_0x4096f8=_0x2d5808['data'](),_0x303a14=_0x4096f8[_0x57165d(0x1d6)]?.[_0x57165d(0x2f2)]()||new Date(),_0x1715e2=_0x303a14['toLocaleDateString']()+'\x20'+_0x303a14[_0x57165d(0x2a3)]();let _0x17a2a4=_0x57165d(0x237);if(_0x4096f8[_0x57165d(0x2b1)]>=0x5a)_0x17a2a4=_0x57165d(0x1c0);else{if(_0x4096f8[_0x57165d(0x2b1)]>=0x4b)_0x17a2a4=_0x57165d(0x30c);else{if(_0x4096f8[_0x57165d(0x2b1)]>=0x3c)_0x17a2a4=_0x57165d(0x322);}}_0xae8e0d[_0x57165d(0x29e)]+=_0x57165d(0x2e4)+_0x4096f8[_0x57165d(0x20e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1715e2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x4096f8[_0x57165d(0x1af)]+_0x57165d(0x190)+_0x4096f8['totalMarks']+_0x57165d(0x287)+_0x4096f8[_0x57165d(0x2b1)]+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22grade-badge\x20'+_0x17a2a4+'\x22>'+_0x4096f8[_0x57165d(0x308)]+_0x57165d(0x23a);});})[_0x28717e(0x282)](_0x13d7a2=>{const _0x4002ee=_0x28717e;_0xae8e0d['innerHTML']=_0x4002ee(0x1d8)+_0x13d7a2[_0x4002ee(0x1ea)]+_0x4002ee(0x249);});}function loadAllGrades(){const _0x573c61=_0x496404,_0x170e85=document[_0x573c61(0x225)](_0x573c61(0x180));_0x170e85[_0x573c61(0x29e)]=_0x573c61(0x18a);const _0x13856d=document[_0x573c61(0x225)](_0x573c61(0x27d));_0x13856d[_0x573c61(0x29e)]=_0x573c61(0x27e),db['collection']('exams')[_0x573c61(0x199)]()[_0x573c61(0x25c)](_0x589f3f=>{const _0x16c016=_0x573c61;return _0x589f3f[_0x16c016(0x1c7)](_0x2192e8=>{const _0x3b93f5=_0x16c016,_0x4c04fc=_0x2192e8[_0x3b93f5(0x32e)]();_0x13856d['innerHTML']+='<option\x20value=\x22'+_0x2192e8['id']+'\x22>'+_0x4c04fc[_0x3b93f5(0x247)]+'</option>';}),loadFilteredGrades();})[_0x573c61(0x282)](_0x4c58fa=>{const _0x37e7e3=_0x573c61;_0x170e85[_0x37e7e3(0x29e)]='<tr><td\x20colspan=\x226\x22>حدث\x20خطأ:\x20'+_0x4c58fa[_0x37e7e3(0x1ea)]+_0x37e7e3(0x249);});}function loadFilteredGrades(){const _0x311439=_0x496404,_0x2dca22=document[_0x311439(0x225)](_0x311439(0x180)),_0x59b5dd=document[_0x311439(0x225)]('gradeExamFilter'),_0x5a8813=_0x59b5dd[_0x311439(0x200)];_0x2dca22['innerHTML']='<tr><td\x20colspan=\x226\x22>جاري\x20تحميل\x20الدرجات...</td></tr>';let _0x22345c=db[_0x311439(0x2b7)]('results')['orderBy']('submittedAt',_0x311439(0x2e8));_0x5a8813&&(_0x22345c=_0x22345c[_0x311439(0x291)]('examId','==',_0x5a8813)),_0x22345c[_0x311439(0x199)]()[_0x311439(0x25c)](_0x116c0f=>{const _0x3d5139=_0x311439;if(_0x116c0f[_0x3d5139(0x1d4)]){_0x2dca22[_0x3d5139(0x29e)]=_0x3d5139(0x24d);return;}_0x2dca22['innerHTML']='',_0x116c0f[_0x3d5139(0x1c7)](_0x37229d=>{const _0x484c25=_0x3d5139,_0x56e8e9=_0x37229d[_0x484c25(0x32e)](),_0x46691c=_0x56e8e9[_0x484c25(0x1d6)]?.[_0x484c25(0x2f2)]()||new Date();let _0x251e30=_0x484c25(0x237);if(_0x56e8e9[_0x484c25(0x2b1)]>=0x5a)_0x251e30=_0x484c25(0x1c0);else{if(_0x56e8e9[_0x484c25(0x2b1)]>=0x4b)_0x251e30=_0x484c25(0x30c);else{if(_0x56e8e9[_0x484c25(0x2b1)]>=0x3c)_0x251e30=_0x484c25(0x322);}}_0x2dca22[_0x484c25(0x29e)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x56e8e9[_0x484c25(0x289)]+_0x484c25(0x301)+_0x56e8e9[_0x484c25(0x20e)]+_0x484c25(0x301)+_0x46691c[_0x484c25(0x276)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x56e8e9[_0x484c25(0x1af)]+'\x20/\x20'+_0x56e8e9['totalMarks']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x56e8e9[_0x484c25(0x2b1)]+_0x484c25(0x1aa)+_0x251e30+'\x22>'+_0x56e8e9[_0x484c25(0x308)]+_0x484c25(0x20c);});})['catch'](_0xed78b0=>{const _0x471f87=_0x311439;_0x2dca22[_0x471f87(0x29e)]='<tr><td\x20colspan=\x226\x22>حدث\x20خطأ:\x20'+_0xed78b0['message']+'</td></tr>';});}function loadSlides(){const _0xc61d1d=_0x496404,_0x493cf0=document[_0xc61d1d(0x225)](_0xc61d1d(0x2e5));_0x493cf0[_0xc61d1d(0x29e)]=_0xc61d1d(0x2cc),db[_0xc61d1d(0x2b7)](_0xc61d1d(0x325))[_0xc61d1d(0x2d8)](_0xc61d1d(0x1ed),'desc')[_0xc61d1d(0x199)]()[_0xc61d1d(0x25c)](_0x3c6fc6=>{const _0x301c11=_0xc61d1d;if(_0x3c6fc6[_0x301c11(0x1d4)]){_0x493cf0[_0x301c11(0x29e)]=_0x301c11(0x1e4);return;}_0x493cf0[_0x301c11(0x29e)]='',_0x3c6fc6[_0x301c11(0x1c7)](_0xffc8ab=>{const _0x3fdc42=_0x301c11,_0x44a93=_0xffc8ab[_0x3fdc42(0x32e)]();_0x493cf0['appendChild'](createSlideCard(_0x44a93,_0xffc8ab['id']));});})['catch'](_0x54ed2d=>{const _0xc491b6=_0xc61d1d;_0x493cf0['innerHTML']=_0xc491b6(0x17e)+_0x54ed2d[_0xc491b6(0x1ea)]+_0xc491b6(0x234);});}function createSlideCard(_0x23a731,_0x5d9bf9){const _0x39bfdc=_0x496404,_0xfd3d31=document['createElement'](_0x39bfdc(0x1da));_0xfd3d31[_0x39bfdc(0x317)]='slide-card';const _0x15b79a=document[_0x39bfdc(0x21c)](_0x39bfdc(0x1da));_0x15b79a[_0x39bfdc(0x317)]='slide-card-header',_0x15b79a[_0x39bfdc(0x29e)]=_0x39bfdc(0x231)+_0x23a731[_0x39bfdc(0x247)];const _0x2aa29f=document[_0x39bfdc(0x21c)](_0x39bfdc(0x1da));_0x2aa29f['className']='slide-card-body',_0x2aa29f[_0x39bfdc(0x29e)]=_0x39bfdc(0x1d2)+(_0x23a731['content']||'لا\x20يوجد\x20محتوى')+'</p>';const _0x31961a=document[_0x39bfdc(0x21c)](_0x39bfdc(0x1da));_0x31961a[_0x39bfdc(0x317)]='slide-card-footer',_0x31961a[_0x39bfdc(0x29e)]=_0x39bfdc(0x19b)+(_0x23a731['createdBy']||_0x39bfdc(0x2af))+_0x39bfdc(0x2ed)+new Date(_0x23a731['createdAt']?.[_0x39bfdc(0x2f2)]())[_0x39bfdc(0x276)]()+_0x39bfdc(0x263);if(userRole===_0x39bfdc(0x2f3)){const _0x5efcc8=document[_0x39bfdc(0x21c)](_0x39bfdc(0x29d));_0x5efcc8['className']=_0x39bfdc(0x2fb),_0x5efcc8[_0x39bfdc(0x208)]=_0x39bfdc(0x1bc),_0x5efcc8[_0x39bfdc(0x223)](_0x39bfdc(0x1cf),()=>confirmDeleteSlide(_0x5d9bf9)),_0x31961a[_0x39bfdc(0x315)](_0x5efcc8);}return _0xfd3d31[_0x39bfdc(0x315)](_0x15b79a),_0xfd3d31['appendChild'](_0x2aa29f),_0xfd3d31[_0x39bfdc(0x315)](_0x31961a),_0xfd3d31;}function loadStudents(){const _0x42d8ad=_0x496404,_0x357bf9=document[_0x42d8ad(0x225)](_0x42d8ad(0x332));_0x357bf9[_0x42d8ad(0x29e)]=_0x42d8ad(0x28b),db[_0x42d8ad(0x2b7)](_0x42d8ad(0x32a))[_0x42d8ad(0x291)](_0x42d8ad(0x26e),'==',_0x42d8ad(0x1a8))['get']()[_0x42d8ad(0x25c)](_0xb72b49=>{const _0x5d2fc9=_0x42d8ad;if(_0xb72b49[_0x5d2fc9(0x1d4)]){_0x357bf9[_0x5d2fc9(0x29e)]='<tr><td\x20colspan=\x225\x22>لا\x20يوجد\x20طلاب\x20مسجلين\x20بعد</td></tr>';return;}_0x357bf9['innerHTML']='';const _0x523177=[];_0xb72b49[_0x5d2fc9(0x1c7)](_0x168a8f=>{const _0x321d09=_0x5d2fc9,_0x4a9431=_0x168a8f['data']();_0x4a9431['id']=_0x168a8f['id'],_0x523177[_0x321d09(0x2df)](_0x4a9431);});const _0x35ebd2=_0x523177['map'](_0x18db08=>{const _0x30e509=_0x5d2fc9;return db[_0x30e509(0x2b7)](_0x30e509(0x2e3))['where']('userId','==',_0x18db08['id'])[_0x30e509(0x199)]()['then'](_0x4ebae=>{const _0x15c3f9=_0x30e509;let _0x364c9d=0x0,_0x595cac=0x0;return _0x4ebae[_0x15c3f9(0x1c7)](_0x1aa27c=>{const _0x2dd670=_0x15c3f9,_0xc3061c=_0x1aa27c[_0x2dd670(0x32e)]();_0x364c9d+=_0xc3061c['scorePercentage'],_0x595cac++;}),_0x18db08['averageGrade']=_0x595cac>0x0?(_0x364c9d/_0x595cac)[_0x15c3f9(0x299)](0x2):null,_0x18db08;});});Promise[_0x5d2fc9(0x1ff)](_0x35ebd2)[_0x5d2fc9(0x25c)](_0x41af9e=>{const _0x2f3ce7=_0x5d2fc9;_0x41af9e[_0x2f3ce7(0x1c7)](_0x19639a=>{const _0x489953=_0x2f3ce7;_0x357bf9['innerHTML']+=_0x489953(0x32f)+_0x19639a['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x19639a[_0x489953(0x2f5)]+_0x489953(0x169)+(_0x19639a[_0x489953(0x1f4)]||0x0)+_0x489953(0x169)+(_0x19639a[_0x489953(0x232)]?_0x19639a['averageGrade']+'%':'لا\x20يوجد\x20بيانات')+_0x489953(0x30f)+_0x19639a['id']+_0x489953(0x25a)+_0x19639a['id']+'\x27,\x20'+(_0x19639a[_0x489953(0x27c)]||![])+_0x489953(0x229)+(_0x19639a[_0x489953(0x27c)]?_0x489953(0x24e):'تعطيل')+_0x489953(0x1d7)+_0x19639a['id']+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x20حذف\x20الحساب\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});});})['catch'](_0x50f295=>{const _0x2cee9b=_0x42d8ad;_0x357bf9[_0x2cee9b(0x29e)]=_0x2cee9b(0x314)+_0x50f295[_0x2cee9b(0x1ea)]+_0x2cee9b(0x249);});}function deleteStudentAccount(_0x3e4c2e){const _0x1b4547=_0x496404;if(!confirm(_0x1b4547(0x2de)))return;db[_0x1b4547(0x2b7)](_0x1b4547(0x32a))['doc'](_0x3e4c2e)[_0x1b4547(0x254)]()[_0x1b4547(0x25c)](()=>{alert('تم\x20حذف\x20حساب\x20الطالب\x20بنجاح!'),loadStudents();})[_0x1b4547(0x282)](_0xd923c6=>{const _0x57950d=_0x1b4547;alert(_0x57950d(0x2c7)+_0xd923c6[_0x57950d(0x1ea)]);});}function toggleStudentStatus(_0x618313,_0x532b37){const _0x53be4b=_0x496404,_0x163c79=_0x532b37?'هل\x20تريد\x20تفعيل\x20حساب\x20هذا\x20الطالب؟':_0x53be4b(0x295);if(!confirm(_0x163c79))return;db[_0x53be4b(0x2b7)](_0x53be4b(0x32a))['doc'](_0x618313)[_0x53be4b(0x2d5)]({'disabled':!_0x532b37})['then'](()=>{const _0xaf7032=_0x53be4b;alert(_0x532b37?_0xaf7032(0x198):_0xaf7032(0x284)),loadStudents();})[_0x53be4b(0x282)](_0x203ee2=>{const _0x552962=_0x53be4b;alert(_0x552962(0x1fc)+_0x203ee2['message']);});}window['viewStudentGrades']=function(_0x2dd0f5){const _0x408682=_0x496404,_0x612747=document[_0x408682(0x225)]('gradesModal'),_0x4deedb=document[_0x408682(0x225)](_0x408682(0x283));_0x612747[_0x408682(0x2b3)][_0x408682(0x1e1)]=_0x408682(0x267),_0x4deedb['innerHTML']=_0x408682(0x172),db[_0x408682(0x2b7)](_0x408682(0x2e3))[_0x408682(0x291)]('userId','==',_0x2dd0f5)[_0x408682(0x2d8)](_0x408682(0x1d6),_0x408682(0x2e8))[_0x408682(0x199)]()[_0x408682(0x25c)](_0x5e77bf=>{const _0x249936=_0x408682;if(_0x5e77bf['empty']){_0x4deedb['innerHTML']=_0x249936(0x2a2);return;}let _0x419b2f='<h3>درجات\x20الطالب</h3><table\x20class=\x22grades-table\x22><thead><tr><th>اسم\x20الاختبار</th><th>التاريخ\x20والوقت</th><th>الدرجة</th><th>النسبة\x20المئوية</th><th>الحالة</th></tr></thead><tbody>';_0x5e77bf['forEach'](_0x545f37=>{const _0x1f9b87=_0x249936,_0x171329=_0x545f37[_0x1f9b87(0x32e)](),_0x64a1ee=_0x171329[_0x1f9b87(0x1d6)]?.['toDate']()||new Date(),_0xb25ed9=_0x64a1ee[_0x1f9b87(0x276)]()+'\x20'+_0x64a1ee['toLocaleTimeString']();_0x419b2f+=_0x1f9b87(0x2e4)+_0x171329[_0x1f9b87(0x20e)]+_0x1f9b87(0x287)+_0xb25ed9+_0x1f9b87(0x287)+_0x171329[_0x1f9b87(0x1af)]+'\x20/\x20'+_0x171329[_0x1f9b87(0x216)]+_0x1f9b87(0x287)+_0x171329[_0x1f9b87(0x2b1)]+_0x1f9b87(0x1ee)+_0x171329['gradeStatus']+_0x1f9b87(0x2c0);}),_0x419b2f+=_0x249936(0x170),_0x4deedb[_0x249936(0x29e)]=_0x419b2f;})[_0x408682(0x282)](_0x3641c5=>{const _0x324dd5=_0x408682;_0x4deedb[_0x324dd5(0x29e)]='<p>حدث\x20خطأ\x20أثناء\x20تحميل\x20الدرجات:\x20'+_0x3641c5[_0x324dd5(0x1ea)]+_0x324dd5(0x234);});};function loadStudentProgress(){const _0x75cf12=_0x496404,_0x4e4cae=document[_0x75cf12(0x225)](_0x75cf12(0x1b3));_0x4e4cae[_0x75cf12(0x29e)]='<p>جاري\x20تحميل\x20بيانات\x20التقدم...</p>',db['collection'](_0x75cf12(0x2e3))[_0x75cf12(0x291)](_0x75cf12(0x214),'==',currentUser[_0x75cf12(0x257)])['orderBy']('submittedAt',_0x75cf12(0x205))[_0x75cf12(0x199)]()['then'](_0x1eb5e1=>{const _0x4939ad=_0x75cf12;if(_0x1eb5e1[_0x4939ad(0x1d4)]){_0x4e4cae[_0x4939ad(0x29e)]=_0x4939ad(0x1ec);return;}const _0x5b76da=[];_0x1eb5e1[_0x4939ad(0x1c7)](_0x3662bb=>{const _0x293a4d=_0x4939ad;_0x5b76da[_0x293a4d(0x2df)](_0x3662bb[_0x293a4d(0x32e)]());}),renderStudentProgressChart(_0x5b76da);})['catch'](_0x430b9a=>{const _0xfa0b71=_0x75cf12;_0x4e4cae[_0xfa0b71(0x29e)]=_0xfa0b71(0x2c6)+_0x430b9a[_0xfa0b71(0x1ea)]+_0xfa0b71(0x234);});}function renderStudentProgressChart(_0x52cef1){const _0x5a3252=_0x496404,_0x36dfce=document[_0x5a3252(0x225)](_0x5a3252(0x1b3));if(_0x52cef1[_0x5a3252(0x21f)]===0x0){_0x36dfce['innerHTML']=_0x5a3252(0x1ec);return;}let _0x328769=_0x5a3252(0x304);_0x52cef1[_0x5a3252(0x1c7)]((_0x42f2bc,_0x49e88a)=>{const _0x5106d7=_0x5a3252,_0x2faddc=_0x42f2bc[_0x5106d7(0x1d6)]?.[_0x5106d7(0x2f2)]()||new Date(),_0x24bb83=_0x2faddc[_0x5106d7(0x276)](_0x5106d7(0x258),{'month':_0x5106d7(0x27f),'day':_0x5106d7(0x2d4)});_0x328769+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x42f2bc[_0x5106d7(0x20e)]+_0x5106d7(0x201)+_0x42f2bc[_0x5106d7(0x2b1)]+_0x5106d7(0x29a)+_0x42f2bc[_0x5106d7(0x2b1)]+_0x5106d7(0x195);}),_0x36dfce[_0x5a3252(0x29e)]=_0x328769;}function loadStudentsProgress(){const _0x2d752b=_0x496404,_0x1fde9c=document[_0x2d752b(0x225)](_0x2d752b(0x1f5));_0x1fde9c[_0x2d752b(0x29e)]='<p>جاري\x20تحميل\x20بيانات\x20تقدم\x20الطلاب...</p>',db[_0x2d752b(0x2b7)](_0x2d752b(0x2e3))['get']()['then'](_0x55bf68=>{const _0x460447=_0x2d752b;if(_0x55bf68[_0x460447(0x1d4)]){_0x1fde9c[_0x460447(0x29e)]=_0x460447(0x1ec);return;}let _0x2da167=0x0,_0x402623=0x0,_0x2270c6=0x0,_0x221d33=0x0;const _0x57922d=_0x55bf68['size'];_0x55bf68[_0x460447(0x1c7)](_0x2d8b42=>{const _0x123033=_0x460447,_0x2f4401=_0x2d8b42[_0x123033(0x32e)](),_0x418fe3=_0x2f4401[_0x123033(0x2b1)];if(_0x418fe3>=0x5a)_0x2da167++;else{if(_0x418fe3>=0x4b)_0x402623++;else _0x418fe3>=0x3c?_0x2270c6++:_0x221d33++;}});const _0x10ede3=Math[_0x460447(0x230)](_0x2da167/_0x57922d*0x64),_0x19486a=Math[_0x460447(0x230)](_0x402623/_0x57922d*0x64),_0x1dd376=Math[_0x460447(0x230)](_0x2270c6/_0x57922d*0x64),_0x48af50=Math[_0x460447(0x230)](_0x221d33/_0x57922d*0x64);_0x1fde9c[_0x460447(0x29e)]=_0x460447(0x21b)+_0x10ede3+_0x460447(0x296)+_0x10ede3+_0x460447(0x1db)+_0x19486a+_0x460447(0x296)+_0x19486a+_0x460447(0x1f0)+_0x1dd376+_0x460447(0x296)+_0x1dd376+_0x460447(0x318)+_0x48af50+_0x460447(0x296)+_0x48af50+_0x460447(0x228);})[_0x2d752b(0x282)](_0x32c83c=>{const _0x595877=_0x2d752b;_0x1fde9c[_0x595877(0x29e)]=_0x595877(0x20d)+_0x32c83c[_0x595877(0x1ea)]+_0x595877(0x234);});}function addQuestion(){const _0xaa26d3=_0x496404,_0x2e66a1=document[_0xaa26d3(0x225)](_0xaa26d3(0x1b5)),_0x51189d=Date[_0xaa26d3(0x260)](),_0x2d895a=document['createElement']('div');_0x2d895a[_0xaa26d3(0x317)]=_0xaa26d3(0x2bc),_0x2d895a['id']=_0xaa26d3(0x1c5)+_0x51189d,_0x2d895a['innerHTML']=_0xaa26d3(0x302)+_0x51189d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22option-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-'+_0x51189d+_0xaa26d3(0x236)+_0x51189d+'\x22\x20value=\x221\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22النص\x20الثاني\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22add-btn\x22\x20onclick=\x22addOption(\x27'+_0x51189d+_0xaa26d3(0x26f)+_0x51189d+_0xaa26d3(0x1b1),_0x2e66a1[_0xaa26d3(0x315)](_0x2d895a);}window[_0x496404(0x211)]=function(_0x3a62c7){const _0x4dfba4=_0x496404,_0x3b87f5=document[_0x4dfba4(0x225)](_0x4dfba4(0x2ba)+_0x3a62c7),_0x4aced2=_0x3b87f5[_0x4dfba4(0x241)][_0x4dfba4(0x21f)];if(_0x4aced2>=0x5){alert('الحد\x20الأقصى\x20للخيارات\x20هو\x205');return;}const _0x45c1a1=document[_0x4dfba4(0x21c)]('div');_0x45c1a1[_0x4dfba4(0x317)]=_0x4dfba4(0x2be),_0x45c1a1['innerHTML']=_0x4dfba4(0x252)+_0x3a62c7+_0x4dfba4(0x290)+_0x4aced2+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20option-text\x22\x20placeholder=\x22النص\x20'+(_0x4aced2+0x1)+_0x4dfba4(0x174),_0x3b87f5[_0x4dfba4(0x315)](_0x45c1a1);},window[_0x496404(0x2b5)]=function(_0xa34714){const _0x111fe5=_0x496404,_0x445afb=document['getElementById'](_0x111fe5(0x1c5)+_0xa34714);_0x445afb&&confirm('هل\x20أنت\x20متأكد\x20من\x20حذف\x20هذا\x20السؤال؟')&&_0x445afb['remove']();};function loadProfile(){const _0x560edd=_0x496404;document[_0x560edd(0x225)](_0x560edd(0x300))[_0x560edd(0x200)]=currentUserData?.[_0x560edd(0x1a5)]||currentUser['email'],document[_0x560edd(0x225)](_0x560edd(0x270))[_0x560edd(0x200)]=currentUser[_0x560edd(0x2f5)],document[_0x560edd(0x225)]('profileRole')['value']=userRole===_0x560edd(0x2f3)?_0x560edd(0x26d):_0x560edd(0x197),db[_0x560edd(0x2b7)](_0x560edd(0x32a))['doc'](currentUser[_0x560edd(0x257)])[_0x560edd(0x199)]()[_0x560edd(0x25c)](_0x1db834=>{const _0x5bdeb9=_0x560edd,_0x144b79=_0x1db834[_0x5bdeb9(0x32e)]();document['getElementById'](_0x5bdeb9(0x187))[_0x5bdeb9(0x200)]=_0x144b79?.[_0x5bdeb9(0x1b0)]||0x0,document['getElementById'](_0x5bdeb9(0x1b7))['value']=_0x144b79?.[_0x5bdeb9(0x1f4)]||0x0;});}loginBtn[_0x496404(0x223)](_0x496404(0x1cf),()=>showAuthForm(_0x496404(0x25d))),registerBtn[_0x496404(0x223)](_0x496404(0x1cf),()=>showAuthForm('register')),showLogin[_0x496404(0x223)](_0x496404(0x1cf),_0x304828=>{_0x304828['preventDefault'](),showAuthForm('login');}),showRegister[_0x496404(0x223)](_0x496404(0x1cf),_0x31f7b9=>{_0x31f7b9['preventDefault'](),showAuthForm('register');}),document[_0x496404(0x225)](_0x496404(0x1e6))['addEventListener'](_0x496404(0x192),_0x42836e=>{const _0x392577=_0x496404;_0x42836e[_0x392577(0x22f)]();const _0x270d80=document[_0x392577(0x225)](_0x392577(0x239))[_0x392577(0x200)],_0x16e48e=document['getElementById'](_0x392577(0x1d9))[_0x392577(0x200)],_0x1b65fe=document[_0x392577(0x225)](_0x392577(0x2b8)),_0x295faf=document[_0x392577(0x225)](_0x392577(0x334));auth['signInWithEmailAndPassword'](_0x270d80,_0x16e48e)[_0x392577(0x25c)](_0x1803fb=>{const _0x42c911=_0x392577,_0x4d87b0=_0x1803fb[_0x42c911(0x1be)]['uid'];return db['collection'](_0x42c911(0x32a))[_0x42c911(0x203)](_0x4d87b0)[_0x42c911(0x199)]();})[_0x392577(0x25c)](_0x4bfb73=>{const _0x1a4ed4=_0x392577;_0x4bfb73[_0x1a4ed4(0x1fa)]&&_0x4bfb73[_0x1a4ed4(0x32e)]()[_0x1a4ed4(0x27c)]?(alert(_0x1a4ed4(0x338)),auth[_0x1a4ed4(0x278)]()):location[_0x1a4ed4(0x1ca)]();})[_0x392577(0x282)](_0x13027e=>{const _0x5a7519=_0x392577;alert(_0x5a7519(0x1d3)+_0x13027e['message']);});}),document['getElementById']('registerFormFields')[_0x496404(0x223)](_0x496404(0x192),_0x26769a=>{const _0x1f4428=_0x496404;_0x26769a[_0x1f4428(0x22f)]();const _0x5e969f=document['getElementById'](_0x1f4428(0x2f9))[_0x1f4428(0x200)],_0x1e5f39=document[_0x1f4428(0x225)](_0x1f4428(0x2a4))[_0x1f4428(0x200)],_0x4ec75e=document[_0x1f4428(0x225)]('registerPassword')[_0x1f4428(0x200)],_0x19cd42=document[_0x1f4428(0x225)](_0x1f4428(0x309))['value'],_0x4eaf2d=document[_0x1f4428(0x225)](_0x1f4428(0x226))[_0x1f4428(0x200)],_0x5547cf=document['getElementById'](_0x1f4428(0x25e)),_0x2ce8ee=document[_0x1f4428(0x225)](_0x1f4428(0x1b6));if(_0x4ec75e!==_0x19cd42){_0x2ce8ee[_0x1f4428(0x208)]=_0x1f4428(0x22e),_0x5547cf[_0x1f4428(0x2b3)][_0x1f4428(0x1e1)]=_0x1f4428(0x267);return;}auth[_0x1f4428(0x219)](_0x1e5f39,_0x4ec75e)['then'](_0x3c58ed=>{const _0x25fedd=_0x1f4428;return db[_0x25fedd(0x2b7)]('users')[_0x25fedd(0x203)](_0x3c58ed[_0x25fedd(0x1be)][_0x25fedd(0x257)])['set']({'name':_0x5e969f,'email':_0x1e5f39,'role':_0x4eaf2d,'createdAt':firebase[_0x25fedd(0x1f7)]['FieldValue'][_0x25fedd(0x331)](),'examsCreated':0x0,'examsTaken':0x0});})[_0x1f4428(0x25c)](()=>{const _0x2dd1d1=_0x1f4428;return auth[_0x2dd1d1(0x33c)][_0x2dd1d1(0x32c)]({'displayName':_0x5e969f});})['then'](()=>{})['catch'](_0x270941=>{const _0x53388a=_0x1f4428;_0x2ce8ee[_0x53388a(0x208)]=_0x270941[_0x53388a(0x1ea)],_0x5547cf[_0x53388a(0x2b3)]['display']=_0x53388a(0x267);});}),logoutBtn['addEventListener'](_0x496404(0x1cf),()=>{const _0x21c893=_0x496404;auth[_0x21c893(0x278)]();}),menuDashboard[_0x496404(0x223)](_0x496404(0x1cf),_0x5af988=>{const _0x1dff38=_0x496404;_0x5af988[_0x1dff38(0x22f)](),setActiveMenuItem(menuDashboard),loadDashboard();}),menuExams['addEventListener'](_0x496404(0x1cf),_0x2c739b=>{_0x2c739b['preventDefault'](),setActiveMenuItem(menuExams),showPage(examsPage),loadAllExams();}),menuCreateExam[_0x496404(0x223)](_0x496404(0x1cf),_0x13c424=>{const _0x3c02bf=_0x496404;_0x13c424[_0x3c02bf(0x22f)](),setActiveMenuItem(menuCreateExam),showPage(createExamPage);}),menuCreateSlide[_0x496404(0x223)](_0x496404(0x1cf),_0x242ae0=>{const _0x150c0b=_0x496404;_0x242ae0[_0x150c0b(0x22f)](),setActiveMenuItem(menuCreateSlide),showPage(createSlidePage);}),menuResults[_0x496404(0x223)]('click',_0x377c83=>{const _0x294f08=_0x496404;_0x377c83[_0x294f08(0x22f)](),setActiveMenuItem(menuResults),showPage(resultsPage);}),menuGrades[_0x496404(0x223)](_0x496404(0x1cf),_0xbe5410=>{const _0x4db263=_0x496404;_0xbe5410[_0x4db263(0x22f)](),setActiveMenuItem(menuGrades),showPage(gradesPage),userRole===_0x4db263(0x2f3)?loadAllGrades():(loadStudentGrades(),loadStudentProgress());}),menuStudents[_0x496404(0x223)](_0x496404(0x1cf),_0x11e9c1=>{const _0x1abc9f=_0x496404;_0x11e9c1[_0x1abc9f(0x22f)](),setActiveMenuItem(menuStudents),showPage(studentsPage),loadStudents();}),menuProfile[_0x496404(0x223)](_0x496404(0x1cf),_0x19b045=>{_0x19b045['preventDefault'](),setActiveMenuItem(menuProfile),showPage(profilePage),loadProfile();}),document[_0x496404(0x225)](_0x496404(0x246))['addEventListener']('click',()=>{currentQuestionIndex>0x0&&(currentQuestionIndex--,loadQuestion(currentQuestionIndex));}),document['getElementById'](_0x496404(0x19d))['addEventListener']('click',()=>{const _0x534044=_0x496404;currentQuestionIndex<currentExam[_0x534044(0x2d7)][_0x534044(0x21f)]-0x1&&(currentQuestionIndex++,loadQuestion(currentQuestionIndex));}),document[_0x496404(0x225)](_0x496404(0x306))[_0x496404(0x223)](_0x496404(0x1cf),()=>{setActiveMenuItem(menuExams),showPage(examsPage),loadAllExams();}),document[_0x496404(0x225)](_0x496404(0x27d))[_0x496404(0x223)](_0x496404(0x23e),loadFilteredGrades),document[_0x496404(0x225)](_0x496404(0x2e7))[_0x496404(0x223)]('click',addQuestion),document['getElementById'](_0x496404(0x1bb))[_0x496404(0x223)](_0x496404(0x192),saveExam),document[_0x496404(0x225)](_0x496404(0x20f))[_0x496404(0x223)](_0x496404(0x192),async _0x210a4e=>{const _0x3bdb35=_0x496404;_0x210a4e[_0x3bdb35(0x22f)]();const _0x4fce30=document[_0x3bdb35(0x225)](_0x3bdb35(0x245))[_0x3bdb35(0x200)][_0x3bdb35(0x2d0)](),_0x1f0af8=document[_0x3bdb35(0x225)](_0x3bdb35(0x1b8))[_0x3bdb35(0x200)][_0x3bdb35(0x2d0)]();if(!_0x4fce30||!_0x1f0af8){alert(_0x3bdb35(0x1fb));return;}try{await db[_0x3bdb35(0x2b7)](_0x3bdb35(0x325))[_0x3bdb35(0x1a1)]({'title':_0x4fce30,'content':_0x1f0af8,'createdBy':currentUserData?.[_0x3bdb35(0x1a5)]||currentUser[_0x3bdb35(0x2f5)],'createdAt':firebase['firestore'][_0x3bdb35(0x1c8)]['serverTimestamp'](),'userId':currentUser[_0x3bdb35(0x257)]});const _0x2ec9e2=document['getElementById']('slideCreationSuccess');_0x2ec9e2[_0x3bdb35(0x2b3)][_0x3bdb35(0x1e1)]='flex',document[_0x3bdb35(0x225)](_0x3bdb35(0x20f))[_0x3bdb35(0x2ae)](),setTimeout(()=>{const _0xee42f2=_0x3bdb35;_0x2ec9e2['style'][_0xee42f2(0x1e1)]=_0xee42f2(0x17f);},0xbb8);}catch(_0x3d7d9c){alert(_0x3bdb35(0x181)+_0x3d7d9c[_0x3bdb35(0x1ea)]);}}),document[_0x496404(0x223)](_0x496404(0x2bf),()=>{const _0x35e03e=_0x496404,_0x335e70=document['querySelector'](_0x35e03e(0x26a)),_0x2653b5=new IntersectionObserver(_0x40c51b=>{const _0x117440=_0x35e03e;_0x40c51b[_0x117440(0x1c7)](_0x22ca2a=>{const _0x2e2253=_0x117440;_0x22ca2a[_0x2e2253(0x1f3)]&&_0x335e70['classList'][_0x2e2253(0x1a1)]('visible');});});_0x2653b5[_0x35e03e(0x23d)](_0x335e70);}),initApp(),(function(){const _0x4ca2cc=_0x496404;let _0x3d4c18=![];function _0x5897fe(){const _0x38a732=_0x3c1d,_0x59d6a7=document['createElement'](_0x38a732(0x2b3));_0x59d6a7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20.devtools-warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(to\x20bottom\x20right,\x20#d10000,\x20#3b0000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Segoe\x20UI\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x20999999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x20/*\x20الرسالة\x20مخفية\x20بشكل\x20افتراضي\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20.devtools-warning.show\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20/*\x20تظهر\x20الرسالة\x20عندما\x20يتم\x20اكتشاف\x20أدوات\x20المطور\x20*/\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',document[_0x38a732(0x328)][_0x38a732(0x315)](_0x59d6a7);}function _0x451395(){const _0x3bf1d6=_0x3c1d,_0x4c5d0e=document['createElement'](_0x3bf1d6(0x1da));_0x4c5d0e[_0x3bf1d6(0x317)]=_0x3bf1d6(0x16e),_0x4c5d0e['id']=_0x3bf1d6(0x16e),_0x4c5d0e[_0x3bf1d6(0x208)]='🚨\x20تم\x20كشف\x20أدوات\x20المطور!\x20سيتم\x20إغلاق\x20الصفحة\x20لحمايتك.',document[_0x3bf1d6(0x2ab)][_0x3bf1d6(0x315)](_0x4c5d0e);}function _0x17a643(){const _0x1cc41d=_0x3c1d;if(_0x3d4c18)return;_0x3d4c18=!![];const _0x6de230=document[_0x1cc41d(0x225)]('devtools-warning');_0x6de230&&(_0x6de230['classList'][_0x1cc41d(0x1a1)](_0x1cc41d(0x2c5)),setTimeout(()=>{const _0x591641=_0x1cc41d;window[_0x591641(0x277)][_0x591641(0x1f1)]=_0x591641(0x1ad);},0x9c4));}function _0x17228c(){const _0x5706f1=_0x3c1d,_0x577d09=performance['now']();debugger;const _0x135e3d=performance[_0x5706f1(0x260)]();_0x135e3d-_0x577d09>0x64&&_0x17a643();const _0x56e31a=new Image();Object[_0x5706f1(0x28e)](_0x56e31a,'id',{'get':function(){_0x17a643();}}),console[_0x5706f1(0x202)](_0x56e31a);}function _0x5d755b(){const _0x1807f2=_0x3c1d,_0x459879=window[_0x1807f2(0x227)]-window[_0x1807f2(0x176)]>0xa0;_0x459879&&_0x17a643();}function _0x5b33c9(){const _0x23bfb4=_0x3c1d;document[_0x23bfb4(0x223)](_0x23bfb4(0x31b),function(_0x5025a8){const _0x74dd4c=_0x23bfb4;(_0x5025a8[_0x74dd4c(0x2ef)]===_0x74dd4c(0x312)||_0x5025a8['ctrlKey']&&_0x5025a8[_0x74dd4c(0x2db)]&&['I','J','C'][_0x74dd4c(0x210)](_0x5025a8[_0x74dd4c(0x2ef)])||_0x5025a8[_0x74dd4c(0x265)]&&_0x5025a8[_0x74dd4c(0x2ef)]==='U')&&(_0x5025a8['preventDefault'](),_0x17a643());}),document['addEventListener'](_0x23bfb4(0x2f8),function(_0x51f55f){const _0x5416c0=_0x23bfb4;_0x51f55f[_0x5416c0(0x22f)]();});}function _0x335b3a(){_0x5897fe(),_0x451395(),_0x5b33c9(),setInterval(()=>{_0x17228c(),_0x5d755b();},0x3e8);}window[_0x4ca2cc(0x223)](_0x4ca2cc(0x2bf),_0x335b3a);}());
    </script>

</body>
</html>
